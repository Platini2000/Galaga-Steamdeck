const _0x4b4af5=_0x514e;(function(_0x2e4d8c,_0x15066c){const _0x41bf56=_0x514e,_0x172585=_0x2e4d8c();while(!![]){try{const _0x23fe94=-parseInt(_0x41bf56(0x191))/0x1+parseInt(_0x41bf56(0xf2))/0x2*(-parseInt(_0x41bf56(0x102))/0x3)+parseInt(_0x41bf56(0x116))/0x4+parseInt(_0x41bf56(0x149))/0x5+parseInt(_0x41bf56(0x13e))/0x6+-parseInt(_0x41bf56(0x177))/0x7*(-parseInt(_0x41bf56(0x12e))/0x8)+-parseInt(_0x41bf56(0x10d))/0x9;if(_0x23fe94===_0x15066c)break;else _0x172585['push'](_0x172585['shift']());}catch(_0x134427){_0x172585['push'](_0x172585['shift']());}}}(_0x42c2,0xbf54a));const ENEMY1_TYPE=_0x4b4af5(0x12d),ENEMY2_TYPE=_0x4b4af5(0x137),ENEMY3_TYPE=_0x4b4af5(0x1b3),ENEMY_WIDTH=0x28,ENEMY_HEIGHT=0x28,ENEMY1_SCALE_FACTOR=1.33,ENEMY1_WIDTH=Math[_0x4b4af5(0x129)](ENEMY_WIDTH*ENEMY1_SCALE_FACTOR),ENEMY1_HEIGHT=Math['round'](ENEMY_HEIGHT*ENEMY1_SCALE_FACTOR),BOSS_SCALE_FACTOR=1.5,BOSS_WIDTH=Math['round'](ENEMY_WIDTH*BOSS_SCALE_FACTOR),BOSS_HEIGHT=Math[_0x4b4af5(0x129)](ENEMY_HEIGHT*BOSS_SCALE_FACTOR),SHIP_WIDTH=0x32,SHIP_HEIGHT=0x32,SHIP_BOTTOM_MARGIN=0x1e,SHIP_MOVE_SPEED=0xa,CHALLENGING_STAGE_ENEMY_COUNT=0x28,CHALLENGING_STAGE_SQUADRON_SIZE=0x5,CHALLENGING_STAGE_SQUADRON_COUNT=CHALLENGING_STAGE_ENEMY_COUNT/CHALLENGING_STAGE_SQUADRON_SIZE,BASE_CS_SPEED_MULTIPLIER=4.2,MAX_CS_SPEED_MULTIPLIER=0x5,CS_HORIZONTAL_FLYBY_SPEED_FACTOR=0.35,CS_ENEMY_SPAWN_DELAY_IN_SQUADRON=0x50,CS_HORIZONTAL_FLYBY_SPAWN_DELAY=-0x19,CS_LOOP_ATTACK_SPAWN_DELAY=0x23,CHALLENGING_STAGE_SQUADRON_INTERVAL=0xbb8,PATH_T_OFFSET_PER_ENEMY=0.05,ENEMY2_MAX_HITS=0x1,ENEMY3_MAX_HITS=0x2,LEVEL_CAP_FOR_SCALING=0x32,BASE_GRID_FIRE_INTERVAL=0xaf0,MIN_GRID_FIRE_INTERVAL=0x2bc,BASE_GRID_FIRE_PROBABILITY=0.04,MAX_GRID_FIRE_PROBABILITY=0.18,BASE_GRID_MAX_FIRING_ENEMIES=0x7,MAX_GRID_MAX_FIRING_ENEMIES=0x10,BASE_RETURN_SPEED_FACTOR=1.5,MAX_RETURN_SPEED_FACTOR=2.5;let starrySkyCanvas,starryCtx,retroGridCanvas,retroGridCtx,gameCanvas,gameCtx,stars=[],gridOffsetY=0x0,isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,highScore=0x4e20,playerLives=0x3,score=0x0,level=0x1,isTwoPlayerMode=![],currentPlayer=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1CompletedLevel=-0x1,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,isFiringModeSelectMode=![],selectedFiringMode=_0x4b4af5(0xf5),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],scoreEarnedThisCS=0x0,player1LifeThresholdsMet=new Set(),player2LifeThresholdsMet=new Set(),isManualControl=![],isShowingDemoText=![],autoStartTimerId=null,gameJustStarted=![],mainLoopId=null,isPlayerSelectMode=![],isShowingIntro=![],introStep=0x0,introDisplayStartTime=0x0,lastMouseMoveResetTime=0x0,isChallengingStage=![],isFullGridWave=![],isWaveTransitioning=![],showCsHitsMessage=![],csHitsMessageStartTime=0x0,showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![];showCsScoreForClearMessage=![];let showReadyMessage=![],readyMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],playerIntroSoundPlayed=![],stageIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',forceCenterShipNextReset=![],isShipCaptured=![],capturingBossId=null,captureBeamActive=![],captureBeamSource={'x':0x0,'y':0x0},captureBeamTargetY=0x0,captureBeamProgress=0x0,captureAttemptMadeThisLevel=![],isWaitingForRespawn=![],respawnTime=0x0,isInvincible=![],invincibilityEndTime=0x0,fallingShips=[],isDualShipActive=![],player1IsDualShipActive=![],player2IsDualShipActive=![],isShowingCaptureMessage=![],captureMessageStartTime=0x0,capturedBossIdWithMessage=null,enemies=[],normalWaveEntrancePaths={},challengingStagePaths={},currentWaveDefinition=null,isEntrancePhaseActive=![],enemySpawnTimeouts=[],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,lastEnemyDetachTime=0x0,gridMoveDirection=0x1,gridMoveSpeed=0.3,lastGridFireCheckTime=0x0,firstEnemyLanded=![],currentGridOffsetX=0x0,challengingStageEnemiesHit=0x0,challengingStageTotalEnemies=CHALLENGING_STAGE_ENEMY_COUNT,isGridBreathingActive=![];gridBreathStartTime=0x0,currentGridBreathFactor=0x0;let ship={'x':0x0,'y':0x0,'width':SHIP_WIDTH,'height':SHIP_HEIGHT,'speed':SHIP_MOVE_SPEED,'targetX':0x0},leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![];p2RightPressed=![],p2ShootPressed=![];let keyboardP1LeftDown=![];keyboardP1RightDown=![],keyboardP1ShootDown=![];let keyboardP2LeftDown=![];keyboardP2RightDown=![],keyboardP2ShootDown=![];let bullets=[],enemyBullets=[],explosions=[],hitSparks=[],playerLastShotTime=0x0,aiLastShotTime=0x0,aiCanShootTime=0x0,connectedGamepadIndex=null,connectedGamepadIndexP2=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],isGridSoundPlaying=![],gridJustCompleted=![],player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,visualOffsetX=-0x14,floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0;csLastHitTime=0x0,csLastChainHitPosition=null;let normalWaveCurrentChainHits=0x0;normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;let squadronCompletionStatus={},squadronEntranceFiringStatus={},isPaused=![],mouseIdleTimerId=null,wasLastGameAIDemo=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![];const shipImage=new Image(),beeImage=new Image(),butterflyImage=new Image(),bossGalagaImage=new Image(),bulletImage=new Image(),enemyBulletImage=new Image(),logoImage=new Image();shipImage[_0x4b4af5(0x182)]=_0x4b4af5(0x193),beeImage['src']='Afbeeldingen/bee.png',bulletImage[_0x4b4af5(0x182)]=_0x4b4af5(0x188),bossGalagaImage[_0x4b4af5(0x182)]=_0x4b4af5(0x180),butterflyImage[_0x4b4af5(0x182)]=_0x4b4af5(0x11f),logoImage[_0x4b4af5(0x182)]='Afbeeldingen/Logo.png',enemyBulletImage['src']=_0x4b4af5(0xe6);const beeImage2=new Image(),butterflyImage2=new Image(),bossGalagaImage2=new Image();beeImage2[_0x4b4af5(0x182)]=_0x4b4af5(0xf4),butterflyImage2[_0x4b4af5(0x182)]=_0x4b4af5(0x173),bossGalagaImage2[_0x4b4af5(0x182)]='Afbeeldingen/bossGalaga-2.png';const level1Image=new Image(),level5Image=new Image(),level10Image=new Image(),level20Image=new Image(),level30Image=new Image(),level50Image=new Image();level1Image[_0x4b4af5(0x182)]='Afbeeldingen/Level-1.png',level5Image[_0x4b4af5(0x182)]=_0x4b4af5(0x178),level10Image[_0x4b4af5(0x182)]=_0x4b4af5(0x1b1),level20Image[_0x4b4af5(0x182)]=_0x4b4af5(0x100),level30Image[_0x4b4af5(0x182)]=_0x4b4af5(0x192),level50Image[_0x4b4af5(0x182)]=_0x4b4af5(0x103);const captureSound=new Audio(_0x4b4af5(0xf9)),shipCapturedSound=new Audio(_0x4b4af5(0x130)),dualShipSound=new Audio(_0x4b4af5(0x13f)),playerShootSound=new Audio(_0x4b4af5(0xe5)),explosionSound=new Audio('Geluiden/kill.mp3'),gameOverSound=new Audio(_0x4b4af5(0x127)),lostLifeSound=new Audio(_0x4b4af5(0x1af)),entranceSound=new Audio(_0x4b4af5(0xfd)),bossGalagaDiveSound=new Audio(_0x4b4af5(0x160)),levelUpSound=new Audio(_0x4b4af5(0x1a4)),enemyShootSound=new Audio(_0x4b4af5(0x12c)),butterflyDiveSound=new Audio(_0x4b4af5(0x16b)),startSound=new Audio('Geluiden/Start.mp3'),coinSound=new Audio(_0x4b4af5(0x13f)),beeHitSound=new Audio(_0x4b4af5(0x198)),butterflyHitSound=new Audio(_0x4b4af5(0x146)),bossHit1Sound=new Audio(_0x4b4af5(0x107)),bossHit2Sound=new Audio(_0x4b4af5(0xe7)),gridBackgroundSound=new Audio(_0x4b4af5(0x123)),extraLifeSound=new Audio('Geluiden/Extra-Leven.mp3'),csPerfectSound=new Audio(_0x4b4af5(0x11e)),csClearSound=new Audio(_0x4b4af5(0x17f)),waveUpSound=new Audio(_0x4b4af5(0x148)),menuMusicSound=new Audio(_0x4b4af5(0x12a)),readySound=new Audio('Geluiden/ready.mp3'),resultsMusicSound=new Audio(_0x4b4af5(0x1b0)),hiScoreSound=new Audio(_0x4b4af5(0xe8));let tripleAttackSound;const BASE_ENEMY_BULLET_SPEED=0x9,MAX_ENEMY_BULLET_SPEED=0x9,BASE_ENEMY_ATTACK_SPEED=5.5,MAX_ENEMY_ATTACK_SPEED=0x8,BASE_MAX_ATTACKING_ENEMIES=0xa,MAX_MAX_ATTACKING_ENEMIES=0x16,BASE_GRID_MOVE_SPEED=0.3,MAX_GRID_MOVE_SPEED=0.7,BASE_GRID_BREATH_CYCLE_MS=0x7d0,MIN_GRID_BREATH_CYCLE_MS=0x3e8,BASE_ENEMY_BULLET_BURST_COUNT=0x1,MAX_ENEMY_BULLET_BURST_COUNT=0x5,BASE_ENEMY_AIM_FACTOR=0.75,MAX_ENEMY_AIM_FACTOR=0.95,BASE_BEE_GROUP_ATTACK_PROBABILITY=0.05,MAX_BEE_GROUP_ATTACK_PROBABILITY=0.4,BASE_BEE_TRIPLE_ATTACK_PROBABILITY=0.1,MAX_BEE_TRIPLE_ATTACK_PROBABILITY=0.5,PLAYER_BULLET_WIDTH=0x5,PLAYER_BULLET_HEIGHT=0xf,PLAYER_BULLET_SPEED=0xe,DUAL_SHIP_BULLET_OFFSET_X=SHIP_WIDTH*0.5,ENEMY_BULLET_WIDTH=0x4,ENEMY_BULLET_HEIGHT=0xc,NUM_STARS=0x1f4,MAX_STAR_RADIUS=1.5,MIN_STAR_RADIUS=0.5,TWINKLE_SPEED=0.015,BASE_PARALLAX_SPEED=0.3,PARALLAX_SPEED_FACTOR=0x2,STAR_FADE_START_FACTOR_ABOVE_HORIZON=0.25,GRID_RGB_PART=_0x4b4af5(0x15d),GRID_BASE_ALPHA=0.8,GRID_MIN_ALPHA=0.3,GRID_FIXED_LINES_ALPHA=0.5,GRID_LINE_COLOR_FIXED='rgba('+GRID_RGB_PART+',\x20'+GRID_FIXED_LINES_ALPHA+')',GRID_LINE_WIDTH=0x2,GRID_SPEED=0.4,GRID_HORIZON_Y_FACTOR=0.74,GRID_BASE_SPACING=0xf,GRID_SPACING_POWER=0x2,GRID_HORIZONTAL_LINE_WIDTH_FACTOR=1.5,GRID_NUM_PERSPECTIVE_LINES=0xe,GRID_HORIZON_SPREAD_FACTOR=1.2,GRID_BOTTOM_SPREAD_FACTOR=0x2,GRID_PERSPECTIVE_POWER=0x1,MENU_INACTIVITY_TIMEOUT=0x4e20,SCORE_SCREEN_DURATION=0x4e20,ENTRANCE_SPEED=0x6,BASE_RETURN_SPEED=ENTRANCE_SPEED,NORMAL_ENTRANCE_PATH_SPEED=0.013934592,BOSS_LOOP_ENTRANCE_PATH_SPEED=0.055738368,ENEMY_SPAWN_DELAY_IN_SQUADRON=0x64,ENTRANCE_PAIR_HORIZONTAL_GAP=0x5,ENTRANCE_PAIR_PATH_T_OFFSET=0x0,NORMAL_WAVE_SQUADRON_INTERVAL=0x708,ENTRANCE_FIRE_BURST_DELAY_MS=0x50,CS_ENTRANCE_PATH_SPEED=0.0032,CS_COMPLETION_MESSAGE_DELAY=0x3e8,ENEMY_ANIMATION_INTERVAL_MS=0xfa,AXIS_DEAD_ZONE_MENU=0.3,AXIS_DEAD_ZONE_GAMEPLAY=0.15,PS5_BUTTON_CROSS=0x0,PS5_BUTTON_CIRCLE=0x1,PS5_BUTTON_TRIANGLE=0x3,PS5_BUTTON_R1=0x5,PS5_DPAD_UP=0xc,PS5_DPAD_DOWN=0xd,PS5_DPAD_LEFT=0xe,PS5_DPAD_RIGHT=0xf,PS5_LEFT_STICK_X=0x0,PS5_LEFT_STICK_Y=0x1,SHOOT_COOLDOWN=0x8c,CS_MULTI_BULLET_COUNT=0x2,CS_MULTI_BULLET_SPREAD_ANGLE_DEG=0x8,GRID_ROWS=0x5,GRID_COLS=0xa,ENEMY_V_SPACING=0x14,ENEMY_H_SPACING_FIXED=0x1e,ENEMY_TOP_MARGIN=0x75,GRID_HORIZONTAL_MARGIN_PERCENT=0.18,GRID_BREATH_ENABLED=!![],GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR=0.5,GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR=0.3,ENEMY1_DIVE_SPEED_FACTOR=0.65,ENEMY2_DIVE_SPEED_FACTOR=0.75,ENEMY3_ATTACK_SPEED_FACTOR=0.8,BOSS_CAPTURE_DIVE_SPEED_FACTOR=0.85,GROUP_DETACH_DELAY_MS=0x50,GROUP_FIRE_BURST_DELAY=0x258,SOLO_BUTTERFLY_FIRE_DELAY=0x258,BOSS_CAPTURE_DIVE_PROBABILITY=0.15,CAPTURE_DIVE_SIDE_MARGIN_FACTOR=0.15,CAPTURE_DIVE_BOTTOM_HOVER_Y_FACTOR=0.7,CAPTURE_BEAM_DURATION_MS=0x1388,CAPTURE_BEAM_ANIMATION_DURATION_MS=0x1f4,CAPTURE_BEAM_WIDTH_TOP_FACTOR=0.7,CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR=1.8,CAPTURE_BEAM_COLOR_START=_0x4b4af5(0x114),CAPTURE_BEAM_COLOR_END=_0x4b4af5(0x15e),CAPTURE_BEAM_PULSE_SPEED=0.004,CAPTURED_SHIP_SCALE=0x1,CAPTURED_SHIP_OFFSET_X=(BOSS_WIDTH-SHIP_WIDTH)/0x2,CAPTURED_SHIP_OFFSET_Y=-SHIP_HEIGHT*0.5,CAPTURE_MESSAGE_DURATION=0xbb8,CAPTURED_SHIP_TINT_COLOR=_0x4b4af5(0x12b),CAPTURED_SHIP_FIRE_COOLDOWN_MS=0x1f4,RESPAWN_DELAY_MS=0x7d0,INVINCIBILITY_DURATION_MS=0x7d0,INVINCIBILITY_BLINK_ON_MS=0x64,INVINCIBILITY_BLINK_OFF_MS=0x32,FALLING_SHIP_SPEED=3.5,FALLING_SHIP_FADE_DURATION_MS=0x5dc,FALLING_SHIP_ROTATION_DURATION_MS=0x5dc,DUAL_SHIP_DOCK_TIME_MS=0x3e8,DUAL_SHIP_OFFSET_X=SHIP_WIDTH,AUTO_DOCK_THRESHOLD=0x14,FLOATING_SCORE_DURATION=0x1f4,FLOATING_SCORE_APPEAR_DELAY=-0x32,FLOATING_SCORE_FONT=_0x4b4af5(0x117),FLOATING_SCORE_OPACITY=0.5,FLOATING_SCORE_COLOR_GRID=_0x4b4af5(0x10f),FLOATING_SCORE_COLOR_ACTIVE=_0x4b4af5(0x135),FLOATING_SCORE_COLOR_CS_CHAIN=_0x4b4af5(0x10f),CS_CHAIN_SCORE_THRESHOLD=0x4,CS_CHAIN_BREAK_TIME_MS=0x1f4,NORMAL_WAVE_CHAIN_BONUS_ENABLED=![],NORMAL_WAVE_CHAIN_SCORE_THRESHOLD=0x4,NORMAL_WAVE_CHAIN_BREAK_TIME_MS=0x2ee,EXPLOSION_DURATION=0x28a,EXPLOSION_PARTICLE_COUNT=0x19,EXPLOSION_MAX_SPEED=5.5,EXPLOSION_MIN_SPEED=1.5,EXPLOSION_PARTICLE_RADIUS=0x4,EXPLOSION_FADE_SPEED=2.8,EXPLOSION_MAX_OPACITY=0.8,HIT_SPARK_COUNT=0x8,HIT_SPARK_LIFETIME=0x5dc,HIT_SPARK_SPEED=4.5,HIT_SPARK_SIZE=2.5,HIT_SPARK_COLOR=_0x4b4af5(0x15b),HIT_SPARK_GRAVITY=0.05,HIT_SPARK_FADE_SPEED=0x1/HIT_SPARK_LIFETIME,UI_TEXT_MARGIN_TOP=0x23,UI_1UP_BLINK_ON_MS=0x258,UI_1UP_BLINK_OFF_MS=0x190,UI_1UP_BLINK_CYCLE_MS=UI_1UP_BLINK_ON_MS+UI_1UP_BLINK_OFF_MS,AI_SHOOT_COOLDOWN=0x8c,AI_STABILIZATION_DURATION=0x1f4,AI_POSITION_MOVE_SPEED_FACTOR=1.2,AI_COLLISION_LOOKAHEAD=SHIP_HEIGHT*3.5,AI_COLLISION_BUFFER=SHIP_WIDTH*0.6,FINAL_DODGE_LOOKAHEAD=AI_COLLISION_LOOKAHEAD*4.5,FINAL_DODGE_BUFFER_BASE=AI_COLLISION_BUFFER*3.5,ENTRANCE_BULLET_DODGE_LOOKAHEAD=FINAL_DODGE_LOOKAHEAD*1.8,ENTRANCE_BULLET_DODGE_BUFFER=FINAL_DODGE_BUFFER_BASE*2.2,FINAL_AI_DODGE_MOVE_SPEED_FACTOR=3.8,AI_SHOOT_ALIGNMENT_THRESHOLD=0.15,AI_SHOT_CLEARANCE_BUFFER=PLAYER_BULLET_WIDTH*1.5,MAX_PREDICTION_TIME_CS=0.7,NORMAL_MOVE_FRACTION=0.08,CS_AI_MOVE_FRACTION=0.16,AI_SMOOTHING_FACTOR_MOVE=0.1,CS_MOVE_SPEED_FACTOR=1.8,NORMAL_WAVE_ATTACKING_DODGE_BUFFER_MULTIPLIER=1.2,NORMAL_WAVE_ATTACKING_DODGE_SPEED_MULTIPLIER=1.1,STABILIZE_MOVE_FRACTION=0.05,ENTRANCE_DODGE_MOVE_FRACTION=0.15,AI_MOVEMENT_DEADZONE=0.1,AI_SMOOTHING_FACTOR=0.1,AI_EDGE_BUFFER=SHIP_WIDTH*0.5,AI_ANTI_CORNER_BUFFER=AI_EDGE_BUFFER*2.5,BEE_DODGE_BUFFER_HORIZONTAL_FACTOR=1.5,FINAL_SHOOT_ALIGNMENT_THRESHOLD=0x2,GRID_SHOOT_ALIGNMENT_FACTOR=1.5,ENTRANCE_SHOOT_ALIGNMENT_FACTOR=1.2,ENTRANCE_AI_DODGE_MOVE_SPEED_FACTOR=0x4,AI_WIGGLE_AMPLITUDE=SHIP_WIDTH*0.15,AI_WIGGLE_PERIOD=0xbb8,AI_EDGE_SHOOT_BUFFER_FACTOR=0x2,AI_EDGE_SHOOT_TARGET_THRESHOLD_FACTOR=0.75,ENTRANCE_SHOOT_BULLET_CHECK_LOOKAHEAD=SHIP_HEIGHT*1.5,ENTRANCE_SHOOT_BULLET_CHECK_BUFFER=SHIP_WIDTH*0.8,MAX_PREDICTION_TIME=0.8,LOCAL_CS_POSITION_MIN_X=0x0,LOCAL_CS_POSITION_MAX_X=0x0,CS_SHOOTING_MOVE_FRACTION=0.25,CS_SHOOTING_MOVE_SPEED_FACTOR=0x2,CS_PREDICTION_FACTOR=0x1,AI_CAPTURE_WAIT_DURATION_MS=0x7d0,INTRO_DURATION_PER_STEP=0xfa0,TWO_PLAYER_STAGE_INTRO_DURATION=0xbb8,READY_MESSAGE_DURATION=0xbb8,CS_HITS_MESSAGE_DURATION=0x3e8,CS_PERFECT_MESSAGE_DURATION=0x3e8,CS_BONUS_MESSAGE_DURATION=0xbb8,CS_CLEAR_DELAY=0x1f40,CS_CLEAR_HITS_DELAY=0x3e8,CS_CLEAR_SCORE_DELAY=0x7d0,EXTRA_LIFE_MESSAGE_DURATION=0xbb8,RECURRING_EXTRA_LIFE_INTERVAL=0x11170,POST_MESSAGE_RESET_DELAY=0x3e8,EXTRA_LIFE_THRESHOLD_1=0x4e20,EXTRA_LIFE_THRESHOLD_2=0x11170,GAME_OVER_DURATION=0x1388,waveEntrancePatterns=[[{'pathId':_0x4b4af5(0x19c),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x4b4af5(0x19c)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x4b4af5(0x19c)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':_0x4b4af5(0x19c)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x4b4af5(0x19c)}]},{'pathId':_0x4b4af5(0xfa),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x4b4af5(0xfa)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':'new_path_right'}]},{'pathId':_0x4b4af5(0x157),'enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x4b4af5(0x157),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x4b4af5(0x157),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':'boss_loop_left'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x157)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x157),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x4b4af5(0x157)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x157)}]},{'pathId':_0x4b4af5(0x189),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x4b4af5(0x189)}]},{'pathId':_0x4b4af5(0x18b),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x4b4af5(0x18b)}]},{'pathId':_0x4b4af5(0x10e),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':_0x4b4af5(0x10e)}]}],[{'pathId':_0x4b4af5(0x19c),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x4,'entrancePathId':_0x4b4af5(0x19c)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x5,'entrancePathId':_0x4b4af5(0x19c)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x4,'entrancePathId':'new_path_left'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x5,'entrancePathId':_0x4b4af5(0x19c)}]},{'pathId':_0x4b4af5(0xfa),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x4,'entrancePathId':_0x4b4af5(0xfa)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x5,'entrancePathId':_0x4b4af5(0xfa)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x4,'entrancePathId':'new_path_right'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x5,'entrancePathId':'new_path_right'}]},{'pathId':'boss_loop_left','enemies':[{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x4,'entrancePathId':_0x4b4af5(0x157),'hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x5,'entrancePathId':_0x4b4af5(0x157),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x3,'entrancePathId':_0x4b4af5(0x157)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x157)},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x3,'entrancePathId':'boss_loop_left','hasCapturedShip':![]},{'type':ENEMY3_TYPE,'gridRow':0x0,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x157),'hasCapturedShip':![]},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x3,'entrancePathId':_0x4b4af5(0x157)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x157)}]},{'pathId':_0x4b4af5(0x189),'enemies':[{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x1,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x2,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x7,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x1,'gridCol':0x8,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x1,'entrancePathId':'boss_loop_right'},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x2,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x7,'entrancePathId':_0x4b4af5(0x189)},{'type':ENEMY2_TYPE,'gridRow':0x2,'gridCol':0x8,'entrancePathId':_0x4b4af5(0x189)}]},{'pathId':_0x4b4af5(0x18b),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x7,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x8,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x9,'entrancePathId':'mid_curve_left'},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x6,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x7,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x8,'entrancePathId':_0x4b4af5(0x18b)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x9,'entrancePathId':_0x4b4af5(0x18b)}]},{'pathId':_0x4b4af5(0x10e),'enemies':[{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x0,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x1,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x2,'entrancePathId':'mid_curve_right'},{'type':ENEMY1_TYPE,'gridRow':0x3,'gridCol':0x3,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x0,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x1,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x2,'entrancePathId':_0x4b4af5(0x10e)},{'type':ENEMY1_TYPE,'gridRow':0x4,'gridCol':0x3,'entrancePathId':'mid_curve_right'}]}]],MARGIN_TOP=0x5,MARGIN_SIDE=0x69,SCORE_OFFSET_Y=0x19,LIFE_ICON_SIZE=0x23,LIFE_ICON_SPACING=0x8,LIFE_ICON_MARGIN_BOTTOM=0x5,LIFE_ICON_MARGIN_LEFT=MARGIN_SIDE-0x1e,LEVEL_ICON_SIZE=0x23,LEVEL_ICON_MARGIN_BOTTOM=LIFE_ICON_MARGIN_BOTTOM,LEVEL_ICON_MARGIN_RIGHT=MARGIN_SIDE-0x1e,LEVEL_ICON_SPACING=LIFE_ICON_SPACING;function initializeDOMElements(){const _0x385f57=_0x4b4af5;starrySkyCanvas=document[_0x385f57(0x15a)](_0x385f57(0x120)),starryCtx=starrySkyCanvas?.['getContext']('2d'),retroGridCanvas=document[_0x385f57(0x15a)](_0x385f57(0xf8)),retroGridCtx=retroGridCanvas?.[_0x385f57(0x172)]('2d'),gameCanvas=document[_0x385f57(0x15a)](_0x385f57(0x190)),gameCtx=gameCanvas?.['getContext']('2d');if(!starryCtx||!retroGridCtx||!gameCtx)return console[_0x385f57(0x17c)](_0x385f57(0x139)),alert('Error\x20loading\x20critical\x20canvas\x20elements.'),document[_0x385f57(0xff)][_0x385f57(0x184)]=_0x385f57(0x140),![];floatingScores=[],csCurrentChainHits=0x0,csCurrentChainScore=0x0,csLastHitTime=0x0,csLastChainHitPosition=null,normalWaveCurrentChainHits=0x0,normalWaveCurrentChainScore=0x0,normalWaveLastHitTime=0x0,normalWaveLastChainHitPosition=null;try{tripleAttackSound=new Audio(_0x385f57(0x13d));if(playerShootSound)playerShootSound[_0x385f57(0x161)]=0.4;if(explosionSound)explosionSound[_0x385f57(0x161)]=0.4;if(gameOverSound)gameOverSound[_0x385f57(0x161)]=0.4;if(lostLifeSound)lostLifeSound[_0x385f57(0x161)]=0.6;if(entranceSound)entranceSound[_0x385f57(0x161)]=0.4;if(bossGalagaDiveSound)bossGalagaDiveSound[_0x385f57(0x161)]=0.2;if(levelUpSound)levelUpSound['volume']=0.2;if(enemyShootSound)enemyShootSound[_0x385f57(0x161)]=0.4;if(butterflyDiveSound)butterflyDiveSound[_0x385f57(0x161)]=0.2;if(startSound)startSound[_0x385f57(0x161)]=0.4;if(coinSound)coinSound[_0x385f57(0x161)]=0.4;if(beeHitSound)beeHitSound[_0x385f57(0x161)]=0.3;if(butterflyHitSound)butterflyHitSound['volume']=0.3;if(bossHit1Sound)bossHit1Sound[_0x385f57(0x161)]=0.6;if(bossHit2Sound)bossHit2Sound['volume']=0.4;gridBackgroundSound&&(gridBackgroundSound['volume']=0.1,gridBackgroundSound[_0x385f57(0x112)]=!![]);if(extraLifeSound)extraLifeSound['volume']=0.5;if(csPerfectSound)csPerfectSound[_0x385f57(0x161)]=0.6;if(csClearSound)csClearSound[_0x385f57(0x161)]=0.6;if(waveUpSound)waveUpSound['volume']=0.8;menuMusicSound&&(menuMusicSound[_0x385f57(0x161)]=0.2,menuMusicSound[_0x385f57(0x112)]=!![]);if(readySound)readySound[_0x385f57(0x161)]=0.1;if(tripleAttackSound)tripleAttackSound[_0x385f57(0x161)]=0.3;if(captureSound)captureSound[_0x385f57(0x161)]=0.6;if(shipCapturedSound)shipCapturedSound[_0x385f57(0x161)]=0.3;if(dualShipSound)dualShipSound[_0x385f57(0x161)]=0.4;if(resultsMusicSound)resultsMusicSound['volume']=0.2;if(hiScoreSound)hiScoreSound[_0x385f57(0x161)]=0.2;}catch(_0x21f4a0){console[_0x385f57(0x17c)]('Error\x20setting\x20sound\x20properties:',_0x21f4a0);}const _0x1c6eba=[playerShootSound,explosionSound,gameOverSound,lostLifeSound,entranceSound,bossGalagaDiveSound,levelUpSound,enemyShootSound,butterflyDiveSound,startSound,coinSound,beeHitSound,butterflyHitSound,bossHit1Sound,bossHit2Sound,gridBackgroundSound,extraLifeSound,csPerfectSound,csClearSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound],_0x518fe7=[shipImage,beeImage,bulletImage,bossGalagaImage,butterflyImage,logoImage,level1Image,level5Image,level10Image,level20Image,level30Image,level50Image,beeImage2,butterflyImage2,bossGalagaImage2];return _0x1c6eba['forEach'](_0x250844=>{const _0x264ec9=_0x385f57;if(_0x250844)_0x250844['onerror']=()=>console[_0x264ec9(0x17c)](_0x264ec9(0x162)+_0x250844[_0x264ec9(0x182)]);}),_0x518fe7[_0x385f57(0x14b)](_0x40a4c7=>{const _0x1d2eab=_0x385f57;if(_0x40a4c7)_0x40a4c7[_0x1d2eab(0x171)]=()=>console[_0x1d2eab(0x17c)](_0x1d2eab(0x156)+_0x40a4c7[_0x1d2eab(0x182)]);}),!![];}function scaleValue(_0x1e34cb,_0x121e32,_0x5a6d9b){const _0x1ed7be=_0x4b4af5,_0x38686b=Math['max'](0x1,Math[_0x1ed7be(0xe4)](_0x1e34cb,LEVEL_CAP_FOR_SCALING));if(_0x38686b===0x1)return _0x121e32;const _0x5a0842=(_0x38686b-0x1)/(LEVEL_CAP_FOR_SCALING-0x1);return _0x121e32+(_0x5a6d9b-_0x121e32)*_0x5a0842;}function setupInitialEventListeners(){const _0x13da1a=_0x4b4af5;try{window[_0x13da1a(0x121)](_0x13da1a(0x199),handleGamepadConnected),window[_0x13da1a(0x121)](_0x13da1a(0xec),handleGamepadDisconnected),window['addEventListener'](_0x13da1a(0x14e),resizeCanvases);}catch(_0x68e19c){console[_0x13da1a(0x17c)]('Error\x20setting\x20up\x20initial\x20event\x20listeners:',_0x68e19c);}}function _0x514e(_0x2b82d7,_0x32709e){const _0x42c248=_0x42c2();return _0x514e=function(_0x514e2f,_0x342436){_0x514e2f=_0x514e2f-0xe3;let _0x592e56=_0x42c248[_0x514e2f];return _0x592e56;},_0x514e(_0x2b82d7,_0x32709e);}function getCurrentGridSlotPosition(_0x134d9c,_0x129f34,_0x1f63e9){const _0x337262=_0x4b4af5;if(!gameCanvas||gameCanvas[_0x337262(0x1a7)]===0x0||_0x134d9c<0x0||_0x129f34<0x0)return{'x':gameCanvas?.['width']/0x2||0xc8,'y':ENEMY_TOP_MARGIN||0x64};const _0x39fe79=ENEMY_WIDTH;let _0x1b19cd=ENEMY_H_SPACING_FIXED,_0x2eba99=ENEMY_V_SPACING;if(GRID_BREATH_ENABLED&&isGridBreathingActive){const _0x479ed2=ENEMY_H_SPACING_FIXED*GRID_BREATH_MAX_EXTRA_H_SPACING_FACTOR*currentGridBreathFactor;_0x1b19cd=ENEMY_H_SPACING_FIXED+_0x479ed2;const _0x19865f=ENEMY_V_SPACING*GRID_BREATH_MAX_EXTRA_V_SPACING_FACTOR*currentGridBreathFactor;_0x2eba99=ENEMY_V_SPACING+_0x19865f;}const _0x376132=GRID_COLS*_0x39fe79+(GRID_COLS-0x1)*_0x1b19cd,_0xe2630f=Math['round']((gameCanvas[_0x337262(0x1a7)]-_0x376132)/0x2),_0x16cb9d=_0xe2630f+currentGridOffsetX,_0x3ce280=_0x16cb9d+_0x129f34*(_0x39fe79+_0x1b19cd),_0x54a1db=(_0x39fe79-_0x1f63e9)/0x2,_0x18a2ab=Math['round'](_0x3ce280+_0x54a1db),_0x581538=Math['round'](ENEMY_TOP_MARGIN+_0x134d9c*(ENEMY_HEIGHT+_0x2eba99));return{'x':_0x18a2ab,'y':_0x581538};}function playSound(_0x597ace){const _0x5e94e4=_0x4b4af5;try{if(isPaused&&_0x597ace!==menuMusicSound)return;if(_0x597ace?.[_0x5e94e4(0x164)]){if(_0x597ace[_0x5e94e4(0x112)]&&!_0x597ace['paused']&&_0x597ace[_0x5e94e4(0x108)]>0x0&&!_0x597ace[_0x5e94e4(0x133)])return;_0x597ace[_0x5e94e4(0x108)]=0x0;const _0xcfde5d=_0x597ace['play']();_0xcfde5d!==undefined&&_0xcfde5d['catch'](_0xe7d476=>{const _0x2dd714=_0x5e94e4;_0xe7d476[_0x2dd714(0x18c)]!==_0x2dd714(0x126)&&_0xe7d476[_0x2dd714(0x18c)]!=='NotAllowedError'&&console[_0x2dd714(0x175)](_0x2dd714(0x131)+_0x597ace[_0x2dd714(0x182)]+':\x20'+_0xe7d476[_0x2dd714(0x128)]);});}}catch(_0x5c0abe){console[_0x5e94e4(0x17c)](_0x5e94e4(0x154),_0x5c0abe);}}function stopSound(_0x1b16c9){const _0x437e7c=_0x4b4af5;try{if(_0x1b16c9&&!_0x1b16c9[_0x437e7c(0x16f)])_0x1b16c9[_0x437e7c(0x19e)](),_0x1b16c9[_0x437e7c(0x108)]=0x0;else _0x1b16c9&&(_0x1b16c9[_0x437e7c(0x108)]=0x0);}catch(_0x129ce6){console[_0x437e7c(0x17c)](_0x437e7c(0x1b4),_0x129ce6);}}function checkCollision(_0x3cffac,_0x31b725){const _0x4c1470=_0x4b4af5;if(!_0x3cffac||!_0x31b725)return![];return _0x3cffac['x']<_0x31b725['x']+_0x31b725[_0x4c1470(0x1a7)]&&_0x3cffac['x']+_0x3cffac[_0x4c1470(0x1a7)]>_0x31b725['x']&&_0x3cffac['y']<_0x31b725['y']+_0x31b725['height']&&_0x3cffac['y']+_0x3cffac['height']>_0x31b725['y'];}function triggerFullscreen(){const _0x23c4e3=_0x4b4af5;if(!document[_0x23c4e3(0x134)]){const _0x49d286=document[_0x23c4e3(0x158)];if(_0x49d286[_0x23c4e3(0x170)])_0x49d286['requestFullscreen']()[_0x23c4e3(0x18f)](_0x40fe8c=>console[_0x23c4e3(0x17c)](_0x23c4e3(0x174)+_0x40fe8c['message']));else{if(_0x49d286['mozRequestFullScreen'])_0x49d286[_0x23c4e3(0x187)]()[_0x23c4e3(0x18f)](_0x7a0666=>console[_0x23c4e3(0x17c)](_0x23c4e3(0x169)+_0x7a0666[_0x23c4e3(0x128)]));else{if(_0x49d286['webkitRequestFullscreen'])_0x49d286[_0x23c4e3(0x18d)]()['catch'](_0x5542ad=>console[_0x23c4e3(0x17c)](_0x23c4e3(0x179)+_0x5542ad[_0x23c4e3(0x128)]));else _0x49d286[_0x23c4e3(0xea)]&&_0x49d286[_0x23c4e3(0xea)]()[_0x23c4e3(0x18f)](_0x4e2678=>console['error'](_0x23c4e3(0x105)+_0x4e2678[_0x23c4e3(0x128)]));}}}}function createStar(){const _0x565ed4=_0x4b4af5;if(!starrySkyCanvas||starrySkyCanvas[_0x565ed4(0x1a7)]===0x0)return null;return{'x':Math[_0x565ed4(0x104)]()*starrySkyCanvas['width'],'y':Math[_0x565ed4(0x104)]()*starrySkyCanvas['height'],'radius':Math['random']()*(MAX_STAR_RADIUS-MIN_STAR_RADIUS)+MIN_STAR_RADIUS,'alpha':Math[_0x565ed4(0x104)]()*0.8+0.2,'alphaChange':(Math[_0x565ed4(0x104)]()>0.5?0x1:-0x1)*TWINKLE_SPEED*(Math['random']()*0.5+0.5)};}function createStars(){const _0x4eec31=_0x4b4af5;stars=[];if(starrySkyCanvas?.[_0x4eec31(0x1a7)]>0x0&&starrySkyCanvas?.[_0x4eec31(0x142)]>0x0)for(let _0x6fc2f3=0x0;_0x6fc2f3<NUM_STARS;_0x6fc2f3++){const _0x32c37f=createStar();if(_0x32c37f)stars['push'](_0x32c37f);}}function drawStars(){const _0x6cb9c1=_0x4b4af5;try{if(!starryCtx||!starrySkyCanvas||starrySkyCanvas[_0x6cb9c1(0x1a7)]===0x0||starrySkyCanvas[_0x6cb9c1(0x142)]===0x0)return;const _0x423798=starrySkyCanvas[_0x6cb9c1(0x1a7)],_0x96fc4b=starrySkyCanvas[_0x6cb9c1(0x142)];starryCtx['clearRect'](0x0,0x0,_0x423798,_0x96fc4b);const _0x100004=Math[_0x6cb9c1(0x129)](_0x96fc4b*GRID_HORIZON_Y_FACTOR),_0x272aa1=_0x96fc4b-_0x100004,_0x1e6da3=Math[_0x6cb9c1(0x13a)](0x0,_0x100004-_0x272aa1*STAR_FADE_START_FACTOR_ABOVE_HORIZON),_0x67ceae=_0x100004,_0x21d895=Math[_0x6cb9c1(0x13a)](0x1,_0x67ceae-_0x1e6da3);stars[_0x6cb9c1(0x14b)](_0x44ee6e=>{const _0x462bc3=_0x6cb9c1,_0x3638d6=(_0x44ee6e[_0x462bc3(0x195)]-MIN_STAR_RADIUS)/(MAX_STAR_RADIUS-MIN_STAR_RADIUS),_0x16fb1e=BASE_PARALLAX_SPEED+_0x3638d6*PARALLAX_SPEED_FACTOR;!isPaused&&(_0x44ee6e['y']+=_0x16fb1e);_0x44ee6e['y']>_0x96fc4b+_0x44ee6e[_0x462bc3(0x195)]&&(_0x44ee6e['y']=-_0x44ee6e[_0x462bc3(0x195)]*0x2,_0x44ee6e['x']=Math[_0x462bc3(0x104)]()*_0x423798);!isPaused&&(_0x44ee6e[_0x462bc3(0x16a)]+=_0x44ee6e[_0x462bc3(0x1a8)],(_0x44ee6e[_0x462bc3(0x16a)]<=0.1||_0x44ee6e[_0x462bc3(0x16a)]>=0x1)&&(_0x44ee6e['alphaChange']*=-0x1,_0x44ee6e[_0x462bc3(0x16a)]=Math[_0x462bc3(0x13a)](0.1,Math[_0x462bc3(0xe4)](0x1,_0x44ee6e['alpha']))));let _0x3f4a24=_0x44ee6e[_0x462bc3(0x16a)];_0x1e6da3>=0x0&&_0x44ee6e['y']>_0x1e6da3&&(_0x44ee6e['y']>=_0x100004?_0x3f4a24=0x0:_0x3f4a24*=0x1-Math[_0x462bc3(0xe4)](0x1,Math[_0x462bc3(0x13a)](0x0,(_0x44ee6e['y']-_0x1e6da3)/_0x21d895))),_0x3f4a24=Math[_0x462bc3(0x13a)](0x0,Math['min'](0x1,_0x3f4a24)),_0x3f4a24>0.01&&(starryCtx['beginPath'](),starryCtx[_0x462bc3(0x132)](Math[_0x462bc3(0x129)](_0x44ee6e['x']),Math['round'](_0x44ee6e['y']),_0x44ee6e[_0x462bc3(0x195)],0x0,Math['PI']*0x2),starryCtx[_0x462bc3(0x1b6)]=_0x462bc3(0x1a9)+_0x3f4a24[_0x462bc3(0x138)](0x3)+')',starryCtx['fill']());});}catch(_0x5c6c76){console[_0x6cb9c1(0x17c)](_0x6cb9c1(0xf3),_0x5c6c76);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;}}function drawRetroGrid(){const _0x44b211=_0x4b4af5;try{if(!retroGridCtx||!retroGridCanvas||retroGridCanvas[_0x44b211(0x1a7)]===0x0||retroGridCanvas[_0x44b211(0x142)]===0x0)return;!isPaused&&(gridOffsetY-=GRID_SPEED);const _0xf98f05=retroGridCanvas[_0x44b211(0x1a7)],_0xafa97=retroGridCanvas[_0x44b211(0x142)];retroGridCtx[_0x44b211(0x1a2)](0x0,0x0,_0xf98f05,_0xafa97);const _0x2e8e05=Math[_0x44b211(0x129)](_0xafa97*GRID_HORIZON_Y_FACTOR),_0x4b246f=_0xf98f05/0x2,_0x4ad962=_0xafa97-_0x2e8e05;retroGridCtx['lineWidth']=GRID_LINE_WIDTH;const _0x4ff581=_0xf98f05*GRID_HORIZONTAL_LINE_WIDTH_FACTOR,_0x41ab7b=_0x4b246f-_0x4ff581/0x2,_0x2c4bd0=_0x4b246f+_0x4ff581/0x2,_0x394aa2=_0x2e8e05+_0x4ad962*0.1,_0x1bac40=_0xafa97,_0x297c6=Math['max'](0x1,_0x1bac40-_0x394aa2);retroGridCtx[_0x44b211(0x18e)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x44b211(0xf1)](),retroGridCtx[_0x44b211(0x1b8)](_0x41ab7b,_0x2e8e05),retroGridCtx[_0x44b211(0xf0)](_0x2c4bd0,_0x2e8e05),retroGridCtx[_0x44b211(0x11b)]();let _0x133702=gridOffsetY%GRID_BASE_SPACING;_0x133702>0x0&&(_0x133702-=GRID_BASE_SPACING);let _0x301d99=_0x2e8e05-_0x133702;if(_0x301d99<=_0x2e8e05)_0x301d99+=GRID_BASE_SPACING;while(_0x301d99<_0xafa97+GRID_BASE_SPACING){let _0xcc5597=Math[_0x44b211(0x13a)](0x0,Math['min'](0x1,(_0x301d99-_0x2e8e05)/_0x4ad962));if(_0x301d99>_0x2e8e05&&_0x301d99<=_0xafa97+GRID_LINE_WIDTH*0x2){let _0x3f487f;if(_0x301d99<=_0x394aa2)_0x3f487f=GRID_MIN_ALPHA;else{if(_0x301d99>=_0x1bac40)_0x3f487f=GRID_BASE_ALPHA;else{const _0x44fe01=(_0x301d99-_0x394aa2)/_0x297c6;_0x3f487f=GRID_MIN_ALPHA+(GRID_BASE_ALPHA-GRID_MIN_ALPHA)*_0x44fe01;}}_0x3f487f=Math[_0x44b211(0x13a)](0x0,Math['min'](GRID_BASE_ALPHA,_0x3f487f)),_0x3f487f>0.01&&(retroGridCtx[_0x44b211(0x18e)]=_0x44b211(0xef)+GRID_RGB_PART+',\x20'+_0x3f487f[_0x44b211(0x138)](0x3)+')',retroGridCtx['beginPath'](),retroGridCtx[_0x44b211(0x1b8)](_0x41ab7b,Math[_0x44b211(0x129)](_0x301d99)),retroGridCtx[_0x44b211(0xf0)](_0x2c4bd0,Math[_0x44b211(0x129)](_0x301d99)),retroGridCtx[_0x44b211(0x11b)]());}let _0x25ea23=GRID_BASE_SPACING*Math[_0x44b211(0x1a5)](0x1+_0xcc5597*1.5,GRID_SPACING_POWER);_0x301d99+=Math['max'](0x1,_0x25ea23);}retroGridCtx[_0x44b211(0x18e)]=GRID_LINE_COLOR_FIXED,retroGridCtx[_0x44b211(0xf1)]();const _0x2ffdc8=Math[_0x44b211(0x10a)](GRID_NUM_PERSPECTIVE_LINES/0x2),_0x2eb1b8=_0xf98f05*GRID_HORIZON_SPREAD_FACTOR,_0x5007a6=_0xf98f05*GRID_BOTTOM_SPREAD_FACTOR;for(let _0x13cbb5=0x0;_0x13cbb5<=_0x2ffdc8;_0x13cbb5++){let _0x4d15e5=Math['pow'](_0x13cbb5/_0x2ffdc8,GRID_PERSPECTIVE_POWER),_0xd869c=_0x4b246f+_0x4d15e5*(_0x2eb1b8/0x2),_0x5f5a48=_0x4b246f-_0x4d15e5*(_0x2eb1b8/0x2),_0x38fdda=_0x4b246f+_0x4d15e5*(_0x5007a6/0x2),_0x335323=_0x4b246f-_0x4d15e5*(_0x5007a6/0x2);retroGridCtx['moveTo'](_0xd869c,_0x2e8e05),retroGridCtx['lineTo'](_0x38fdda,_0xafa97),_0x13cbb5>0x0&&(retroGridCtx[_0x44b211(0x1b8)](_0x5f5a48,_0x2e8e05),retroGridCtx[_0x44b211(0xf0)](_0x335323,_0xafa97));}retroGridCtx['stroke']();}catch(_0x323232){console[_0x44b211(0x17c)](_0x44b211(0x144),_0x323232);}}function calculateBezierPoint(_0x48bd03,_0x3b13d3,_0x3daf3b,_0x412cfe,_0x125f71){const _0x56e3d3=0x1-_0x48bd03,_0x102066=_0x48bd03*_0x48bd03,_0x2b285b=_0x56e3d3*_0x56e3d3,_0x2ce333=_0x2b285b*_0x56e3d3,_0x5bc9ca=_0x102066*_0x48bd03;let _0x16ae4c=_0x2ce333*_0x3b13d3;return _0x16ae4c+=0x3*_0x2b285b*_0x48bd03*_0x3daf3b,_0x16ae4c+=0x3*_0x56e3d3*_0x102066*_0x412cfe,_0x16ae4c+=_0x5bc9ca*_0x125f71,_0x16ae4c;}function defineNormalWaveEntrancePaths(){const _0x4166a4=_0x4b4af5;normalWaveEntrancePaths={};const _0x4b6cbe=gameCanvas?.['width'],_0x14dc81=gameCanvas?.['height'];if(!_0x4b6cbe||!_0x14dc81||_0x4b6cbe===0x0){console[_0x4166a4(0x17c)](_0x4166a4(0x197));return;}const _0x51e4a6=_0x4b6cbe/0x320,_0x56d142=_0x14dc81/0x258,_0xdb1ed5=-Math['max'](ENEMY1_HEIGHT,ENEMY_HEIGHT)*1.5,_0x54a680=_0x4b6cbe/0x2,_0x8eb53c=-0x19,_0x611747=ENEMY_WIDTH,_0x467566=ENEMY_H_SPACING_FIXED,_0x3b035b=GRID_COLS*_0x611747+(GRID_COLS-0x1)*_0x467566,_0x1aecc0=Math[_0x4166a4(0x129)]((_0x4b6cbe-_0x3b035b)/0x2),_0x243043=_0x1aecc0+0x4*(_0x611747+_0x467566)+_0x611747/0x2,_0x37655c=_0x1aecc0+0x5*(_0x611747+_0x467566)+_0x611747/0x2,_0x346a0c=(_0x243043+_0x37655c)/0x2+_0x8eb53c,_0x52aef0=Math[_0x4166a4(0x129)](ENEMY_TOP_MARGIN+0x1*(ENEMY_HEIGHT+ENEMY_V_SPACING)),_0x35f4dd=_0x52aef0+0x3c*_0x56d142,_0x4f8e35=[{'p0':{'x':0x50/0x190*0x320*_0x51e4a6+_0x8eb53c,'y':_0xdb1ed5},'p1':{'x':0x1b8/0x190*0x320*_0x51e4a6+_0x8eb53c,'y':0x8c/0x12c*0x258*_0x56d142},'p2':{'x':0x104/0x190*0x320*_0x51e4a6+_0x8eb53c,'y':0x154/0x12c*0x258*_0x56d142},'p3':{'x':_0x346a0c,'y':_0x35f4dd}}];normalWaveEntrancePaths[_0x4166a4(0x19c)]=_0x4f8e35;const _0x246f32=_0x4f8e35['map'](_0x17777d=>({'p0':{'x':_0x4b6cbe-(_0x17777d['p0']['x']-_0x8eb53c)+_0x8eb53c,'y':_0x17777d['p0']['y']},'p1':{'x':_0x4b6cbe-(_0x17777d['p1']['x']-_0x8eb53c)+_0x8eb53c,'y':_0x17777d['p1']['y']},'p2':{'x':_0x4b6cbe-(_0x17777d['p2']['x']-_0x8eb53c)+_0x8eb53c,'y':_0x17777d['p2']['y']},'p3':{'x':_0x346a0c,'y':_0x17777d['p3']['y']}}));normalWaveEntrancePaths['new_path_right']=_0x246f32;const _0x2db5d0=_0x59ecaf=>{const _0x26966b=_0x4166a4,_0x22ac3e=_0x59ecaf?'boss_loop_right':_0x26966b(0x157),_0x258b16=_0x4604b1=>_0x59ecaf?_0x4b6cbe-_0x4604b1:_0x4604b1,_0x21acec=0x82*_0x56d142,_0xb5739a=0x50*_0x51e4a6,_0x232ea6=0x12c*_0x51e4a6,_0x5468d0=0x12c*_0x56d142,_0x114a9b=_0x232ea6+_0xb5739a,_0x15b470=_0x5468d0,_0x3ab22f=_0x258b16(-0x64*_0x51e4a6),_0x5fe46=(0x15e+_0x21acec)*_0x56d142,_0x2d9797=ENEMY_TOP_MARGIN-0x14,_0xc6ab8e={'x':_0x3ab22f,'y':_0x5fe46},_0x26186b={'x':_0x258b16(_0x114a9b),'y':_0x15b470},_0x2ef72e={'x':_0x258b16(_0x232ea6),'y':_0x5468d0-_0xb5739a},_0x2ebe05={'x':_0x258b16(_0x232ea6-_0xb5739a),'y':_0x5468d0},_0x2b66a5={'x':_0x258b16(_0x232ea6),'y':_0x5468d0+_0xb5739a},_0x3cccab={'x':_0x26186b['x'],'y':_0x2d9797},_0x39b14a=0.25,_0x90ec37=Math[_0x26966b(0x11a)](_0x26186b['y']-_0x5fe46,_0x26186b['x']-_0x3ab22f),_0x40cc6c={'x':_0x26186b['x']-Math['cos'](_0x90ec37)*_0xb5739a*_0x39b14a,'y':_0x26186b['y']-Math[_0x26966b(0x19a)](_0x90ec37)*_0xb5739a*_0x39b14a},_0x227d6d={'x':(_0xc6ab8e['x']+_0x40cc6c['x'])/0x2,'y':(_0xc6ab8e['y']+_0x40cc6c['y'])/0x2},_0xd34ed3={'x':_0x26186b['x'],'y':(_0x26186b['y']+_0x3cccab['y'])/0x2},_0x702f91=0.552284749831,_0x44fb13=_0xb5739a*_0x702f91,_0x33577b=_0xb5739a*_0x702f91;let _0x4a8469=[];_0x4a8469[_0x26966b(0x16d)]({'p0':_0xc6ab8e,'p1':{'x':_0xc6ab8e['x']+(_0x227d6d['x']-_0xc6ab8e['x'])*0.33,'y':_0xc6ab8e['y']+(_0x227d6d['y']-_0xc6ab8e['y'])*0.33},'p2':{'x':_0xc6ab8e['x']+(_0x227d6d['x']-_0xc6ab8e['x'])*0.66,'y':_0xc6ab8e['y']+(_0x227d6d['y']-_0xc6ab8e['y'])*0.66},'p3':_0x227d6d}),_0x4a8469[_0x26966b(0x16d)]({'p0':_0x227d6d,'p1':{'x':_0x227d6d['x']+(_0x40cc6c['x']-_0x227d6d['x'])*0.33,'y':_0x227d6d['y']+(_0x40cc6c['y']-_0x227d6d['y'])*0.33},'p2':{'x':_0x227d6d['x']+(_0x40cc6c['x']-_0x227d6d['x'])*0.66,'y':_0x227d6d['y']+(_0x40cc6c['y']-_0x227d6d['y'])*0.66},'p3':_0x40cc6c});const _0x508598={'x':_0x40cc6c['x']+(_0x40cc6c['x']-_0x227d6d['x'])*0.3,'y':_0x40cc6c['y']+(_0x40cc6c['y']-_0x227d6d['y'])*0.3},_0x455466={'x':_0x258b16(_0x232ea6+_0x44fb13),'y':_0x2ef72e['y']};return _0x4a8469[_0x26966b(0x16d)]({'p0':_0x40cc6c,'p1':_0x508598,'p2':_0x455466,'p3':_0x2ef72e}),_0x4a8469[_0x26966b(0x16d)]({'p0':_0x2ef72e,'p1':{'x':_0x258b16(_0x232ea6-_0x44fb13),'y':_0x2ef72e['y']},'p2':{'x':_0x2ebe05['x'],'y':_0x2ebe05['y']-_0x33577b},'p3':_0x2ebe05}),_0x4a8469[_0x26966b(0x16d)]({'p0':_0x2ebe05,'p1':{'x':_0x2ebe05['x'],'y':_0x2ebe05['y']+_0x33577b},'p2':{'x':_0x258b16(_0x232ea6-_0x44fb13),'y':_0x2b66a5['y']},'p3':_0x2b66a5}),_0x4a8469[_0x26966b(0x16d)]({'p0':_0x2b66a5,'p1':{'x':_0x258b16(_0x232ea6+_0x44fb13),'y':_0x2b66a5['y']},'p2':{'x':_0x26186b['x'],'y':_0x26186b['y']+_0x33577b},'p3':_0x26186b}),_0x4a8469[_0x26966b(0x16d)]({'p0':_0x26186b,'p1':{'x':_0x26186b['x']+(_0xd34ed3['x']-_0x26186b['x'])*0.33,'y':_0x26186b['y']+(_0xd34ed3['y']-_0x26186b['y'])*0.33},'p2':{'x':_0x26186b['x']+(_0xd34ed3['x']-_0x26186b['x'])*0.66,'y':_0x26186b['y']+(_0xd34ed3['y']-_0x26186b['y'])*0.66},'p3':_0xd34ed3}),_0x4a8469[_0x26966b(0x16d)]({'p0':_0xd34ed3,'p1':{'x':_0xd34ed3['x']+(_0x3cccab['x']-_0xd34ed3['x'])*0.33,'y':_0xd34ed3['y']+(_0x3cccab['y']-_0xd34ed3['y'])*0.33},'p2':{'x':_0xd34ed3['x']+(_0x3cccab['x']-_0xd34ed3['x'])*0.66,'y':_0xd34ed3['y']+(_0x3cccab['y']-_0xd34ed3['y'])*0.66},'p3':_0x3cccab}),_0x4a8469;};normalWaveEntrancePaths['boss_loop_left']=_0x2db5d0(![]),normalWaveEntrancePaths['boss_loop_right']=_0x2db5d0(!![]);const _0xf006b4=0x2ee,_0x5933ff=0x15e*_0x56d142,_0x24b0b6={'x':_0x54a680,'y':_0xdb1ed5},_0x597a27={'x':(_0x54a680+(0x2ee-0x190)*(0x2/0x3))*_0x51e4a6,'y':(-0x32+(_0xf006b4- -0x32)*(0x2/0x3))*_0x56d142},_0x21b0a2={'x':(0x190+(0x2ee-0x190)*(0x1/0x3))*_0x51e4a6,'y':(_0x5933ff+(_0xf006b4-_0x5933ff)*(0x1/0x3))*_0x56d142},_0x1cc1c9={'x':_0x54a680,'y':_0x5933ff};normalWaveEntrancePaths[_0x4166a4(0x10e)]=[{'p0':_0x24b0b6,'p1':_0x597a27,'p2':_0x21b0a2,'p3':_0x1cc1c9}];const _0x38d39d={'x':_0x54a680,'y':_0xdb1ed5},_0x3d275a={'x':_0x4b6cbe-_0x597a27['x'],'y':_0x597a27['y']},_0x201d90={'x':_0x4b6cbe-_0x21b0a2['x'],'y':_0x21b0a2['y']},_0x1d8238={'x':_0x54a680,'y':_0x5933ff};normalWaveEntrancePaths[_0x4166a4(0x18b)]=[{'p0':_0x38d39d,'p1':_0x3d275a,'p2':_0x201d90,'p3':_0x1d8238}];for(const _0x4eb0ec in normalWaveEntrancePaths){if(!Array[_0x4166a4(0x163)](normalWaveEntrancePaths[_0x4eb0ec])){console['error']('Normal\x20Wave\x20Path\x20'+_0x4eb0ec+_0x4166a4(0x10c)),normalWaveEntrancePaths[_0x4eb0ec]=[{'p0':{'x':_0x4b6cbe/0x2,'y':_0xdb1ed5},'p1':{'x':_0x4b6cbe/0x2,'y':_0x14dc81/0x3},'p2':{'x':_0x4b6cbe/0x2,'y':_0x14dc81*0x2/0x3},'p3':{'x':_0x4b6cbe/0x2,'y':ENEMY_TOP_MARGIN}}];continue;}normalWaveEntrancePaths[_0x4eb0ec]=normalWaveEntrancePaths[_0x4eb0ec][_0x4166a4(0x1ae)](_0x55177d=>_0x55177d?.['p0']&&_0x55177d?.['p1']&&_0x55177d?.['p2']&&_0x55177d?.['p3']&&typeof _0x55177d['p0']['x']===_0x4166a4(0x19f)&&typeof _0x55177d['p0']['y']===_0x4166a4(0x19f)&&typeof _0x55177d['p1']['x']===_0x4166a4(0x19f)&&typeof _0x55177d['p1']['y']===_0x4166a4(0x19f)&&typeof _0x55177d['p2']['x']==='number'&&typeof _0x55177d['p2']['y']==='number'&&typeof _0x55177d['p3']['x']===_0x4166a4(0x19f)&&typeof _0x55177d['p3']['y']===_0x4166a4(0x19f)&&!isNaN(_0x55177d['p0']['x']+_0x55177d['p0']['y']+_0x55177d['p1']['x']+_0x55177d['p1']['y']+_0x55177d['p2']['x']+_0x55177d['p2']['y']+_0x55177d['p3']['x']+_0x55177d['p3']['y'])),normalWaveEntrancePaths[_0x4eb0ec][_0x4166a4(0x145)]===0x0&&(console[_0x4166a4(0x17c)](_0x4166a4(0x1a0)+_0x4eb0ec+_0x4166a4(0xfe)),normalWaveEntrancePaths[_0x4eb0ec]=[{'p0':{'x':_0x4b6cbe/0x2,'y':_0xdb1ed5},'p1':{'x':_0x4b6cbe/0x2,'y':_0x14dc81/0x3},'p2':{'x':_0x4b6cbe/0x2,'y':_0x14dc81*0x2/0x3},'p3':{'x':_0x4b6cbe/0x2,'y':ENEMY_TOP_MARGIN}}]);}}function defineChallengingStagePaths(){const _0xfc847=_0x4b4af5;challengingStagePaths={};const _0x4d4662=gameCanvas?.[_0xfc847(0x1a7)],_0x2e5620=gameCanvas?.[_0xfc847(0x142)];if(!_0x4d4662||!_0x2e5620||_0x4d4662===0x0){console[_0xfc847(0x17c)](_0xfc847(0xe3));return;}const _0xe99a46=ENEMY_WIDTH,_0x18bba3=ENEMY_HEIGHT,_0x5e072f=-_0x18bba3*1.5,_0x5b309d=_0x2e5620+_0x18bba3*0x2,_0x3f865e=-_0xe99a46*1.5,_0x2590eb=_0x4d4662+_0xe99a46*1.5,_0x4c6ecd=_0x4d4662/0x2,_0x4aaf3a=_0x2e5620/0x2,_0x27f9c3=-0x1c,_0x453d72=(_0x579a7b,_0x3c311e)=>{const _0x18a665=_0xfc847;return _0x579a7b[_0x18a665(0x1b2)](_0x3f60b3=>{const _0x29b536=_0x18a665,_0xac75=JSON[_0x29b536(0x167)](JSON[_0x29b536(0x143)](_0x3f60b3));if(_0xac75['p0']&&typeof _0xac75['p0']['x']===_0x29b536(0x19f))_0xac75['p0']['x']+=_0x3c311e;if(_0xac75['p1']&&typeof _0xac75['p1']['x']==='number')_0xac75['p1']['x']+=_0x3c311e;if(_0xac75['p2']&&typeof _0xac75['p2']['x']===_0x29b536(0x19f))_0xac75['p2']['x']+=_0x3c311e;return _0xac75['p3']&&typeof _0xac75['p3']['x']===_0x29b536(0x19f)&&_0xac75['p3']['x']!==_0x3f865e&&_0xac75['p3']['x']!==_0x2590eb&&(_0xac75['p3']['x']+=_0x3c311e),_0xac75;});},_0x4d362c=37.8/0x320*0.3,_0x59cb06=0.5-_0x4d362c,_0x570077=0x1c2/0x258,_0x145e5c=0.49,_0x3e1d8f=0x258/0x258,_0x222fbb=0.48,_0x58394a=0x12c/0x258,_0x18d2f9=_0x4d4662*_0x59cb06,_0x205156=_0x2e5620*_0x570077,_0x300569=_0x4d4662*_0x145e5c,_0x3e3541=_0x2e5620*Math[_0xfc847(0xe4)](0x1,_0x3e1d8f),_0x241be2=_0x4d4662*_0x222fbb,_0x3b938a=_0x2e5620*_0x58394a,_0x539ae9=_0x3f865e,_0x767f4b=_0x5e072f,_0x459387={'x':_0x18d2f9,'y':_0x5e072f},_0x12994c={'x':_0x18d2f9,'y':_0x205156},_0x38e590={'x':_0x18d2f9,'y':_0x5e072f+(_0x205156-_0x5e072f)*0.33},_0x11d0b4={'x':_0x18d2f9,'y':_0x5e072f+(_0x205156-_0x5e072f)*0.66},_0x525099=_0x12994c,_0x9fc8ef={'x':_0x300569,'y':_0x3e3541},_0x25d703={'x':_0x241be2,'y':_0x3b938a},_0xca7c89={'x':_0x539ae9,'y':_0x767f4b},_0x39a8b8=[{'p0':_0x459387,'p1':_0x38e590,'p2':_0x11d0b4,'p3':_0x12994c},{'p0':_0x525099,'p1':_0x9fc8ef,'p2':_0x25d703,'p3':_0xca7c89}],_0x31053c=_0x39a8b8['map'](_0x4d84f9=>({'p0':{'x':_0x4d4662-_0x4d84f9['p0']['x'],'y':_0x4d84f9['p0']['y']},'p1':{'x':_0x4d4662-_0x4d84f9['p1']['x'],'y':_0x4d84f9['p1']['y']},'p2':{'x':_0x4d4662-_0x4d84f9['p2']['x'],'y':_0x4d84f9['p2']['y']},'p3':{'x':_0x4d84f9['p3']['x']===_0x3f865e?_0x2590eb:_0x4d4662-_0x4d84f9['p3']['x'],'y':_0x4d84f9['p3']['y']}}));challengingStagePaths[_0xfc847(0x12f)]=_0x453d72(_0x39a8b8,_0x27f9c3),challengingStagePaths[_0xfc847(0x11c)]=_0x453d72(_0x31053c,_0x27f9c3);const _0x13590e=_0x2e5620*0.7,_0x3187b1=_0x2e5620*0.03,_0x588c10=_0x4d4662*0.15;challengingStagePaths[_0xfc847(0x1aa)]=[{'p0':{'x':_0x3f865e,'y':_0x13590e},'p1':{'x':_0x3f865e+_0x588c10,'y':_0x13590e-_0x3187b1},'p2':{'x':_0x2590eb-_0x588c10,'y':_0x13590e+_0x3187b1},'p3':{'x':_0x2590eb,'y':_0x13590e}}],challengingStagePaths['CS_HorizontalFlyByR']=[{'p0':{'x':_0x2590eb,'y':_0x13590e},'p1':{'x':_0x2590eb-_0x588c10,'y':_0x13590e-_0x3187b1},'p2':{'x':_0x3f865e+_0x588c10,'y':_0x13590e+_0x3187b1},'p3':{'x':_0x3f865e,'y':_0x13590e}}];const _0x2bec10=_0x2e5620*0.8,_0xc6f7c0=_0x2e5620*0.55,_0x121c9e=_0x2e5620*0.15;challengingStagePaths[_0xfc847(0x14f)]=[{'p0':{'x':_0x4d4662*0.1,'y':_0x5e072f},'p1':{'x':_0x4d4662*0.2,'y':_0x2e5620*0.2},'p2':{'x':_0x4d4662*0.6,'y':_0x2bec10},'p3':{'x':_0x4d4662*0.7,'y':_0x2bec10}},{'p0':{'x':_0x4d4662*0.7,'y':_0x2bec10},'p1':{'x':_0x4d4662*0.8,'y':_0x2bec10},'p2':{'x':_0x4d4662*0.8,'y':_0xc6f7c0},'p3':{'x':_0x4d4662*0.7,'y':_0xc6f7c0}},{'p0':{'x':_0x4d4662*0.7,'y':_0xc6f7c0},'p1':{'x':_0x4d4662*0.6,'y':_0xc6f7c0},'p2':{'x':_0x2590eb,'y':_0x121c9e},'p3':{'x':_0x2590eb,'y':_0x121c9e+_0x2e5620*0.1}}],challengingStagePaths[_0xfc847(0x14a)]=[{'p0':{'x':_0x4d4662*0.9,'y':_0x5e072f},'p1':{'x':_0x4d4662*0.8,'y':_0x2e5620*0.2},'p2':{'x':_0x4d4662*0.4,'y':_0x2bec10},'p3':{'x':_0x4d4662*0.3,'y':_0x2bec10}},{'p0':{'x':_0x4d4662*0.3,'y':_0x2bec10},'p1':{'x':_0x4d4662*0.2,'y':_0x2bec10},'p2':{'x':_0x4d4662*0.2,'y':_0xc6f7c0},'p3':{'x':_0x4d4662*0.3,'y':_0xc6f7c0}},{'p0':{'x':_0x4d4662*0.3,'y':_0xc6f7c0},'p1':{'x':_0x4d4662*0.4,'y':_0xc6f7c0},'p2':{'x':_0x3f865e,'y':_0x121c9e},'p3':{'x':_0x3f865e,'y':_0x121c9e+_0x2e5620*0.1}}],challengingStagePaths[_0xfc847(0x176)]=[{'p0':{'x':_0x3f865e,'y':_0x2e5620*0.6},'p1':{'x':_0x4d4662*0.1,'y':_0x2e5620*0.4},'p2':{'x':_0x4d4662*0.6,'y':_0x2e5620*0.2},'p3':{'x':_0x4c6ecd,'y':_0x2e5620*0.3}},{'p0':{'x':_0x4c6ecd,'y':_0x2e5620*0.3},'p1':{'x':_0x4d4662*0.4,'y':_0x2e5620*0.4},'p2':{'x':_0x4d4662*0.3,'y':_0x2bec10*0.9},'p3':{'x':_0x4d4662*0.4,'y':_0x2bec10}},{'p0':{'x':_0x4d4662*0.4,'y':_0x2bec10},'p1':{'x':_0x4d4662*0.5,'y':_0x2bec10*1.05},'p2':{'x':_0x4c6ecd,'y':_0x5e072f},'p3':{'x':_0x4c6ecd+_0x4d4662*0.1,'y':_0x5e072f}}],challengingStagePaths[_0xfc847(0x1a1)]=[{'p0':{'x':_0x2590eb,'y':_0x2e5620*0.6},'p1':{'x':_0x4d4662*0.9,'y':_0x2e5620*0.4},'p2':{'x':_0x4d4662*0.4,'y':_0x2e5620*0.2},'p3':{'x':_0x4c6ecd,'y':_0x2e5620*0.3}},{'p0':{'x':_0x4c6ecd,'y':_0x2e5620*0.3},'p1':{'x':_0x4d4662*0.6,'y':_0x2e5620*0.4},'p2':{'x':_0x4d4662*0.7,'y':_0x2bec10*0.9},'p3':{'x':_0x4d4662*0.6,'y':_0x2bec10}},{'p0':{'x':_0x4d4662*0.6,'y':_0x2bec10},'p1':{'x':_0x4d4662*0.5,'y':_0x2bec10*1.05},'p2':{'x':_0x4c6ecd,'y':_0x5e072f},'p3':{'x':_0x4c6ecd-_0x4d4662*0.1,'y':_0x5e072f}}];for(const _0x27f8ca in challengingStagePaths){challengingStagePaths[_0x27f8ca]=challengingStagePaths[_0x27f8ca]['filter'](_0x44bff5=>_0x44bff5?.['p0']&&_0x44bff5?.['p1']&&_0x44bff5?.['p2']&&_0x44bff5?.['p3']&&!isNaN(_0x44bff5['p0']['x']+_0x44bff5['p0']['y']+_0x44bff5['p1']['x']+_0x44bff5['p1']['y']+_0x44bff5['p2']['x']+_0x44bff5['p2']['y']+_0x44bff5['p3']['x']+_0x44bff5['p3']['y'])),challengingStagePaths[_0x27f8ca]['length']===0x0&&(console[_0xfc847(0x17c)](_0xfc847(0xe9)+_0x27f8ca+_0xfc847(0x110)),challengingStagePaths[_0x27f8ca]=[{'p0':{'x':_0x4d4662/0x2,'y':_0x5e072f},'p1':{'x':_0x4d4662/0x2,'y':_0x2e5620/0x3},'p2':{'x':_0x4d4662/0x2,'y':_0x2e5620*0x2/0x3},'p3':{'x':_0x4d4662/0x2,'y':_0x5b309d}}]);}}function resizeCanvases(){const _0x153f95=_0x4b4af5;try{const _0x533f42=window[_0x153f95(0x19b)],_0x5da768=window['innerHeight'];if(_0x533f42<=0x0||_0x5da768<=0x0)return;starrySkyCanvas&&(starrySkyCanvas[_0x153f95(0x1a7)]!==_0x533f42||starrySkyCanvas['height']!==_0x5da768)&&(starrySkyCanvas[_0x153f95(0x1a7)]=_0x533f42,starrySkyCanvas['height']=_0x5da768,createStars());retroGridCanvas&&(retroGridCanvas[_0x153f95(0x1a7)]!==_0x533f42||retroGridCanvas['height']!==_0x5da768)&&(retroGridCanvas[_0x153f95(0x1a7)]=_0x533f42,retroGridCanvas['height']=_0x5da768);if(gameCanvas&&(gameCanvas[_0x153f95(0x1a7)]!==_0x533f42||gameCanvas[_0x153f95(0x142)]!==_0x5da768)){const _0x55d7e0=gameCanvas[_0x153f95(0x1a7)];gameCanvas[_0x153f95(0x1a7)]=_0x533f42,gameCanvas['height']=_0x5da768,defineNormalWaveEntrancePaths(),defineChallengingStagePaths(),isInGameState&&handleResizeGameElements(_0x55d7e0,_0x533f42,_0x5da768);}else(!gameCanvas?.[_0x153f95(0x1a7)]||!gameCanvas?.[_0x153f95(0x142)])&&(defineNormalWaveEntrancePaths(),defineChallengingStagePaths());}catch(_0x27df8a){console[_0x153f95(0x17c)](_0x153f95(0x119),_0x27df8a);}}function handleResizeGameElements(_0x583858,_0x1a6723,_0x2492ec){const _0x233af1=_0x4b4af5;try{currentGridOffsetX=0x0,ship&&(_0x583858>0x0&&_0x1a6723>0x0&&typeof ship['x']!==_0x233af1(0xeb)?ship['x']=ship['x']/_0x583858*_0x1a6723:ship['x']=_0x1a6723/0x2-ship[_0x233af1(0x1a7)]/0x2,ship['x']=Math[_0x233af1(0x13a)](0x0,Math[_0x233af1(0xe4)](_0x1a6723-ship['width'],ship['x'])),ship['y']=_0x2492ec-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN,ship['targetX']=ship['x']),enemies['forEach'](_0x783f23=>{const _0x46f7d1=_0x233af1;if(_0x783f23&&(_0x783f23['state']==='in_grid'||_0x783f23[_0x46f7d1(0xf6)]===_0x46f7d1(0x10b)||_0x783f23['state']===_0x46f7d1(0x196)))try{const _0x4de67b=_0x783f23['type']===ENEMY3_TYPE?BOSS_WIDTH:_0x783f23[_0x46f7d1(0x16e)]===ENEMY1_TYPE?ENEMY1_WIDTH:ENEMY_WIDTH,{x:_0x1c0605,y:_0x5e8597}=getCurrentGridSlotPosition(_0x783f23[_0x46f7d1(0x13b)],_0x783f23[_0x46f7d1(0x17b)],_0x4de67b);_0x783f23[_0x46f7d1(0x14c)]=_0x1c0605,_0x783f23['targetGridY']=_0x5e8597,_0x783f23['state']===_0x46f7d1(0x1ac)&&(_0x783f23['x']=_0x1c0605,_0x783f23['y']=_0x5e8597);}catch(_0x19c17f){console[_0x46f7d1(0x17c)](_0x46f7d1(0x150)+_0x783f23['id']+_0x46f7d1(0x141),_0x19c17f),(_0x783f23[_0x46f7d1(0xf6)]===_0x46f7d1(0x1ac)||_0x783f23['state']==='moving_to_grid'||_0x783f23[_0x46f7d1(0xf6)]===_0x46f7d1(0x10b))&&(_0x783f23['x']=_0x1a6723/0x2,_0x783f23['y']=ENEMY_TOP_MARGIN+_0x783f23[_0x46f7d1(0x13b)]*(ENEMY_HEIGHT+ENEMY_V_SPACING),_0x783f23[_0x46f7d1(0x14c)]=_0x783f23['x'],_0x783f23[_0x46f7d1(0xfc)]=_0x783f23['y']);}});}catch(_0x913dd0){console[_0x233af1(0x17c)](_0x233af1(0x17d),_0x913dd0);}}function handleKeyDown(_0x3c2c39){const _0x392d2c=_0x4b4af5;try{const _0x4e037c=['\x20',_0x392d2c(0xed),_0x392d2c(0x1a6),_0x392d2c(0x181),_0x392d2c(0x19d),_0x392d2c(0x124),'Escape',_0x392d2c(0x15f),'w','a','s','d','p','P','j','J','l','L','i','I',_0x392d2c(0xfb),_0x392d2c(0x159),'Numpad0'];(_0x4e037c[_0x392d2c(0x165)](_0x3c2c39[_0x392d2c(0x122)])||_0x4e037c['includes'](_0x3c2c39[_0x392d2c(0x106)]))&&_0x3c2c39[_0x392d2c(0x18a)]();let _0x58f70d=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x58f70d=!![]);if(_0x58f70d)return;if(isInGameState){if((_0x3c2c39[_0x392d2c(0x122)]==='p'||_0x3c2c39[_0x392d2c(0x122)]==='P')&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){if(typeof togglePause===_0x392d2c(0x186))togglePause();return;}if(!isPaused){if(playerLives>0x0){if(!isManualControl){if(_0x3c2c39[_0x392d2c(0x122)]===_0x392d2c(0x17a)||_0x3c2c39[_0x392d2c(0x122)]===_0x392d2c(0x15f)){if(typeof stopGameAndShowMenu===_0x392d2c(0x186))stopGameAndShowMenu();}else{if(!_0x3c2c39[_0x392d2c(0x17e)]&&!_0x3c2c39[_0x392d2c(0x1a3)]&&!_0x3c2c39['metaKey']&&!_0x3c2c39[_0x392d2c(0x194)]){if(typeof showMenuState===_0x392d2c(0x186))showMenuState();}}}else{switch(_0x3c2c39[_0x392d2c(0x106)]){case'ArrowLeft':case _0x392d2c(0x1ab):keyboardP1LeftDown=!![];break;case _0x392d2c(0x19d):case _0x392d2c(0x185):keyboardP1RightDown=!![];break;case'Space':case _0x392d2c(0xed):case _0x392d2c(0x1b5):keyboardP1ShootDown=!![];break;case _0x392d2c(0x109):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case'KeyL':if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0x392d2c(0xfb):if(isTwoPlayerMode)keyboardP2LeftDown=!![];break;case _0x392d2c(0x159):if(isTwoPlayerMode)keyboardP2RightDown=!![];break;case _0x392d2c(0x16c):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case _0x392d2c(0x152):if(isTwoPlayerMode)keyboardP2ShootDown=!![];break;case'Enter':isTwoPlayerMode?currentPlayer===0x1?keyboardP1ShootDown=!![]:keyboardP2ShootDown=!![]:keyboardP1ShootDown=!![];break;case _0x392d2c(0x17a):case'Backspace':if(typeof stopGameAndShowMenu===_0x392d2c(0x186))stopGameAndShowMenu();break;}if(!keyboardP2LeftDown&&isTwoPlayerMode&&_0x3c2c39[_0x392d2c(0x122)]==='j')keyboardP2LeftDown=!![];if(!keyboardP2RightDown&&isTwoPlayerMode&&_0x3c2c39[_0x392d2c(0x122)]==='l')keyboardP2RightDown=!![];if(!keyboardP2ShootDown&&isTwoPlayerMode&&_0x3c2c39[_0x392d2c(0x122)]==='i')keyboardP2ShootDown=!![];}}}}else{if(isShowingScoreScreen){if(!_0x3c2c39[_0x392d2c(0x17e)]&&!_0x3c2c39[_0x392d2c(0x1a3)]&&!_0x3c2c39[_0x392d2c(0xee)]&&!_0x3c2c39['shiftKey']&&_0x3c2c39[_0x392d2c(0x122)]!=='p'&&_0x3c2c39[_0x392d2c(0x122)]!=='P'){if(typeof showMenuState===_0x392d2c(0x186))showMenuState();return;}}else{stopAutoDemoTimer();switch(_0x3c2c39['key']){case'ArrowUp':case'w':selectedButtonIndex=selectedButtonIndex<=0x0?0x1:0x0,startAutoDemoTimer();break;case _0x392d2c(0x1a6):case's':selectedButtonIndex=selectedButtonIndex>=0x1?0x0:0x1,startAutoDemoTimer();break;case _0x392d2c(0x124):case'\x20':if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x392d2c(0xf5):selectedFiringMode=_0x392d2c(0x168),baseStartGame(!![]);else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P();else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else selectedButtonIndex===0x1&&exitGame();}}break;case _0x392d2c(0x17a):if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer()):exitGame();break;case _0x392d2c(0x15f):if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer()):exitGame();break;default:startAutoDemoTimer();break;}}}}catch(_0x10b199){console[_0x392d2c(0x17c)]('Error\x20in\x20handleKeyDown:',_0x10b199),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function handleKeyUp(_0x75090c){const _0x362d7e=_0x4b4af5;try{switch(_0x75090c[_0x362d7e(0x106)]){case _0x362d7e(0x181):case _0x362d7e(0x1ab):keyboardP1LeftDown=![];break;case _0x362d7e(0x19d):case _0x362d7e(0x185):keyboardP1RightDown=![];break;case'Space':case _0x362d7e(0xed):case _0x362d7e(0x1b5):keyboardP1ShootDown=![];break;case _0x362d7e(0x109):keyboardP2LeftDown=![];break;case _0x362d7e(0xf7):keyboardP2RightDown=![];break;case _0x362d7e(0x16c):keyboardP2ShootDown=![];break;case _0x362d7e(0xfb):keyboardP2LeftDown=![];break;case _0x362d7e(0x159):keyboardP2RightDown=![];break;case _0x362d7e(0x152):keyboardP2ShootDown=![];break;case _0x362d7e(0x124):keyboardP1ShootDown=![],keyboardP2ShootDown=![];break;}if(keyboardP2LeftDown&&_0x75090c[_0x362d7e(0x122)]==='j')keyboardP2LeftDown=![];if(keyboardP2RightDown&&_0x75090c['key']==='l')keyboardP2RightDown=![];if(keyboardP2ShootDown&&_0x75090c[_0x362d7e(0x122)]==='i')keyboardP2ShootDown=![];}catch(_0x2cd308){console['error'](_0x362d7e(0x11d),_0x2cd308),keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![];}}function handleGamepadConnected(_0x5712ad){const _0x158768=_0x4b4af5;try{if(connectedGamepadIndex===null){connectedGamepadIndex=_0x5712ad[_0x158768(0x1ad)][_0x158768(0x153)];const _0x3eab9c=_0x5712ad[_0x158768(0x1ad)]['buttons'][_0x158768(0x145)];previousButtonStates=new Array(_0x3eab9c)[_0x158768(0x125)](![]),previousDemoButtonStates=new Array(_0x3eab9c)['fill'](![]),previousGameButtonStates=new Array(_0x3eab9c)[_0x158768(0x125)](![]),!isInGameState&&(stopAutoDemoTimer(),selectedButtonIndex=0x0);}else{if(connectedGamepadIndexP2===null){connectedGamepadIndexP2=_0x5712ad[_0x158768(0x1ad)][_0x158768(0x153)];const _0x18cc88=_0x5712ad[_0x158768(0x1ad)][_0x158768(0x14d)]['length'];previousGameButtonStatesP2=new Array(_0x18cc88)[_0x158768(0x125)](![]);}else{}}}catch(_0x4d1905){console['error'](_0x158768(0x118),_0x4d1905);}}function handleGamepadDisconnected(_0x26d7df){const _0x4f7461=_0x4b4af5;try{if(connectedGamepadIndex===_0x26d7df[_0x4f7461(0x1ad)][_0x4f7461(0x153)])connectedGamepadIndex=null,previousButtonStates=[],previousDemoButtonStates=[],previousGameButtonStates=[],!isInGameState&&(selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],startAutoDemoTimer()),p1FireInputWasDown=![];else connectedGamepadIndexP2===_0x26d7df['gamepad']['index']&&(connectedGamepadIndexP2=null,previousGameButtonStatesP2=[],p2FireInputWasDown=![]);}catch(_0x4ecd24){console[_0x4f7461(0x17c)](_0x4f7461(0x166),_0x4ecd24),p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];}}function saveHighScore(){const _0x1719f7=_0x4b4af5;try{let _0x2630f4=0x0;isTwoPlayerMode?_0x2630f4=Math[_0x1719f7(0x13a)](player1Score,player2Score):_0x2630f4=score,isManualControl&&_0x2630f4>highScore&&(highScore=_0x2630f4);}catch(_0x90ae9c){console[_0x1719f7(0x17c)](_0x1719f7(0x1b7),_0x90ae9c);}}function _0x42c2(){const _0x3825dd=['innerHTML','KeyD','function','mozRequestFullScreen','Afbeeldingen/bullet.png','boss_loop_right','preventDefault','mid_curve_left','name','webkitRequestFullscreen','strokeStyle','catch','gameCanvas','516385VZPqye','Afbeeldingen/Level-30.png','Afbeeldingen/spaceship.png','shiftKey','radius','moving_to_grid','Cannot\x20define\x20Normal\x20Wave\x20entrance\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','Geluiden/Bees-hit.mp3','gamepadconnected','sin','innerWidth','new_path_left','ArrowRight','pause','number','Normal\x20Wave\x20Path\x20','CS_LoopAttack_BR','clearRect','ctrlKey','Geluiden/LevelUp.mp3','pow','ArrowDown','width','alphaChange','rgba(255,\x20255,\x20255,\x20','CS_HorizontalFlyByL','KeyA','in_grid','gamepad','filter','Geluiden/lost-live.mp3','Geluiden/results-music.mp3','Afbeeldingen/Level-10.png','map','enemy3','Error\x20in\x20stopSound:','KeyW','fillStyle','Error\x20in\x20saveHighScore:','moveTo','Cannot\x20define\x20CS\x20paths:\x20Canvas\x20size\x20unknown\x20or\x20zero\x20width.','min','Geluiden/firing.mp3','Afbeeldingen/bullet-enemy.png','Geluiden/Boss-hit2.mp3','Geluiden/hi-score.mp3','CS\x20Path\x20','msRequestFullscreen','undefined','gamepaddisconnected','ArrowUp','metaKey','rgba(','lineTo','beginPath','52FCnsDb','Error\x20in\x20drawStars:','Afbeeldingen/bee-2.png','rapid','state','KeyL','retroGridCanvas','Geluiden/Capture.mp3','new_path_right','Numpad4','targetGridY','Geluiden/Entree.mp3','\x20empty\x20after\x20validation!\x20Using\x20basic\x20fallback.','body','Afbeeldingen/Level-20.png','shoot','41034OmJynv','Afbeeldingen/Level-50.png','random','Fullscreen\x20error\x20(MS):\x20','code','Geluiden/Boss-hit1.mp3','currentTime','KeyJ','floor','returning','\x20is\x20not\x20an\x20array!\x20Using\x20basic\x20fallback.','5080518QxIplb','mid_curve_right','cyan','\x20empty\x20after\x20validation!\x20Adding\x20fallback.','axes','loop','NotAllowedError','rgba(180,\x20180,\x20255,\x200.1)','right','811944dULTUN','bold\x2012px\x20\x27Press\x20Start\x202P\x27','Error\x20in\x20handleGamepadConnected:','Error\x20in\x20resizeCanvases:','atan2','stroke','CS3_DiveLoopR_Sharp','Error\x20in\x20handleKeyUp:','Geluiden/CS-Stage-Perfect-.mp3','Afbeeldingen/butterfly.png','starrySkyCanvas','addEventListener','key','Geluiden/Achtergrond-grid.mp3','Enter','fill','AbortError','Geluiden/gameover.mp3','message','round','Geluiden/Menu-music.mp3','rgba(255,\x20150,\x20150,\x200.55)','Geluiden/Fire-enemy.mp3','enemy1','768368QkpccN','CS3_DiveLoopL_Sharp','Geluiden/Capture-ship.mp3','Sound\x20play\x20failed\x20for\x20','arc','ended','fullscreenElement','red','back','enemy2','toFixed','FATAL:\x20Could\x20not\x20initialize\x20one\x20or\x20more\x20canvas\x20contexts!','max','gridRow','Sound\x20resume\x20failed\x20for\x20','Geluiden/Triple.mp3','5396880KKMSCi','Geluiden/coin.mp3','<p\x20style=\x22color:white;\x22>FATAL\x20ERROR</p>','\x20on\x20resize:','height','stringify','Error\x20in\x20drawRetroGrid:','length','Geluiden/Butterfly-hit.mp3','attacking','Geluiden/Waveup.mp3','3187545vNGMff','CS_LoopAttack_TR','forEach','targetGridX','buttons','resize','CS_LoopAttack_TL','Error\x20recalculating\x20grid\x20pos\x20for\x20enemy\x20','left','Numpad0','index','Error\x20in\x20playSound:','pressed','Error\x20loading\x20image:\x20','boss_loop_left','documentElement','Numpad6','getElementById','rgba(255,\x20255,\x20180,\x200.9)','Error\x20pausing\x20sound:','100,\x20180,\x20255','rgba(220,\x20220,\x20255,\x200.6)','Backspace','Geluiden/Enemy2.mp3','volume','Error\x20loading\x20sound:\x20','isArray','play','includes','Error\x20in\x20handleGamepadDisconnected:','parse','single','Fullscreen\x20error\x20(FF):\x20','alpha','Geluiden/flying.mp3','KeyI','push','type','paused','requestFullscreen','onerror','getContext','Afbeeldingen/butterfly-2.png','Fullscreen\x20error:\x20','warn','CS_LoopAttack_BL','35RLSmYn','Afbeeldingen/Level-5.png','Fullscreen\x20error\x20(WebKit):\x20','Escape','gridCol','error','Error\x20handling\x20game\x20resize\x20specifics:','altKey','Geluiden/CS-Clear.mp3','Afbeeldingen/bossGalaga.png','ArrowLeft','src','Error\x20resuming\x20sound:'];_0x42c2=function(){return _0x3825dd;};return _0x42c2();}function loadHighScore(){const _0x279e32=_0x4b4af5;try{highScore=0x4e20;}catch(_0x1151e8){console[_0x279e32(0x17c)]('Error\x20in\x20loadHighScore:',_0x1151e8),highScore=0x4e20;}}const soundsToPause=[playerShootSound,explosionSound,entranceSound,bossGalagaDiveSound,levelUpSound,enemyShootSound,butterflyDiveSound,startSound,coinSound,beeHitSound,butterflyHitSound,bossHit1Sound,bossHit2Sound,gridBackgroundSound,extraLifeSound,csPerfectSound,csClearSound,waveUpSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];let soundPausedStates={};function pauseAllSounds(){const _0x2f2dc2=_0x4b4af5;soundPausedStates={},soundsToPause[_0x2f2dc2(0x14b)](_0x2c3c13=>{const _0x46a105=_0x2f2dc2;if(_0x2c3c13&&!_0x2c3c13[_0x46a105(0x16f)])try{_0x2c3c13[_0x46a105(0x19e)](),soundPausedStates[_0x2c3c13[_0x46a105(0x182)]||_0x2c3c13]=!![];}catch(_0x10cb0f){console['error'](_0x46a105(0x15c),_0x2c3c13['src']||_0x2c3c13,_0x10cb0f);}}),stopSound(menuMusicSound);}function resumeAllSounds(){const _0x59e6c4=_0x4b4af5;!isInGameState&&typeof menuMusicSound!=='undefined'?playSound(menuMusicSound):soundsToPause[_0x59e6c4(0x14b)](_0x2bb7ce=>{const _0x284ee3=_0x59e6c4;if(_0x2bb7ce&&soundPausedStates[_0x2bb7ce[_0x284ee3(0x182)]||_0x2bb7ce])try{if(_0x2bb7ce[_0x284ee3(0x112)]||!_0x2bb7ce[_0x284ee3(0x133)]){const _0x588292=_0x2bb7ce['play']();_0x588292!==undefined&&_0x588292[_0x284ee3(0x18f)](_0x3a9564=>{const _0x28a550=_0x284ee3;_0x3a9564['name']!==_0x28a550(0x126)&&_0x3a9564[_0x28a550(0x18c)]!==_0x28a550(0x113)&&console[_0x28a550(0x175)](_0x28a550(0x13c)+_0x2bb7ce['src']+':\x20'+_0x3a9564[_0x28a550(0x128)]);});}}catch(_0x38cf98){console[_0x284ee3(0x17c)](_0x284ee3(0x183),_0x2bb7ce['src']||_0x2bb7ce,_0x38cf98);}}),soundPausedStates={};}function togglePause(){if(!isInGameState||playerLives<=0x0||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)return;isPaused=!isPaused,isPaused?(pauseAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null):(resumeAllSounds(),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0));}function processSingleController(_0x11227e,_0x1921a0){const _0x56f237=_0x4b4af5,_0x210b97=_0x11227e[_0x56f237(0x14d)][_0x56f237(0x1b2)](_0x39416f=>_0x39416f[_0x56f237(0x155)]),_0x45273c={'left':![],'right':![],'shoot':![],'pause':![],'back':![],'newButtonStates':_0x210b97['slice']()},_0x40b994=_0x210b97[PS5_BUTTON_CROSS],_0x530977=_0x210b97[PS5_BUTTON_R1],_0x1ec52c=_0x1921a0[PS5_BUTTON_R1]??![],_0x2fb506=_0x210b97[PS5_BUTTON_TRIANGLE],_0x40e21c=_0x1921a0[PS5_BUTTON_TRIANGLE]??![],_0x3d3fc7=_0x11227e[_0x56f237(0x111)][PS5_LEFT_STICK_X]??0x0,_0x1202ba=_0x210b97[PS5_DPAD_LEFT],_0x9bfd8c=_0x210b97[PS5_DPAD_RIGHT],_0x48955e=AXIS_DEAD_ZONE_GAMEPLAY;if(_0x3d3fc7<-_0x48955e||_0x1202ba)_0x45273c[_0x56f237(0x151)]=!![];else(_0x3d3fc7>_0x48955e||_0x9bfd8c)&&(_0x45273c[_0x56f237(0x115)]=!![]);return _0x40b994&&(_0x45273c[_0x56f237(0x101)]=!![]),_0x530977&&!_0x1ec52c&&(_0x45273c[_0x56f237(0x19e)]=!![]),_0x2fb506&&!_0x40e21c&&(_0x45273c[_0x56f237(0x136)]=!![]),_0x45273c;}function triggerFinalGameOverSequence(){const _0x430676=_0x4b4af5;if(isInGameState&&gameOverSequenceStartTime===0x0){isPaused=![],isShowingDemoText=![],isShowingIntro=![],isWaveTransitioning=![],showCsHitsMessage=![],showExtraLifeMessage=![],showPerfectMessage=![],showCSClearMessage=![],showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showReadyMessage=![],showCsBonusScoreMessage=![],isShowingPlayerGameOverMessage=![],isEntrancePhaseActive=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![];isManualControl&&saveHighScore();const _0x16b34d=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,hiScoreSound];_0x16b34d[_0x430676(0x14b)](_0x5d1726=>stopSound(_0x5d1726)),isGridSoundPlaying=![];typeof enemies!==_0x430676(0xeb)&&Array[_0x430676(0x163)](enemies)&&enemies['forEach'](_0x57041b=>{const _0x529da7=_0x430676;if(_0x57041b?.[_0x529da7(0xf6)]===_0x529da7(0x147)){if(_0x57041b[_0x529da7(0x16e)]===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}});const _0x5ac559=Date['now']();!isTwoPlayerMode?(playSound(gameOverSound),gameOverSequenceStartTime=_0x5ac559):gameOverSequenceStartTime=_0x5ac559-GAME_OVER_DURATION,bullets=[],enemyBullets=[],explosions=[],fallingShips=[],isDualShipActive=![],isShowingResultsScreen=![],previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[];}}function triggerGameOver(){triggerFinalGameOverSequence();}