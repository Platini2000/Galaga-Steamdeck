const _0x594ae1=_0x3b1d;(function(_0x5cd844,_0x1016aa){const _0x372697=_0x3b1d,_0x426453=_0x5cd844();while(!![]){try{const _0x1b5f54=-parseInt(_0x372697(0x1d1))/0x1*(parseInt(_0x372697(0x283))/0x2)+parseInt(_0x372697(0x290))/0x3*(parseInt(_0x372697(0x27d))/0x4)+-parseInt(_0x372697(0x27a))/0x5*(-parseInt(_0x372697(0x241))/0x6)+parseInt(_0x372697(0x286))/0x7+parseInt(_0x372697(0x238))/0x8+-parseInt(_0x372697(0x271))/0x9*(parseInt(_0x372697(0x224))/0xa)+-parseInt(_0x372697(0x27b))/0xb;if(_0x1b5f54===_0x1016aa)break;else _0x426453['push'](_0x426453['shift']());}catch(_0x46e989){_0x426453['push'](_0x426453['shift']());}}}(_0x1a87,0xe5803));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x594ae1(0x213),MENU_SUBTITLE_FONT=_0x594ae1(0x204),MENU_SUBTITLE_COLOR='darkred',MENU_BUTTON_FONT=_0x594ae1(0x23e),MENU_BUTTON_COLOR=_0x594ae1(0x1fc),MENU_BUTTON_COLOR_HOVER='rgba(0,\x20191,\x20255,\x200.9)',MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT=_0x594ae1(0x1de),MENU_SCORE_COLOR=_0x594ae1(0x1fc),MENU_SCORE_LABEL_COLOR='red',GAME_OVER_FONT=_0x594ae1(0x273),GAME_OVER_COLOR=_0x594ae1(0x25d),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT=_0x594ae1(0x273),DEMO_TEXT_COLOR=_0x594ae1(0x25d),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT=_0x594ae1(0x273),INTRO_TEXT_COLOR_NORMAL=_0x594ae1(0x25d),INTRO_TEXT_COLOR_DARK_YELLOW=_0x594ae1(0x1fb),INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR=_0x594ae1(0x250),EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x594ae1(0x28e),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR='white',RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0x9b,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function getSubtitleApproxHeight(_0x2e02a4){const _0x25c300=_0x594ae1,_0x2c0ec4=_0x2e02a4[_0x25c300(0x1d0)](/(\d+)px/);return _0x2c0ec4?.[0x1]?parseInt(_0x2c0ec4[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x49bdcd){const _0x379b3b=_0x594ae1;if(_0x49bdcd<=0x0||typeof _0x49bdcd!==_0x379b3b(0x23b)||!isFinite(_0x49bdcd))return _0x379b3b(0x28a);const _0x783bcf=Math[_0x379b3b(0x1cb)](_0x49bdcd/0x3e8),_0x5c5c4e=Math[_0x379b3b(0x1cb)](_0x783bcf/0x3c),_0x5133b7=_0x783bcf%0x3c,_0xcc9240=String(_0x5c5c4e)[_0x379b3b(0x1e2)](0x2,'0'),_0x401dcb=String(_0x5133b7)[_0x379b3b(0x1e2)](0x2,'0');return _0xcc9240+':'+_0x401dcb;}function getMenuButtonRect(_0x1c5b52){const _0x1605df=_0x594ae1;if(!gameCtx||!gameCanvas||gameCanvas[_0x1605df(0x1d2)]===0x0||gameCanvas[_0x1605df(0x1eb)]===0x0)return null;const _0x5dff47=gameCanvas['width'],_0x1767b1=gameCanvas[_0x1605df(0x1eb)],_0x186a6c=_0x5dff47/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x27d473=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!=='undefined'&&logoImage[_0x1605df(0x208)]&&logoImage[_0x1605df(0x23f)]!==0x0&&(_0x27d473=logoImage['naturalHeight']*LOGO_SCALE_FACTOR);const _0x1cfcbb=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x583c21=_0x27d473+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x1cfcbb;let _0x327f7e=(_0x1767b1-_0x583c21)/0x2-0x46;_0x327f7e+=MENU_GENERAL_Y_OFFSET;const _0x127928=_0x327f7e+_0x27d473+MENU_LOGO_BOTTOM_TO_START_GAP,_0x5dd499=_0x127928+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP;if(_0x1c5b52===0x0)return{'x':_0x186a6c,'y':Math[_0x1605df(0x25a)](_0x127928),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};else{if(_0x1c5b52===0x1)return{'x':_0x186a6c,'y':Math[_0x1605df(0x25a)](_0x5dd499),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};}return null;}function pollControllerForMenu(){const _0x25175d=_0x594ae1;try{if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates[_0x25175d(0x245)]>0x0)previousButtonStates=[];if(previousGameButtonStates[_0x25175d(0x245)]>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2['length']>0x0)previousGameButtonStatesP2=[];return;}let _0x4b1c4a=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0x4b1c4a===null)return;const _0x1a16df=navigator[_0x25175d(0x243)]();if(!_0x1a16df?.[_0x4b1c4a])return;const _0x334fa6=_0x1a16df[_0x4b1c4a],_0x10a9bd=_0x334fa6[_0x25175d(0x239)][_0x25175d(0x230)](_0x3a3037=>_0x3a3037[_0x25175d(0x216)]),_0x4105b3=_0x10a9bd,_0x3caa41=_0x10a9bd;let _0x3641a9=![];const _0x18f5cf=Date[_0x25175d(0x25e)]();let _0x3bf4e5=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x3bf4e5=!![]);if(_0x3bf4e5){connectedGamepadIndex!==null&&(previousButtonStates=_0x4105b3[_0x25175d(0x284)](),previousGameButtonStates=_0x3caa41['slice']());if(connectedGamepadIndexP2!==null){const _0xe4b21e=navigator[_0x25175d(0x243)]();_0xe4b21e?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0xe4b21e[connectedGamepadIndexP2][_0x25175d(0x239)][_0x25175d(0x230)](_0x424491=>_0x424491['pressed']));}return;}if(isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x2c031b=_0x3caa41[PS5_BUTTON_TRIANGLE],_0x26d506=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];_0x2c031b&&!_0x26d506&&(stopGameAndShowMenu(),_0x3641a9=!![]);}if(!_0x3641a9&&isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x2896c3=_0x3caa41[PS5_BUTTON_R1],_0x30708d=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x2896c3&&!_0x30708d){if(typeof togglePause===_0x25175d(0x281))togglePause();_0x3641a9=!![];}}if(!_0x3641a9){const _0x2d89c0=isShowingScoreScreen;if(_0x2d89c0){let _0x11d3bd=![];for(let _0x569117=0x0;_0x569117<_0x4105b3[_0x25175d(0x245)];_0x569117++){if(_0x569117===PS5_BUTTON_R1||_0x569117===PS5_BUTTON_TRIANGLE)continue;const _0x2eb669=previousButtonStates[_0x569117]??![];if(_0x4105b3[_0x569117]&&!_0x2eb669){_0x11d3bd=!![];break;}}if(_0x11d3bd){if(typeof showMenuState===_0x25175d(0x281))showMenuState();_0x3641a9=!![];}}else{if(!isInGameState&&!_0x3641a9){const _0x251776=_0x4105b3[PS5_BUTTON_CROSS],_0x4a3648=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x3feb88=_0x4105b3[PS5_BUTTON_CIRCLE],_0x4e5030=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x4866ff=_0x334fa6['axes'][PS5_LEFT_STICK_Y]??0x0,_0x634b69=_0x4105b3[PS5_DPAD_UP],_0x4feb65=_0x4105b3[PS5_DPAD_DOWN];let _0x46e21a=0x0;if(_0x4866ff<-AXIS_DEAD_ZONE_MENU||_0x634b69)_0x46e21a=-0x1;else{if(_0x4866ff>AXIS_DEAD_ZONE_MENU||_0x4feb65)_0x46e21a=0x1;}let _0x35a172=_0x46e21a!==0x0;if(_0x35a172&&!joystickMovedVerticallyLastFrame){let _0x26f623=selectedButtonIndex;const _0x240280=0x2;_0x26f623===-0x1?_0x26f623=_0x46e21a===0x1?0x0:_0x240280-0x1:_0x26f623+=_0x46e21a;if(_0x26f623<0x0)_0x26f623=_0x240280-0x1;if(_0x26f623>=_0x240280)_0x26f623=0x0;_0x26f623!==selectedButtonIndex&&(selectedButtonIndex=_0x26f623,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x35a172;if(_0x251776&&!_0x4a3648){stopAutoDemoTimer();if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x25175d(0x1cd):selectedFiringMode=_0x25175d(0x23c),baseStartGame(!![]),_0x3641a9=!![];else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P(),_0x3641a9=!![];else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x3641a9=!![];else selectedButtonIndex===0x1&&(exitGame(),_0x3641a9=!![]);}}}if(!_0x3641a9&&_0x3feb88&&!_0x4e5030){stopAutoDemoTimer();if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x3641a9=!![];else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x3641a9=!![]):(triggerFullscreen(),playSound(menuMusicSound),_0x3641a9=!![]);}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0x4105b3[_0x25175d(0x284)](),previousGameButtonStates=_0x3caa41[_0x25175d(0x284)]());if(connectedGamepadIndexP2!==null){const _0x1517fb=navigator[_0x25175d(0x243)]();_0x1517fb?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x1517fb[connectedGamepadIndexP2]['buttons'][_0x25175d(0x230)](_0x4ab4d3=>_0x4ab4d3[_0x25175d(0x216)]));}}catch(_0x3cdcb5){console[_0x25175d(0x1ec)](_0x25175d(0x246),_0x3cdcb5),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function startAutoDemoTimer(){const _0x581c60=_0x594ae1;try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0x257ed0){console['error'](_0x581c60(0x247),_0x257ed0);}}function stopAutoDemoTimer(){const _0x24464f=_0x594ae1;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x144b46){console[_0x24464f(0x1ec)](_0x24464f(0x218),_0x144b46);}}function showScoreScreen(){const _0x1a28f9=_0x594ae1;if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date[_0x1a28f9(0x25e)](),selectedButtonIndex=-0x1;}function showMenuState(){const _0xbdb8f=_0x594ae1;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0xbdb8f(0x1cd),isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![];const _0x4e369c=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];_0x4e369c['forEach'](_0x305fc9=>stopSound(_0x305fc9)),isGridSoundPlaying=![],typeof enemies!=='undefined'&&Array[_0xbdb8f(0x275)](enemies)&&enemies[_0xbdb8f(0x266)](_0x529b1d=>{const _0x2cddc9=_0xbdb8f;if(_0x529b1d?.[_0x2cddc9(0x200)]===_0x2cddc9(0x28f)){if(_0x529b1d[_0x2cddc9(0x28d)]===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}}),playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,typeof enemySpawnTimeouts!==_0xbdb8f(0x1fe)&&Array[_0xbdb8f(0x275)](enemySpawnTimeouts)&&enemySpawnTimeouts['forEach'](clearTimeout),enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],ship&&gameCanvas&&gameCanvas[_0xbdb8f(0x1d2)]>0x0&&gameCanvas[_0xbdb8f(0x1eb)]>0x0?(ship['x']=Math[_0xbdb8f(0x25a)](gameCanvas[_0xbdb8f(0x1d2)]/0x2-SHIP_WIDTH/0x2),ship[_0xbdb8f(0x22d)]=ship['x'],ship['y']=gameCanvas[_0xbdb8f(0x1eb)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN):console[_0xbdb8f(0x222)](_0xbdb8f(0x240)),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(menuMusicSound),startAutoDemoTimer();}catch(_0x463fc7){console[_0xbdb8f(0x1ec)](_0xbdb8f(0x24d),_0x463fc7),wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert(_0xbdb8f(0x1f1)),document['body'][_0xbdb8f(0x251)]=_0xbdb8f(0x1d7);}}function startAIDemo(){if(isInGameState)return;stopSound(menuMusicSound),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode='rapid',isTwoPlayerMode=![],isManualControl=![],isShowingDemoText=!![],wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){if(isInGameState)return;isTwoPlayerMode=![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function startGame2P(){if(isInGameState)return;isTwoPlayerMode=!![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function baseStartGame(_0x4ff3e6){const _0x1415ed=_0x594ae1;try{if(!gameCanvas||!gameCtx){console[_0x1415ed(0x1ec)]('Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.'),showMenuState();return;}stopSound(menuMusicSound),stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isManualControl=_0x4ff3e6,isShowingDemoText=!_0x4ff3e6,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x4ff3e6&&(wasLastGameAIDemo=![]);clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof resetGame===_0x1415ed(0x281))resetGame();else{console[_0x1415ed(0x1ec)](_0x1415ed(0x26e)),alert(_0x1415ed(0x28b)),showMenuState();return;}_0x4ff3e6&&playSound(coinSound),gameStartTime=Date['now'](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1,ship&&gameCanvas&&gameCanvas['width']>0x0&&gameCanvas[_0x1415ed(0x1eb)]>0x0&&(ship['x']=Math[_0x1415ed(0x25a)](gameCanvas[_0x1415ed(0x1d2)]/0x2-SHIP_WIDTH/0x2),ship[_0x1415ed(0x22d)]=ship['x'],ship['y']=gameCanvas['height']-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN),mainLoopId===null&&startMainLoop();}catch(_0x3e4de1){console[_0x1415ed(0x1ec)](_0x1415ed(0x209),_0x3e4de1),wasLastGameAIDemo=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert('Critical\x20error\x20starting\x20game!'),showMenuState();}}function stopGameAndShowMenu(){isPaused=![];if(isManualControl)saveHighScore();showMenuState();}function exitGame(){const _0xa2891=_0x594ae1;isPaused=![],stopAutoDemoTimer(),saveHighScore(),isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],showMenuState();try{window[_0xa2891(0x20d)](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x44397b){console['error'](_0xa2891(0x26f),_0x44397b),showMenuState();}}function triggerGameOver(){triggerFinalGameOverSequence();}function startAutoDemoTimer(){const _0x17780a=_0x594ae1;try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0x1023a1){console[_0x17780a(0x1ec)](_0x17780a(0x247),_0x1023a1);}}function stopAutoDemoTimer(){const _0x2eeb13=_0x594ae1;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x176af7){console[_0x2eeb13(0x1ec)](_0x2eeb13(0x218),_0x176af7);}}function showScoreScreen(){if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date['now'](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function handleCanvasClick(_0x4fc439){const _0x2893ae=_0x594ae1;if(!gameCanvas)return;const _0x45b479=gameCanvas[_0x2893ae(0x235)](),_0x3b75db=gameCanvas[_0x2893ae(0x1d2)]/_0x45b479[_0x2893ae(0x1d2)],_0x2b6d48=gameCanvas['height']/_0x45b479[_0x2893ae(0x1eb)],_0x2d3bc1=(_0x4fc439[_0x2893ae(0x24f)]-_0x45b479[_0x2893ae(0x25c)])*_0x3b75db,_0x23e794=(_0x4fc439['clientY']-_0x45b479[_0x2893ae(0x252)])*_0x2b6d48,_0x1936fa=Date[_0x2893ae(0x25e)]();let _0x59171d=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x59171d=!![]);if(_0x59171d)return;if(isInGameState){if(isPaused){if(typeof togglePause===_0x2893ae(0x281))togglePause();return;}if(!isManualControl){if(typeof stopGameAndShowMenu===_0x2893ae(0x281))stopGameAndShowMenu();}}else{if(isShowingScoreScreen){if(typeof showMenuState===_0x2893ae(0x281))showMenuState();}else{const _0xda1ada=getMenuButtonRect(0x0),_0x11369a=getMenuButtonRect(0x1);let _0xc9dde5=_0xda1ada&&checkCollision({'x':_0x2d3bc1,'y':_0x23e794,'width':0x1,'height':0x1},_0xda1ada),_0xa68f3f=_0x11369a&&checkCollision({'x':_0x2d3bc1,'y':_0x23e794,'width':0x1,'height':0x1},_0x11369a);if(isFiringModeSelectMode){if(_0xc9dde5)selectedFiringMode=_0x2893ae(0x1cd),baseStartGame(!![]),stopAutoDemoTimer();else _0xa68f3f?(selectedFiringMode=_0x2893ae(0x23c),baseStartGame(!![]),stopAutoDemoTimer()):(isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(isPlayerSelectMode){if(_0xc9dde5)startGame1P(),stopAutoDemoTimer();else _0xa68f3f?(startGame2P(),stopAutoDemoTimer()):(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(_0xc9dde5)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else{if(_0xa68f3f){if(typeof exitGame===_0x2893ae(0x281))exitGame();stopAutoDemoTimer();}else triggerFullscreen(),playSound(menuMusicSound),stopAutoDemoTimer();}}}}}}function createExplosion(_0x165e2c,_0x3991be){const _0x476fee=_0x594ae1;try{playSound(explosionSound);let _0x1e5a16=[];for(let _0x3779b6=0x0;_0x3779b6<EXPLOSION_PARTICLE_COUNT;_0x3779b6++){const _0x512cb7=Math[_0x476fee(0x233)]()*Math['PI']*0x2,_0xe3836f=Math[_0x476fee(0x233)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x1e5a16[_0x476fee(0x221)]({'x':_0x165e2c,'y':_0x3991be,'vx':Math['cos'](_0x512cb7)*_0xe3836f,'vy':Math[_0x476fee(0x1e7)](_0x512cb7)*_0xe3836f,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions[_0x476fee(0x221)]({'creationTime':Date['now'](),'duration':EXPLOSION_DURATION,'particles':_0x1e5a16});}catch(_0x2e1e82){console['error'](_0x476fee(0x1fd),_0x2e1e82);}}function renderExplosions(){const _0x20c01b=_0x594ae1;try{if(!gameCtx)return;gameCtx[_0x20c01b(0x256)](),gameCtx['globalCompositeOperation']=_0x20c01b(0x1ca),explosions[_0x20c01b(0x266)](_0x143ccf=>{const _0x22ef96=_0x20c01b;_0x143ccf[_0x22ef96(0x277)][_0x22ef96(0x266)](_0x2b596e=>{const _0x54f8cd=_0x22ef96,_0x123f30=_0x2b596e[_0x54f8cd(0x27f)]*EXPLOSION_MAX_OPACITY;_0x123f30>0.01&&(gameCtx[_0x54f8cd(0x227)](),gameCtx['arc'](Math[_0x54f8cd(0x25a)](_0x2b596e['x']),Math[_0x54f8cd(0x25a)](_0x2b596e['y']),_0x2b596e[_0x54f8cd(0x232)],0x0,Math['PI']*0x2),gameCtx['fillStyle']=_0x54f8cd(0x258)+_0x123f30['toFixed'](0x3)+')',gameCtx['fill']());});}),gameCtx[_0x20c01b(0x1f7)]();}catch(_0x44f10f){console[_0x20c01b(0x1ec)]('Error\x20rendering\x20explosions:',_0x44f10f);}}function drawCanvasText(_0x4d4683,_0x4dc56d,_0x2c0111,_0x311e83,_0x4bfed9,_0x44ee28=_0x594ae1(0x1d9),_0x5cddbe=_0x594ae1(0x219),_0x311177=![]){const _0x4ad8f5=_0x594ae1;if(!gameCtx)return;gameCtx[_0x4ad8f5(0x256)](),gameCtx[_0x4ad8f5(0x1e1)]=_0x311e83,gameCtx[_0x4ad8f5(0x254)]=_0x4bfed9,gameCtx['textAlign']=_0x44ee28,gameCtx['textBaseline']=_0x5cddbe,_0x311177&&(gameCtx['shadowColor']=_0x4ad8f5(0x279),gameCtx[_0x4ad8f5(0x285)]=0x8,gameCtx[_0x4ad8f5(0x255)]=0x3,gameCtx[_0x4ad8f5(0x24b)]=0x3),gameCtx[_0x4ad8f5(0x287)](_0x4d4683,_0x4dc56d,_0x2c0111),gameCtx[_0x4ad8f5(0x1f7)]();}function drawCanvasButton(_0x2ff1cf,_0x75719c,_0x2ab8fd){const _0x45250d=_0x594ae1;if(!gameCtx)return;const _0x50c404=getMenuButtonRect(_0x75719c);if(!_0x50c404)return;gameCtx[_0x45250d(0x256)](),drawCanvasText(_0x2ff1cf,_0x50c404['x']+_0x50c404['width']/0x2,_0x50c404['y']+_0x50c404['height']/0x2,MENU_BUTTON_FONT,_0x2ab8fd?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x45250d(0x1d9),_0x45250d(0x219)),gameCtx[_0x45250d(0x1f7)]();}function renderFloatingScores(){const _0x3d28ca=_0x594ae1;try{if(!gameCtx||!floatingScores||floatingScores[_0x3d28ca(0x245)]===0x0)return;const _0x51c992=Date['now']();gameCtx['save'](),gameCtx['globalAlpha']=FLOATING_SCORE_OPACITY,floatingScores['forEach'](_0x5635b3=>{const _0x30a12a=_0x3d28ca;_0x51c992>=_0x5635b3['displayStartTime']&&drawCanvasText(_0x5635b3['text'],_0x5635b3['x'],_0x5635b3['y'],FLOATING_SCORE_FONT,_0x5635b3[_0x30a12a(0x268)],_0x30a12a(0x1d9),'middle',![]);}),gameCtx[_0x3d28ca(0x26a)]=0x1,gameCtx[_0x3d28ca(0x1f7)]();}catch(_0x2fbe74){console[_0x3d28ca(0x1ec)](_0x3d28ca(0x249),_0x2fbe74);}}function renderHitSparks(){const _0x50690d=_0x594ae1;if(!gameCtx||!hitSparks||hitSparks[_0x50690d(0x245)]===0x0)return;gameCtx[_0x50690d(0x256)](),gameCtx[_0x50690d(0x265)]=_0x50690d(0x1ca),hitSparks[_0x50690d(0x266)](_0x4164b1=>{const _0x374957=_0x50690d;if(_0x4164b1&&_0x4164b1[_0x374957(0x27f)]>0.01){gameCtx[_0x374957(0x254)]=_0x4164b1['color'],gameCtx['globalAlpha']=_0x4164b1[_0x374957(0x27f)],gameCtx[_0x374957(0x227)]();const _0x5e3ffb=_0x4164b1[_0x374957(0x259)]*Math[_0x374957(0x207)](_0x4164b1['alpha']);gameCtx['arc'](Math[_0x374957(0x25a)](_0x4164b1['x']),Math[_0x374957(0x25a)](_0x4164b1['y']),Math[_0x374957(0x248)](0.5,_0x5e3ffb/0x2),0x0,Math['PI']*0x2),gameCtx['fill']();}}),gameCtx[_0x50690d(0x26a)]=0x1,gameCtx['restore']();}function renderGame(){const _0x1a87b1=_0x594ae1;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx['clearRect'](0x0,0x0,gameCanvas[_0x1a87b1(0x1d2)],gameCanvas[_0x1a87b1(0x1eb)]);const _0x1b47cc=Date[_0x1a87b1(0x25e)]();gameCtx[_0x1a87b1(0x256)]();const _0x1bfe5f=_0x1a87b1(0x1de),_0x474146=_0x1a87b1(0x250),_0x1f99bd=_0x1a87b1(0x1fc);gameCtx[_0x1a87b1(0x1e1)]=_0x1bfe5f,gameCtx['textBaseline']=_0x1a87b1(0x252);const _0x11040a=(_0x4417dc,_0x27e3c5,_0x37bfac,_0x3e7a02,_0x2b5613=![])=>{const _0x2fa685=_0x1a87b1;let _0x1188f7=!![],_0x517cda=UI_1UP_BLINK_ON_MS*1.5,_0xeee34d=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x4417dc===_0x2fa685(0x231))_0x517cda=DEMO_TEXT_BLINK_ON_MS*0.7,_0xeee34d=DEMO_TEXT_BLINK_CYCLE_MS;else{if(_0x4417dc===_0x2fa685(0x257)){_0x517cda=UI_1UP_BLINK_ON_MS*1.5,_0xeee34d=UI_1UP_BLINK_CYCLE_MS*1.5;if(isInGameState&&!isManualControl)_0x517cda=DEMO_TEXT_BLINK_ON_MS*0.7,_0xeee34d=DEMO_TEXT_BLINK_CYCLE_MS;else isInGameState&&isTwoPlayerMode&&currentPlayer===0x2&&(_0x517cda=UI_1UP_BLINK_ON_MS*1.5,_0xeee34d=UI_1UP_BLINK_CYCLE_MS*1.5);}}_0x2b5613&&((isPaused||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||!(_0x1b47cc%_0xeee34d<_0x517cda))&&(_0x1188f7=![]));_0x1188f7&&(gameCtx[_0x2fa685(0x254)]=_0x474146,gameCtx[_0x2fa685(0x274)]=_0x37bfac,gameCtx[_0x2fa685(0x287)](_0x4417dc,_0x3e7a02,MARGIN_TOP));const _0x4923af=gameCtx[_0x2fa685(0x1d3)](_0x4417dc)['width'];let _0x1fb4b2;if(_0x37bfac==='left')_0x1fb4b2=_0x3e7a02+_0x4923af/0x2;else{if(_0x37bfac===_0x2fa685(0x1f3))_0x1fb4b2=_0x3e7a02-_0x4923af/0x2;else _0x1fb4b2=_0x3e7a02;}gameCtx[_0x2fa685(0x254)]=_0x1f99bd,gameCtx[_0x2fa685(0x274)]='center';let _0x48824f=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x4417dc===_0x2fa685(0x257)&&(_0x1fb4b2=_0x3e7a02),gameCtx['fillText'](_0x27e3c5[_0x2fa685(0x1ed)](),_0x1fb4b2,_0x48824f);};let _0x1ff146,_0xec152f,_0xa7e1b7,_0x42aaf4,_0x1f530=![],_0x23872d=![],_0x2b6fc6=![];if(isShowingResultsScreen)_0x1ff146=player1Score||0x0,_0xec152f=player2Score||0x0,_0xa7e1b7=highScore||0x4e20,_0xa7e1b7=Math[_0x1a87b1(0x248)](_0xa7e1b7,_0x1ff146,_0xec152f),_0x42aaf4=wasLastGameAIDemo?_0x1a87b1(0x231):_0x1a87b1(0x1f4),_0x2b6fc6=![],_0x1f530=![],_0x23872d=![];else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage)_0x1ff146=player1Score||0x0,_0xec152f=player2Score||0x0,_0xa7e1b7=highScore||0x4e20,_0xa7e1b7=Math[_0x1a87b1(0x248)](_0xa7e1b7,_0x1ff146,_0xec152f),_0x42aaf4=wasLastGameAIDemo?_0x1a87b1(0x231):_0x1a87b1(0x1f4),_0x2b6fc6=![],_0x1f530=![],_0x23872d=![];else{if(isShowingPlayerGameOverMessage)_0x1ff146=player1Score||0x0,_0xec152f=player2Score||0x0,_0xa7e1b7=highScore||0x4e20,_0xa7e1b7=Math[_0x1a87b1(0x248)](_0xa7e1b7,_0x1ff146,_0xec152f),_0x42aaf4=_0x1a87b1(0x1f4),_0x2b6fc6=![],_0x1f530=![],_0x23872d=![];else{if(!isInGameState)_0x1ff146=player1Score||0x0,_0xec152f=player2Score||0x0,_0xa7e1b7=highScore||0x4e20,_0xa7e1b7=Math[_0x1a87b1(0x248)](_0xa7e1b7,_0x1ff146,_0xec152f),_0x42aaf4='1UP',_0x2b6fc6=![],_0x1f530=![],_0x23872d=![];else{_0xa7e1b7=highScore||0x0;if(!isManualControl)_0x1ff146=score,_0xec152f=0x0,_0xa7e1b7=Math[_0x1a87b1(0x248)](_0xa7e1b7,score),_0x42aaf4=_0x1a87b1(0x231),_0x1f530=!isShowingIntro&&!isPaused&&!isShipCaptured,_0x2b6fc6=!isPaused&&!isShowingIntro&&score>0x0&&_0xa7e1b7>0x0&&score>=_0xa7e1b7;else isTwoPlayerMode?(_0x1ff146=currentPlayer===0x1?score:player1Score,_0xec152f=currentPlayer===0x2?score:player2Score,_0xa7e1b7=Math[_0x1a87b1(0x248)](_0xa7e1b7,player1Score,player2Score,score),_0x42aaf4='1UP',_0x1f530=!isShowingIntro&&!isPaused&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured,_0x23872d=!isShowingIntro&&!isPaused&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured,_0x2b6fc6=!isPaused&&!isShowingIntro&&score>0x0&&_0xa7e1b7>0x0&&score>=_0xa7e1b7):(_0x1ff146=score,_0xec152f=player2Score||0x0,_0xa7e1b7=Math['max'](_0xa7e1b7,score),_0x42aaf4='1UP',_0x1f530=!isShowingIntro&&!isPaused&&playerLives>0x0&&!isShipCaptured,_0x2b6fc6=!isPaused&&!isShowingIntro&&score>0x0&&_0xa7e1b7>0x0&&score>=_0xa7e1b7);}}}}let _0x7d8169=![];if(_0x2b6fc6){if(!isManualControl)_0x7d8169=_0x1f530;else isTwoPlayerMode?currentPlayer===0x1?_0x7d8169=_0x1f530:_0x7d8169=_0x23872d:_0x7d8169=_0x1f530;}typeof MARGIN_SIDE!==_0x1a87b1(0x1fe)&&typeof MARGIN_TOP!==_0x1a87b1(0x1fe)&&typeof SCORE_OFFSET_Y!=='undefined'&&(_0x11040a(_0x42aaf4,_0x1ff146,'left',MARGIN_SIDE,_0x1f530),_0x11040a(_0x1a87b1(0x257),_0xa7e1b7,'center',gameCanvas[_0x1a87b1(0x1d2)]/0x2,_0x7d8169),_0x11040a(_0x1a87b1(0x282),_0xec152f,_0x1a87b1(0x1f3),gameCanvas[_0x1a87b1(0x1d2)]-MARGIN_SIDE,_0x23872d));if(typeof shipImage!=='undefined'&&typeof LIFE_ICON_MARGIN_BOTTOM!=='undefined'&&typeof LIFE_ICON_SIZE!==_0x1a87b1(0x1fe)&&typeof LIFE_ICON_MARGIN_LEFT!==_0x1a87b1(0x1fe)&&typeof LIFE_ICON_SPACING!==_0x1a87b1(0x1fe)){if(shipImage['complete']&&shipImage[_0x1a87b1(0x23f)]!==0x0){const _0x25d850=gameCanvas[_0x1a87b1(0x1eb)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0x4a7f6f=0x0;if(isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x4a7f6f=0x2;else{if(!isInGameState||isShowingScoreScreen)_0x4a7f6f=0x2;else isInGameState&&playerLives>0x0?_0x4a7f6f=Math[_0x1a87b1(0x248)](0x0,playerLives-0x1):_0x4a7f6f=0x0;}const _0x254853=0x5;for(let _0x59e20d=0x0;_0x59e20d<Math[_0x1a87b1(0x28c)](_0x4a7f6f,_0x254853);_0x59e20d++){const _0x1e1dc2=LIFE_ICON_MARGIN_LEFT+_0x59e20d*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx['drawImage'](shipImage,Math['round'](_0x1e1dc2),Math[_0x1a87b1(0x25a)](_0x25d850),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}let _0x186b48=0x1;if(gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x186b48=Math['max'](0x1,player1MaxLevelReached,player2MaxLevelReached);else{if(!isInGameState||isShowingScoreScreen)_0x186b48=0x1;else isInGameState&&(_0x186b48=level);}if(_0x186b48>0x0&&typeof LEVEL_ICON_MARGIN_BOTTOM!==_0x1a87b1(0x1fe)&&typeof LEVEL_ICON_SIZE!==_0x1a87b1(0x1fe)&&typeof LEVEL_ICON_MARGIN_RIGHT!==_0x1a87b1(0x1fe)&&typeof LEVEL_ICON_SPACING!==_0x1a87b1(0x1fe)){const _0x5e036a=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}];let _0xb7d73e=_0x186b48,_0x46a84f=[],_0x137475=new Set();const _0x4c880f=(_0x345818,_0x1bb996,_0x1e7edd)=>{const _0x289bfd=_0x1a87b1;let _0x53c5a0=_0x345818,_0x5c5f8f=new Set(_0x1e7edd);for(let _0x36e1cf=_0x1bb996;_0x36e1cf<_0x5e036a[_0x289bfd(0x245)];_0x36e1cf++){const _0x55dd59=_0x5e036a[_0x36e1cf]['val'];if(_0x53c5a0>=_0x55dd59){const _0x44f007=_0x5c5f8f['size']<0x3||_0x5c5f8f[_0x289bfd(0x25b)](_0x55dd59);if(!_0x44f007)continue;const _0x3c131f=Math[_0x289bfd(0x1cb)](_0x53c5a0/_0x55dd59);_0x53c5a0-=_0x3c131f*_0x55dd59,_0x5c5f8f[_0x289bfd(0x20b)](_0x55dd59);if(_0x53c5a0===0x0)return!![];}}return _0x53c5a0===0x0;};for(let _0x2037d8=0x0;_0x2037d8<_0x5e036a['length']-0x1;_0x2037d8++){const _0x16650c=_0x5e036a[_0x2037d8],_0x430e73=_0x16650c[_0x1a87b1(0x24c)],_0x45daec=_0x16650c['img'];if(_0xb7d73e>=_0x430e73){const _0x2efe1f=Math['floor'](_0xb7d73e/_0x430e73),_0x3828a0=_0xb7d73e-_0x2efe1f*_0x430e73;let _0x17905a=new Set(_0x137475);_0x17905a[_0x1a87b1(0x20b)](_0x430e73);if(_0x4c880f(_0x3828a0,_0x2037d8+0x1,_0x17905a)){for(let _0xbeac7f=0x0;_0xbeac7f<_0x2efe1f;_0xbeac7f++){_0x46a84f[_0x1a87b1(0x221)](_0x45daec);}_0xb7d73e=_0x3828a0,_0x137475['add'](_0x430e73);if(_0xb7d73e===0x0)break;}}}if(_0xb7d73e>0x0){const _0x474a0a=_0x137475[_0x1a87b1(0x259)]<0x3||_0x137475[_0x1a87b1(0x25b)](0x1);if(_0x474a0a){for(let _0x1877b1=0x0;_0x1877b1<_0xb7d73e;_0x1877b1++){_0x46a84f['push'](level1Image);}_0x137475[_0x1a87b1(0x20b)](0x1),_0xb7d73e=0x0;}else console[_0x1a87b1(0x222)](_0x1a87b1(0x1e0)+_0xb7d73e+_0x1a87b1(0x270),_0x137475);}_0x46a84f[_0x1a87b1(0x245)]===0x0&&_0x46a84f[_0x1a87b1(0x221)](level1Image);const _0x31eff4=_0x46a84f[_0x1a87b1(0x245)],_0x23a10d=_0x31eff4*LEVEL_ICON_SIZE+Math[_0x1a87b1(0x248)](0x0,_0x31eff4-0x1)*LEVEL_ICON_SPACING,_0x3dd699=gameCanvas['width']-LEVEL_ICON_MARGIN_RIGHT,_0x308ed9=_0x3dd699-_0x23a10d,_0x4e94ee=gameCanvas[_0x1a87b1(0x1eb)]-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x16c8d7=_0x308ed9;for(const _0x47ed49 of _0x46a84f){_0x47ed49&&_0x47ed49[_0x1a87b1(0x208)]&&_0x47ed49['naturalHeight']!==0x0&&gameCtx[_0x1a87b1(0x202)](_0x47ed49,Math[_0x1a87b1(0x25a)](_0x16c8d7),Math[_0x1a87b1(0x25a)](_0x4e94ee),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x16c8d7+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}}gameCtx[_0x1a87b1(0x1f7)](),gameCtx['save']();if(ship&&!isShowingCaptureMessage){let _0x5cf8a4=!![];if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isInvincible){const _0x11d043=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS,_0x3e261a=_0x1b47cc%_0x11d043;_0x3e261a>=INVINCIBILITY_BLINK_ON_MS&&(_0x5cf8a4=![]);}if(_0x5cf8a4){let _0x4d8d6e=ship['x'],_0x4a9877=(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||!isInGameState||isShowingScoreScreen||isInGameState&&isShowingIntro&&!isManualControl&&(introStep===0x1||introStep===0x2||introStep===0x3))&&!isDualShipActive;_0x4a9877&&(_0x4d8d6e=Math[_0x1a87b1(0x25a)](gameCanvas['width']/0x2-ship['width']/0x2));const _0x8bea36=gameCanvas[_0x1a87b1(0x1eb)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!==_0x1a87b1(0x1fe)&&shipImage[_0x1a87b1(0x208)]&&shipImage['naturalHeight']!==0x0?gameCtx[_0x1a87b1(0x202)](shipImage,Math['round'](_0x4d8d6e),Math[_0x1a87b1(0x25a)](_0x8bea36),ship[_0x1a87b1(0x1d2)],ship[_0x1a87b1(0x1eb)]):(gameCtx['fillStyle']=_0x1a87b1(0x217),gameCtx[_0x1a87b1(0x201)](Math['round'](_0x4d8d6e),Math[_0x1a87b1(0x25a)](_0x8bea36),ship['width'],ship[_0x1a87b1(0x1eb)]));if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isDualShipActive&&!isShipCaptured&&typeof shipImage!=='undefined'&&shipImage['complete']&&shipImage[_0x1a87b1(0x23f)]!==0x0){const _0x3d956f=_0x4d8d6e+DUAL_SHIP_OFFSET_X;gameCtx['drawImage'](shipImage,Math[_0x1a87b1(0x25a)](_0x3d956f),Math[_0x1a87b1(0x25a)](_0x8bea36),ship[_0x1a87b1(0x1d2)],ship[_0x1a87b1(0x1eb)]);}}}fallingShips[_0x1a87b1(0x245)]>0x0&&typeof shipImage!==_0x1a87b1(0x1fe)&&shipImage[_0x1a87b1(0x208)]&&fallingShips[_0x1a87b1(0x266)](_0xbd6854=>{const _0x19dcd5=_0x1a87b1;if(_0xbd6854){gameCtx[_0x19dcd5(0x256)]();const _0xd929ff=_0xbd6854['x']+_0xbd6854['width']/0x2,_0x9e1365=_0xbd6854['y']+_0xbd6854[_0x19dcd5(0x1eb)]/0x2;gameCtx[_0x19dcd5(0x263)](_0xd929ff,_0x9e1365),gameCtx[_0x19dcd5(0x1cf)](_0xbd6854['rotation']||0x0);const _0x3e3b3e=-_0xbd6854['width']/0x2,_0x4d5fe5=-_0xbd6854['height']/0x2,_0x569ba1=_0xbd6854['width'],_0x3c7d8e=_0xbd6854[_0x19dcd5(0x1eb)];gameCtx['drawImage'](shipImage,_0x3e3b3e,_0x4d5fe5,_0x569ba1,_0x3c7d8e),typeof _0xbd6854['tintProgress']==='number'&&_0xbd6854['tintProgress']>0.01&&(gameCtx[_0x19dcd5(0x256)](),gameCtx['globalAlpha']=_0xbd6854[_0x19dcd5(0x1f8)],gameCtx[_0x19dcd5(0x254)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x19dcd5(0x265)]=_0x19dcd5(0x225),gameCtx['fillRect'](_0x3e3b3e,_0x4d5fe5,_0x569ba1,_0x3c7d8e),gameCtx[_0x19dcd5(0x1f7)]()),gameCtx[_0x19dcd5(0x1f7)]();}});gameCtx[_0x1a87b1(0x1f7)]();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!=='undefined'){gameCtx[_0x1a87b1(0x256)]();const _0x294913=gameCanvas['width']/0x2;let _0x5f1983=gameCanvas[_0x1a87b1(0x1eb)]*0.25+SCORE_SCREEN_VERTICAL_OFFSET,_0x311fcd=0x0,_0x4d3173=_0x5f1983+0x0;drawCanvasText(_0x1a87b1(0x21b),_0x294913,_0x4d3173-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]);let _0x5c79aa=_0x4d3173+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x2a5543=_0x1a87b1(0x26d);gameCtx[_0x1a87b1(0x1e1)]=SCORE_SCREEN_TEXT_FONT;const _0x1c8c62=gameCtx[_0x1a87b1(0x1d3)](_0x2a5543)[_0x1a87b1(0x1d2)],_0x82336c=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x1c8c62;_0x311fcd=_0x294913-_0x82336c/0x2-0x1e;typeof shipImage!=='undefined'&&shipImage['complete']&&shipImage[_0x1a87b1(0x23f)]!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x1a87b1(0x25a)](_0x311fcd),Math['round'](_0x5c79aa-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x2a5543,_0x311fcd+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x5c79aa,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1a87b1(0x219),![]);let _0x19580c=_0x5c79aa+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x18dc1d=_0x1a87b1(0x236)+RECURRING_EXTRA_LIFE_INTERVAL+_0x1a87b1(0x1f0);typeof shipImage!==_0x1a87b1(0x1fe)&&shipImage['complete']&&shipImage[_0x1a87b1(0x23f)]!==0x0&&gameCtx['drawImage'](shipImage,Math[_0x1a87b1(0x25a)](_0x311fcd),Math[_0x1a87b1(0x25a)](_0x19580c-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x18dc1d,_0x311fcd+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x19580c,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1a87b1(0x219),![]);let _0x43da98=_0x19580c+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x3cb0d9=_0x1a87b1(0x244)+RECURRING_EXTRA_LIFE_INTERVAL+'\x20PTS';typeof shipImage!==_0x1a87b1(0x1fe)&&shipImage[_0x1a87b1(0x208)]&&shipImage[_0x1a87b1(0x23f)]!==0x0&&gameCtx[_0x1a87b1(0x202)](shipImage,Math[_0x1a87b1(0x25a)](_0x311fcd),Math[_0x1a87b1(0x25a)](_0x43da98-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x3cb0d9,_0x311fcd+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x43da98,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1a87b1(0x219),![]);let _0x13eb63=_0x43da98+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText(_0x1a87b1(0x1d6),_0x294913-0xa,_0x13eb63+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,'center',_0x1a87b1(0x219),![]),gameCtx['restore']();}}else{gameCtx[_0x1a87b1(0x256)]();const _0x406c85=gameCanvas[_0x1a87b1(0x1d2)],_0x3b6a2c=gameCanvas[_0x1a87b1(0x1eb)],_0x3db6fd=_0x406c85/0x2;selectedButtonIndex===-0x1&&(selectedButtonIndex=0x0);let _0x2a096d=MENU_LOGO_APPROX_HEIGHT,_0x4af5fc=_0x2a096d*(logoImage[_0x1a87b1(0x1f5)]/logoImage['naturalHeight']||0x1);typeof logoImage!=='undefined'&&logoImage[_0x1a87b1(0x208)]&&logoImage[_0x1a87b1(0x23f)]!==0x0&&(_0x2a096d=logoImage[_0x1a87b1(0x23f)]*LOGO_SCALE_FACTOR,_0x4af5fc=logoImage['naturalWidth']*LOGO_SCALE_FACTOR);const _0x1f4e0c=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x10763e=_0x2a096d+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x1f4e0c;let _0x47578f=(_0x3b6a2c-_0x10763e)/0x2-0x46;_0x47578f+=MENU_GENERAL_Y_OFFSET;const _0x5e128c=_0x3db6fd-_0x4af5fc/0x2,_0x22c5e8=_0x47578f+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x1a87b1(0x1fe)&&logoImage[_0x1a87b1(0x208)]&&logoImage[_0x1a87b1(0x23f)]!==0x0?gameCtx[_0x1a87b1(0x202)](logoImage,Math[_0x1a87b1(0x25a)](_0x5e128c),Math['round'](_0x22c5e8),_0x4af5fc,_0x2a096d):drawCanvasText('LOGO',_0x3db6fd,_0x22c5e8+_0x2a096d/0x2,_0x1a87b1(0x291),_0x1a87b1(0x24e));if(isFiringModeSelectMode)drawCanvasButton(_0x1a87b1(0x26c),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x1a87b1(0x20a),0x1,selectedButtonIndex===0x1);else isPlayerSelectMode?(drawCanvasButton(_0x1a87b1(0x210),0x0,selectedButtonIndex===0x0),drawCanvasButton('2\x20PLAYER',0x1,selectedButtonIndex===0x1)):(drawCanvasButton(_0x1a87b1(0x1dc),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x1a87b1(0x215),0x1,selectedButtonIndex===0x1));const _0x5577f8=getMenuButtonRect(0x1);let _0x211c7c;_0x5577f8?_0x211c7c=_0x5577f8['y']+_0x5577f8[_0x1a87b1(0x1eb)]+MENU_BUTTON_SUBTITLE_V_GAP+_0x1f4e0c/0x2:_0x211c7c=_0x47578f+_0x2a096d+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x1f4e0c/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x3db6fd-0x1,Math[_0x1a87b1(0x25a)](_0x211c7c),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),gameCtx[_0x1a87b1(0x1f7)]();}}else{if(gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){gameCtx[_0x1a87b1(0x256)]();let _0x542005=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage;_0x542005&&(bullets[_0x1a87b1(0x266)](_0x130138=>{const _0xd3e32f=_0x1a87b1;_0x130138&&(typeof bulletImage!==_0xd3e32f(0x1fe)&&bulletImage[_0xd3e32f(0x208)]?gameCtx[_0xd3e32f(0x202)](bulletImage,Math[_0xd3e32f(0x25a)](_0x130138['x']),Math[_0xd3e32f(0x25a)](_0x130138['y']),_0x130138['width'],_0x130138[_0xd3e32f(0x1eb)]):(gameCtx['fillStyle']=_0xd3e32f(0x1fb),gameCtx[_0xd3e32f(0x201)](Math[_0xd3e32f(0x25a)](_0x130138['x']),Math[_0xd3e32f(0x25a)](_0x130138['y']),_0x130138['width'],_0x130138[_0xd3e32f(0x1eb)])));}),enemyBullets[_0x1a87b1(0x266)](_0x2d66e5=>{const _0x2cc9c1=_0x1a87b1;_0x2d66e5&&(typeof enemyBulletImage!==_0x2cc9c1(0x1fe)&&enemyBulletImage[_0x2cc9c1(0x208)]&&enemyBulletImage[_0x2cc9c1(0x1f5)]>0x0?gameCtx[_0x2cc9c1(0x202)](enemyBulletImage,Math['round'](_0x2d66e5['x']),Math[_0x2cc9c1(0x25a)](_0x2d66e5['y']),_0x2d66e5['width'],_0x2d66e5[_0x2cc9c1(0x1eb)]):(gameCtx[_0x2cc9c1(0x254)]='white',gameCtx[_0x2cc9c1(0x201)](Math[_0x2cc9c1(0x25a)](_0x2d66e5['x']),Math['round'](_0x2d66e5['y']),_0x2d66e5['width'],_0x2d66e5['height'])));}));enemies[_0x1a87b1(0x266)](_0x5ccd85=>{const _0x2982ab=_0x1a87b1;if(_0x5ccd85&&_0x5ccd85['y']<gameCanvas[_0x2982ab(0x1eb)]+_0x5ccd85[_0x2982ab(0x1eb)]*0x2&&_0x5ccd85['y']>-_0x5ccd85['height']*0x2){gameCtx[_0x2982ab(0x256)]();try{let _0x44479c=null,_0x3a7423=_0x2982ab(0x24e);const _0x29b0a7=!isPaused&&_0x1b47cc%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x5ccd85[_0x2982ab(0x28d)]===ENEMY3_TYPE)_0x44479c=_0x29b0a7?bossGalagaImage2:bossGalagaImage,_0x3a7423=_0x2982ab(0x234);else _0x5ccd85[_0x2982ab(0x28d)]===ENEMY2_TYPE?(_0x44479c=_0x29b0a7?butterflyImage2:butterflyImage,_0x3a7423=_0x2982ab(0x1d4)):(_0x44479c=_0x29b0a7?beeImage2:beeImage,_0x3a7423=_0x2982ab(0x250));const _0x139dc4=Math['round'](_0x5ccd85['x']),_0x1afc46=Math[_0x2982ab(0x25a)](_0x5ccd85['y']),_0x4b7159=_0x5ccd85['width'],_0x4e98c2=_0x5ccd85[_0x2982ab(0x1eb)],_0x3af890=_0x5ccd85['type']===ENEMY3_TYPE&&_0x5ccd85[_0x2982ab(0x264)],_0x40263c=!isPaused&&(_0x5ccd85[_0x2982ab(0x200)]===_0x2982ab(0x28f)||_0x5ccd85['state']===_0x2982ab(0x1da)||_0x5ccd85[_0x2982ab(0x200)]===_0x2982ab(0x260))&&_0x5ccd85['y']>-_0x5ccd85['height']*0.5&&(Math[_0x2982ab(0x288)](_0x5ccd85[_0x2982ab(0x269)])>0.1||Math['abs'](_0x5ccd85[_0x2982ab(0x22e)])>0.1),_0x3cf408=_0x5ccd85[_0x2982ab(0x200)]==='showing_capture_message'&&_0x5ccd85['type']===ENEMY3_TYPE&&_0x5ccd85[_0x2982ab(0x220)]&&_0x5ccd85[_0x2982ab(0x280)]&&typeof _0x5ccd85[_0x2982ab(0x25f)]===_0x2982ab(0x23b)&&typeof _0x5ccd85[_0x2982ab(0x237)]==='number'&&typeof _0x5ccd85['captureAnimationRotation']===_0x2982ab(0x23b),_0x575e12=_0x5ccd85[_0x2982ab(0x200)]!==_0x2982ab(0x206)&&_0x5ccd85[_0x2982ab(0x28d)]===ENEMY3_TYPE&&_0x5ccd85[_0x2982ab(0x220)]&&_0x5ccd85['capturedShipDimensions'],_0x2f98fb=_0x3cf408||_0x575e12?_0x5ccd85[_0x2982ab(0x280)][_0x2982ab(0x1d2)]:0x0,_0x14a4a9=_0x3cf408||_0x575e12?_0x5ccd85[_0x2982ab(0x280)]['height']:0x0;let _0x5d321d=0x0,_0x42a286=0x0;if(_0x3cf408)_0x5d321d=Math[_0x2982ab(0x25a)](_0x5ccd85[_0x2982ab(0x25f)]),_0x42a286=Math[_0x2982ab(0x25a)](_0x5ccd85['capturedShipY']);else _0x575e12&&(_0x5d321d=Math[_0x2982ab(0x25a)](_0x5ccd85['x']+CAPTURED_SHIP_OFFSET_X),_0x42a286=Math[_0x2982ab(0x25a)](_0x5ccd85['y']+CAPTURED_SHIP_OFFSET_Y));const _0x3c22ce=(_0x509dc0,_0x28fcde,_0x25112e,_0x9325fe)=>{const _0x3436ad=_0x2982ab;typeof _0x44479c!==_0x3436ad(0x1fe)&&_0x44479c[_0x3436ad(0x208)]&&_0x44479c[_0x3436ad(0x23f)]!==0x0?gameCtx['drawImage'](_0x44479c,_0x509dc0,_0x28fcde,_0x25112e,_0x9325fe):(gameCtx['fillStyle']=_0x3a7423,gameCtx[_0x3436ad(0x201)](_0x509dc0,_0x28fcde,_0x25112e,_0x9325fe)),_0x3af890&&(gameCtx[_0x3436ad(0x265)]=_0x3436ad(0x225),gameCtx[_0x3436ad(0x254)]=_0x3436ad(0x21a),gameCtx[_0x3436ad(0x201)](_0x509dc0,_0x28fcde,_0x25112e,_0x9325fe),gameCtx[_0x3436ad(0x265)]=_0x3436ad(0x223));};if(_0x40263c){const _0x239575=_0x139dc4+_0x4b7159/0x2,_0x4e911c=_0x1afc46+_0x4e98c2/0x2;gameCtx[_0x2982ab(0x263)](_0x239575,_0x4e911c);let _0x5ce79f=Math[_0x2982ab(0x24a)](_0x5ccd85[_0x2982ab(0x22e)],_0x5ccd85[_0x2982ab(0x269)])+Math['PI']/0x2;if(_0x5ccd85['type']===ENEMY3_TYPE&&_0x5ccd85[_0x2982ab(0x200)]==='attacking')_0x5ce79f+=Math['PI'];gameCtx[_0x2982ab(0x1cf)](_0x5ce79f),_0x3c22ce(-_0x4b7159/0x2,-_0x4e98c2/0x2,_0x4b7159,_0x4e98c2);if(_0x575e12&&typeof shipImage!=='undefined'&&shipImage[_0x2982ab(0x208)]){gameCtx['globalAlpha']=0.8;const _0x17b58c=CAPTURED_SHIP_OFFSET_X,_0xc85e63=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0x2982ab(0x202)](shipImage,_0x17b58c-_0x2f98fb/0x2,_0xc85e63-_0x14a4a9/0x2,_0x2f98fb,_0x14a4a9),gameCtx['globalAlpha']=0x1,gameCtx[_0x2982ab(0x256)](),gameCtx[_0x2982ab(0x254)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']=_0x2982ab(0x225),gameCtx[_0x2982ab(0x201)](_0x17b58c-_0x2f98fb/0x2,_0xc85e63-_0x14a4a9/0x2,_0x2f98fb,_0x14a4a9),gameCtx[_0x2982ab(0x1f7)]();}gameCtx[_0x2982ab(0x1cf)](-_0x5ce79f),gameCtx['translate'](-_0x239575,-_0x4e911c);}else _0x3c22ce(_0x139dc4,_0x1afc46,_0x4b7159,_0x4e98c2),_0x575e12&&typeof shipImage!==_0x2982ab(0x1fe)&&shipImage[_0x2982ab(0x208)]&&(gameCtx[_0x2982ab(0x26a)]=0.8,gameCtx[_0x2982ab(0x202)](shipImage,_0x5d321d,_0x42a286,_0x2f98fb,_0x14a4a9),gameCtx[_0x2982ab(0x26a)]=0x1,gameCtx[_0x2982ab(0x256)](),gameCtx[_0x2982ab(0x254)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x2982ab(0x265)]='source-atop',gameCtx[_0x2982ab(0x201)](_0x5d321d,_0x42a286,_0x2f98fb,_0x14a4a9),gameCtx[_0x2982ab(0x1f7)]());if(_0x3cf408&&typeof shipImage!=='undefined'&&shipImage['complete']){gameCtx[_0x2982ab(0x256)]();const _0x586c75=_0x5d321d+_0x2f98fb/0x2,_0x56286f=_0x42a286+_0x14a4a9/0x2;gameCtx[_0x2982ab(0x263)](_0x586c75,_0x56286f),gameCtx[_0x2982ab(0x1cf)](_0x5ccd85[_0x2982ab(0x22a)]),gameCtx['globalAlpha']=0.8,gameCtx[_0x2982ab(0x202)](shipImage,-_0x2f98fb/0x2,-_0x14a4a9/0x2,_0x2f98fb,_0x14a4a9),gameCtx['globalAlpha']=0x1,gameCtx[_0x2982ab(0x256)](),gameCtx[_0x2982ab(0x254)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x2982ab(0x265)]='source-atop',gameCtx[_0x2982ab(0x201)](-_0x2f98fb/0x2,-_0x14a4a9/0x2,_0x2f98fb,_0x14a4a9),gameCtx[_0x2982ab(0x1f7)](),gameCtx[_0x2982ab(0x1f7)]();}}catch(_0x5e8f06){console[_0x2982ab(0x1ec)](_0x2982ab(0x229),_0x5e8f06),gameCtx['fillStyle']=_0x2982ab(0x276),gameCtx['fillRect'](Math[_0x2982ab(0x25a)](_0x5ccd85['x']),Math[_0x2982ab(0x25a)](_0x5ccd85['y']),_0x5ccd85[_0x2982ab(0x1d2)],_0x5ccd85[_0x2982ab(0x1eb)]);}finally{gameCtx['restore']();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0){gameCtx[_0x1a87b1(0x256)]();const _0x3c55a7=0.4+(Math[_0x1a87b1(0x1e7)](_0x1b47cc*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0x50427c=captureBeamProgress;gameCtx[_0x1a87b1(0x26a)]=_0x50427c*_0x3c55a7;const _0x363313=enemies['find'](_0x569f00=>_0x569f00['id']===capturingBossId);if(_0x363313){const _0x4ee026=_0x363313['x']+BOSS_WIDTH/0x2,_0x18df7f=_0x363313['y']+BOSS_HEIGHT,_0x59fd85=gameCanvas[_0x1a87b1(0x1eb)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x5d99b9=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x2f5cfe=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x18df7f<_0x59fd85){const _0x160a5f=gameCtx[_0x1a87b1(0x21c)](_0x4ee026,_0x18df7f,_0x4ee026,_0x59fd85);_0x160a5f[_0x1a87b1(0x1f2)](0x0,CAPTURE_BEAM_COLOR_START),_0x160a5f[_0x1a87b1(0x1f2)](0x1,CAPTURE_BEAM_COLOR_END),gameCtx[_0x1a87b1(0x254)]=_0x160a5f,gameCtx[_0x1a87b1(0x227)](),gameCtx['moveTo'](_0x4ee026-_0x5d99b9/0x2,_0x18df7f),gameCtx['lineTo'](_0x4ee026+_0x5d99b9/0x2,_0x18df7f),gameCtx[_0x1a87b1(0x1f9)](_0x4ee026+_0x2f5cfe/0x2,_0x59fd85),gameCtx['lineTo'](_0x4ee026-_0x2f5cfe/0x2,_0x59fd85),gameCtx['closePath'](),gameCtx[_0x1a87b1(0x20c)]();}}gameCtx[_0x1a87b1(0x1f7)]();}renderExplosions(),renderFloatingScores(),renderHitSparks();let _0x5c1a57=![];const _0x41e109=gameCanvas[_0x1a87b1(0x1eb)]/0x2,_0x3cb38a=gameCanvas['width']/0x2,_0x5bbc24=_0x1a87b1(0x22f)+challengingStageEnemiesHit,_0x489068=_0x1a87b1(0x23a)+scoreEarnedThisCS;if(isPaused)drawCanvasText(_0x1a87b1(0x289),_0x3cb38a,_0x41e109,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x1a87b1(0x1d9),'middle',PAUSE_TEXT_SHADOW),_0x5c1a57=!![];else{if(isShowingCaptureMessage)drawCanvasText(_0x1a87b1(0x242),_0x3cb38a,_0x41e109-0x28,INTRO_TEXT_FONT,_0x1a87b1(0x250),_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),_0x5c1a57=!![];else{if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x5bbc24,_0x3cb38a,_0x41e109,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x1a87b1(0x1d9),'middle',!![]),_0x5c1a57=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x1a87b1(0x22b),_0x3cb38a,_0x41e109-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,'center',_0x1a87b1(0x219),!![]),showCsBonusScoreMessage&&drawCanvasText('SPECIAL\x20BONUS\x2010000\x20PTS',_0x3cb38a,_0x41e109+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,'center',_0x1a87b1(0x219),!![]);else{if(showCSClearMessage)drawCanvasText(_0x1a87b1(0x226),_0x3cb38a,_0x41e109-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),_0x5c1a57=!![],showCsHitsForClearMessage&&drawCanvasText(_0x5bbc24,_0x3cb38a,_0x41e109,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),showCsScoreForClearMessage&&drawCanvasText(_0x489068,_0x3cb38a,_0x41e109+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,'center','middle',!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x1a87b1(0x1d8),_0x3cb38a,_0x41e109,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,'center',_0x1a87b1(0x219),!![]),_0x5c1a57=!![];else{if(isShowingIntro){let _0x556f9c='',_0x28bc74=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1)_0x556f9c=!isManualControl?_0x1a87b1(0x231):_0x1a87b1(0x1d5)+(isTwoPlayerMode?currentPlayer:0x1);else{if(introStep===0x2)_0x556f9c='STAGE\x20'+level;else introStep===0x3&&(_0x556f9c='CHALLENGING\x20STAGE',_0x28bc74=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(entranceSound),csIntroSoundPlayed=!![]));}_0x556f9c&&(drawCanvasText(_0x556f9c,_0x3cb38a,_0x41e109,INTRO_TEXT_FONT,_0x28bc74,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),_0x5c1a57=!![]);}else{if(showReadyMessage)drawCanvasText(_0x1a87b1(0x1df),_0x3cb38a,_0x41e109,INTRO_TEXT_FONT,READY_TEXT_COLOR,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),_0x5c1a57=!![];else{if(!isManualControl&&isShowingDemoText&&!_0x5c1a57&&!isEntrancePhaseActive&&!isCsCompletionDelayActive){const _0x439274=DEMO_TEXT_BLINK_CYCLE_MS*1.5,_0xf3e896=DEMO_TEXT_BLINK_ON_MS*1.5;_0x1b47cc%_0x439274<_0xf3e896&&drawCanvasText(_0x1a87b1(0x21b),_0x3cb38a,_0x41e109,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,'center',_0x1a87b1(0x219),!![]);}}}}}}}}gameCtx['restore']();}else{if(isShowingPlayerGameOverMessage){const _0x272c1b='PLAYER\x20'+playerWhoIsGameOver,_0x81eca3=RESULTS_LINE_V_SPACING_SINGLE,_0x2083a3=gameCanvas[_0x1a87b1(0x1eb)]*0.45;drawCanvasText(_0x272c1b,gameCanvas[_0x1a87b1(0x1d2)]/0x2,_0x2083a3-_0x81eca3/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),drawCanvasText(_0x1a87b1(0x261),gameCanvas[_0x1a87b1(0x1d2)]/0x2,_0x2083a3+_0x81eca3/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center',_0x1a87b1(0x219),!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x2bdb8e=_0x1b47cc-gameOverSequenceStartTime,_0x477e7a=_0x2bdb8e<GAME_OVER_DURATION,_0x55f797=_0x2bdb8e>=GAME_OVER_DURATION;if(_0x477e7a)drawCanvasText(_0x1a87b1(0x261),gameCanvas['width']/0x2,gameCanvas['height']/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x1a87b1(0x1d9),_0x1a87b1(0x219),GAME_OVER_SHADOW);else{if(_0x55f797){gameCtx[_0x1a87b1(0x256)]();const _0x3de36a=gameCanvas[_0x1a87b1(0x1d2)]/0x2,_0x5605f9=gameCanvas[_0x1a87b1(0x1d2)];let _0x2ec4a6=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x328df2=(_0x594552,_0x5d77fd,_0x3f08d7,_0xb39ad3,_0x23d49a,_0x2713e7,_0x261b56,_0x15ea9)=>{const _0x3b4ff0=_0x1a87b1;let _0x38f9ee=_0x15ea9;const _0xf811dd=RESULTS_VALUE_COLOR_YELLOW,_0x2414a5=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0x3b4ff0(0x1ff),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,_0x3b4ff0(0x1d9),_0x3b4ff0(0x252),!![]),_0x38f9ee+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x594552,_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,'white',_0x3b4ff0(0x1d9),'middle',![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x3b4ff0(0x21f),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,_0xf811dd,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x2713e7[_0x3b4ff0(0x1ed)](),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,_0x2414a5,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('SCORE',_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x5d77fd[_0x3b4ff0(0x1ed)](),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText('SHOTS\x20FIRED',_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x3b4ff0(0x1d9),'middle',![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x3f08d7[_0x3b4ff0(0x1ed)](),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x3b4ff0(0x1ce),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0xb39ad3['toString'](),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x3b4ff0(0x20e),_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x23d49a,_0x261b56,_0x38f9ee,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x3b4ff0(0x1d9),_0x3b4ff0(0x219),![]),_0x38f9ee+=RESULTS_LINE_V_SPACING_SINGLE*1.5,drawCanvasText(_0x3b4ff0(0x253),_0x261b56,_0x38f9ee,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,'center','middle',![]);};if(isTwoPlayerMode){const _0x5bae7e=player1ShotsFired||0x0,_0x395a01=player1EnemiesHit||0x0,_0x14fd30=_0x5bae7e>0x0?Math[_0x1a87b1(0x25a)](_0x395a01/_0x5bae7e*0x64)+'%':'0%',_0x11e029=player2ShotsFired||0x0,_0x421917=player2EnemiesHit||0x0,_0x34bc44=_0x11e029>0x0?Math[_0x1a87b1(0x25a)](_0x421917/_0x11e029*0x64)+'%':'0%',_0x247bae=_0x5605f9*0.4,_0x53b948=_0x5605f9*0.1,_0x5a6fb0=_0x3de36a-_0x53b948/0x2-_0x247bae/0x2+_0x247bae*0.1,_0x25dd58=_0x3de36a+_0x53b948/0x2+_0x247bae/0x2-_0x247bae*0.1,_0x584c85=_0x1a87b1(0x212);_0x328df2(_0x584c85,player1Score,_0x5bae7e,_0x395a01,_0x14fd30,player1MaxLevelReached,_0x5a6fb0,_0x2ec4a6),_0x328df2(_0x1a87b1(0x203),player2Score,_0x11e029,_0x421917,_0x34bc44,player2MaxLevelReached,_0x25dd58,_0x2ec4a6);let _0x41e962=0x0;if(player1Score>player2Score)_0x41e962=0x1;else{if(player2Score>player1Score)_0x41e962=0x2;}if(_0x41e962>0x0){let _0x287c63=_0x2ec4a6;_0x287c63+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x287c63+=RESULTS_LINE_V_SPACING_SINGLE;let _0xa67db5=_0x2ec4a6;_0xa67db5+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0xa67db5+=RESULTS_LINE_V_SPACING_SINGLE;const _0x4bb371=_0x1a87b1(0x1d5)+_0x41e962,_0x33923a=_0x1a87b1(0x1ef);drawCanvasText(_0x4bb371,_0x3de36a,_0xa67db5,INTRO_TEXT_FONT,_0x1a87b1(0x1fc),_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]),drawCanvasText(_0x33923a,_0x3de36a,_0xa67db5+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x1a87b1(0x1d9),_0x1a87b1(0x219),!![]);}}else{const _0x330220=player1ShotsFired||0x0,_0x16ea6d=player1EnemiesHit||0x0,_0x22ef3e=wasLastGameAIDemo?score:player1Score,_0x3bc80f=wasLastGameAIDemo?level:player1MaxLevelReached,_0x24f384=_0x330220>0x0?Math[_0x1a87b1(0x25a)](_0x16ea6d/_0x330220*0x64)+'%':'0%',_0x3bd67b=wasLastGameAIDemo?_0x1a87b1(0x231):_0x1a87b1(0x212);_0x328df2(_0x3bd67b,_0x22ef3e,_0x330220,_0x16ea6d,_0x24f384,_0x3bc80f,_0x3de36a,_0x2ec4a6);}gameCtx[_0x1a87b1(0x1f7)]();}}}}}}}catch(_0x2b1848){console[_0x1a87b1(0x1ec)](_0x1a87b1(0x272),_0x2b1848,_0x2b1848['stack']);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx[_0x1a87b1(0x254)]='red',gameCtx[_0x1a87b1(0x1e1)]=_0x1a87b1(0x205),gameCtx[_0x1a87b1(0x274)]=_0x1a87b1(0x1d9),gameCtx[_0x1a87b1(0x287)](_0x1a87b1(0x267),gameCanvas[_0x1a87b1(0x1d2)]/0x2,gameCanvas[_0x1a87b1(0x1eb)]/0x2));}catch(_0x5652b8){}try{showMenuState();}catch(_0x3db757){}}}function hideCursor(){const _0x534e5f=_0x594ae1;gameCanvas&&(gameCanvas[_0x534e5f(0x262)]['cursor']=_0x534e5f(0x27e)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x4e4d12){const _0x7e7ba3=_0x594ae1;if(!gameCanvas)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x2b8d79=_0x7e7ba3(0x278);const _0x4942ca=!isInGameState||isShowingScoreScreen||gameOverSequenceStartTime>0x0&&Date[_0x7e7ba3(0x25e)]()-gameOverSequenceStartTime>=GAME_OVER_DURATION;let _0x4c87a5=![],_0x3eea95=selectedButtonIndex;if(_0x4942ca){const _0x42c0ab=gameCanvas[_0x7e7ba3(0x235)](),_0x486e88=gameCanvas['width']/_0x42c0ab[_0x7e7ba3(0x1d2)],_0x53f8fb=gameCanvas[_0x7e7ba3(0x1eb)]/_0x42c0ab[_0x7e7ba3(0x1eb)],_0x216116=(_0x4e4d12[_0x7e7ba3(0x24f)]-_0x42c0ab[_0x7e7ba3(0x25c)])*_0x486e88,_0x34ab84=(_0x4e4d12['clientY']-_0x42c0ab[_0x7e7ba3(0x252)])*_0x53f8fb,_0x4973a2=getMenuButtonRect(0x0),_0x36bcb2=getMenuButtonRect(0x1);if(_0x4973a2&&checkCollision({'x':_0x216116,'y':_0x34ab84,'width':0x1,'height':0x1},_0x4973a2))_0x3eea95=0x0,_0x4c87a5=!![];else _0x36bcb2&&checkCollision({'x':_0x216116,'y':_0x34ab84,'width':0x1,'height':0x1},_0x36bcb2)?(_0x3eea95=0x1,_0x4c87a5=!![]):(_0x3eea95=-0x1,_0x4c87a5=![]);_0x3eea95!==selectedButtonIndex&&(selectedButtonIndex=_0x3eea95,_0x4c87a5&&stopAutoDemoTimer()),_0x2b8d79=_0x4c87a5?_0x7e7ba3(0x1e9):_0x7e7ba3(0x278);}else _0x2b8d79=_0x7e7ba3(0x278),selectedButtonIndex=-0x1;gameCanvas[_0x7e7ba3(0x262)][_0x7e7ba3(0x1e8)]=_0x2b8d79,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x1f9945=Date[_0x7e7ba3(0x25e)]();if(_0x1f9945-lastMouseMoveResetTime>0x1f4){if(typeof startAutoDemoTimer===_0x7e7ba3(0x281))startAutoDemoTimer();lastMouseMoveResetTime=_0x1f9945;}}}function mainLoop(_0x1431ee){const _0x1a4f0f=_0x594ae1;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0x2ce74b=navigator[_0x1a4f0f(0x243)]();if(_0x2ce74b?.[connectedGamepadIndex]){const _0x1ed399=_0x2ce74b[connectedGamepadIndex],_0x4cf240=_0x1ed399[_0x1a4f0f(0x239)][_0x1a4f0f(0x230)](_0x3babee=>_0x3babee[_0x1a4f0f(0x216)]);let _0x1e9069=![];for(let _0x3cd35a=0x0;_0x3cd35a<_0x4cf240['length'];_0x3cd35a++){if(_0x3cd35a===PS5_BUTTON_R1||_0x3cd35a===PS5_BUTTON_TRIANGLE)continue;if(_0x4cf240[_0x3cd35a]&&!(previousDemoButtonStates[_0x3cd35a]??![])){_0x1e9069=!![];break;}}if(_0x1e9069){const _0x318c99=_0x4cf240[_0x1a4f0f(0x284)]();showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x4cf240['slice']();}else{if(previousDemoButtonStates[_0x1a4f0f(0x245)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates[_0x1a4f0f(0x245)]>0x0)previousDemoButtonStates=[];}if(typeof runSingleGameUpdate===_0x1a4f0f(0x281))runSingleGameUpdate(_0x1431ee);else{console[_0x1a4f0f(0x1ec)](_0x1a4f0f(0x214));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x571b52=Date[_0x1a4f0f(0x25e)](),_0x3884c1=_0x571b52-gameOverSequenceStartTime,_0x1ffd65=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x3884c1>=_0x1ffd65){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen){const _0x2f6ccc=Date[_0x1a4f0f(0x25e)]()-scoreScreenStartTime;if(_0x2f6ccc>=SCORE_SCREEN_DURATION){startAIDemo(),requestAnimationFrame(mainLoop);return;}if(typeof renderGame===_0x1a4f0f(0x281))renderGame();}else{if(isInGameState&&gameOverSequenceStartTime>0x0){if(typeof renderGame==='function')renderGame();const _0x36bf02=Date[_0x1a4f0f(0x25e)](),_0x13dc1f=_0x36bf02-gameOverSequenceStartTime,_0x1db564=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x13dc1f>=_0x1db564){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused){if(typeof renderGame===_0x1a4f0f(0x281))renderGame();}else{if(isInGameState&&isCsCompletionDelayActive){if(typeof runSingleGameUpdate===_0x1a4f0f(0x281))runSingleGameUpdate(_0x1431ee);else{if(typeof renderGame===_0x1a4f0f(0x281))renderGame();}}else{if(isInGameState&&isShowingPlayerGameOverMessage){if(typeof runSingleGameUpdate===_0x1a4f0f(0x281))runSingleGameUpdate(_0x1431ee);else{if(typeof renderGame===_0x1a4f0f(0x281))renderGame();}}else{if(typeof renderGame===_0x1a4f0f(0x281))renderGame();}}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0x5d55c3){console[_0x1a4f0f(0x1ec)](_0x1a4f0f(0x26b),_0x5d55c3,_0x5d55c3['stack']);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![];const _0x26a812=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound];_0x26a812[_0x1a4f0f(0x266)](_0x515814=>stopSound(_0x515814)),isGridSoundPlaying=![];try{showMenuState();}catch(_0x47af28){console[_0x1a4f0f(0x1ec)](_0x1a4f0f(0x1db),_0x47af28),document['body'][_0x1a4f0f(0x251)]=_0x1a4f0f(0x27c);}}}function _0x3b1d(_0x5f3b9e,_0x33b8f6){const _0x1a87c4=_0x1a87();return _0x3b1d=function(_0x3b1d2a,_0x5e7bfe){_0x3b1d2a=_0x3b1d2a-0x1ca;let _0x1cc187=_0x1a87c4[_0x3b1d2a];return _0x1cc187;},_0x3b1d(_0x5f3b9e,_0x33b8f6);}function startMainLoop(){const _0xf97dc2=_0x594ae1;mainLoopId===null?(gridOffsetY=0x0,mainLoop()):console[_0xf97dc2(0x222)](_0xf97dc2(0x1cc));}function _0x1a87(){const _0xc0b9c7=['EASY','\x201ST\x20LIFE\x20BONUS\x20FOR\x2020000\x20PTS','FATAL:\x20resetGame\x20function\x20is\x20not\x20defined!\x20Cannot\x20start\x20game\x20properly.','window.close()\x20failed:','\x20level\x201\x20icons\x20due\x20to\x203-type\x20limit.\x20Used\x20types:','2763yXIwEv','Error\x20in\x20renderGame:','bold\x2018px\x20\x27Press\x20Start\x202P\x27','textAlign','isArray','orange','particles','default','rgba(0,\x200,\x200,\x200.8)','360dATNSL','37788630IPbKeT','<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>','2095020qFFjxf','none','alpha','capturedShipDimensions','function','2UP','3518xYlzPc','slice','shadowBlur','12975235kyBDMD','fillText','abs','PAUSED','00:00','Critical\x20error:\x20Game\x20logic\x20not\x20loaded\x20correctly!','min','type','darkred','attacking','3CUNtiG','30px\x20Arial','lighter','floor','Main\x20loop\x20already\x20running.','rapid','NUMBER\x20OF\x20HITS','rotate','match','325WKwgaM','width','measureText','cyan','PLAYER\x20','2025\x20\x20\x20PLATINI2000(c)\x20\x20\x20LTD','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','EXTRA\x20LIFE','center','following_bezier_path','Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:','START\x20GAME','addEventListener','20px\x20\x27Press\x20Start\x202P\x27','READY?','Could\x20not\x20add\x20','font','padStart','keyup','resize','gamepaddisconnected','resizeCanvases\x20not\x20found!','sin','cursor','pointer','defineNormalWaveEntrancePaths\x20not\x20found!','height','error','toString','body','WINS','\x20PTS','Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.','addColorStop','right','1UP','naturalWidth','click','restore','tintProgress','lineTo','loadHighScore\x20function\x20not\x20found.','yellow','white','Error\x20creating\x20explosion:','undefined','-\x20RESULTS\x20-','state','fillRect','drawImage','PLAYER\x202','15px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','20px\x20sans-serif','showing_capture_message','sqrt','complete','Error\x20in\x20baseStartGame:','NORMAL','add','fill','close','HIT-MISS-RATIO','keydown','1\x20PLAYER','initializeDOMElements\x20function\x20not\x20found!','PLAYER\x201','Written\x20By\x20Platini2000(c)','FATAL:\x20runSingleGameUpdate\x20is\x20not\x20defined!','GAME\x20EXIT','pressed','blue','Error\x20stopping\x20auto\x20demo\x20timer:','middle','rgba(0,\x200,\x20139,\x200.5)','PUSH\x20START\x20BUTTON','createLinearGradient','</p></div>','gamepadconnected','STAGE','hasCapturedShip','push','warn','source-over','12370itNaiO','source-atop','STAGE\x20CLEARED','beginPath','FATAL\x20INITIALIZATION\x20ERROR:','Error\x20drawing\x20enemy:','captureAnimationRotation','PERFECT\x20!','mousemove','targetX','velocityY','NUMBER\x20OF\x20HITS\x20','map','DEMO','radius','random','purple','getBoundingClientRect','\x202ND\x20LIFE\x20BONUS\x20FOR\x20','capturedShipY','9719096fLWfya','buttons','BONUS\x20','number','single','load','22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','naturalHeight','Cannot\x20reset\x20ship\x20position\x20in\x20showMenuState\x20-\x20canvas/ship\x20not\x20ready.','144546BhajmW','FIGHTER\x20CAPTURED','getGamepads','\x20EXT\x20LIFE\x20FOR\x20EVERY\x20','length','Error\x20in\x20pollControllerForMenu:','Error\x20starting\x20auto\x20demo\x20timer:','max','Error\x20rendering\x20floating\x20scores:','atan2','shadowOffsetY','val','Error\x20in\x20showMenuState:','grey','clientX','red','innerHTML','top','Platini2000(c)\x20LTD','fillStyle','shadowOffsetX','save','HIGH\x20SCORE','rgba(255,\x20200,\x2080,\x20','size','round','has','left','rgba(0,\x20191,\x20255,\x200.9)','now','capturedShipX','following_entrance_path','GAME\x20OVER','style','translate','isDamaged','globalCompositeOperation','forEach','FATAL\x20RENDER\x20ERROR.','color','velocityX','globalAlpha','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:'];_0x1a87=function(){return _0xc0b9c7;};return _0x1a87();}function initializeGame(){const _0x5da34f=_0x594ae1;try{if(typeof initializeDOMElements===_0x5da34f(0x281)){if(!initializeDOMElements()){console[_0x5da34f(0x1ec)]('DOM\x20element\x20initialization\x20failed.');return;}}else{console[_0x5da34f(0x1ec)](_0x5da34f(0x211));return;}if(typeof loadHighScore===_0x5da34f(0x281))loadHighScore();else console[_0x5da34f(0x222)](_0x5da34f(0x1fa));if(typeof defineNormalWaveEntrancePaths===_0x5da34f(0x281))defineNormalWaveEntrancePaths();else console[_0x5da34f(0x1ec)](_0x5da34f(0x1ea));if(typeof defineChallengingStagePaths===_0x5da34f(0x281))defineChallengingStagePaths();else console[_0x5da34f(0x1ec)]('defineChallengingStagePaths\x20not\x20found!');window[_0x5da34f(0x1dd)](_0x5da34f(0x20f),handleKeyDown),window['addEventListener'](_0x5da34f(0x1e3),handleKeyUp);gameCanvas?(gameCanvas[_0x5da34f(0x1dd)](_0x5da34f(0x1f6),handleCanvasClick),gameCanvas[_0x5da34f(0x1dd)](_0x5da34f(0x22c),handleCanvasMouseMove)):console[_0x5da34f(0x1ec)]('Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.');window[_0x5da34f(0x1dd)](_0x5da34f(0x21e),handleGamepadConnected),window['addEventListener'](_0x5da34f(0x1e5),handleGamepadDisconnected),window['addEventListener'](_0x5da34f(0x1e4),resizeCanvases),showMenuState();if(typeof resizeCanvases===_0x5da34f(0x281))resizeCanvases();else console['error'](_0x5da34f(0x1e6));startMainLoop();}catch(_0x232cef){console[_0x5da34f(0x1ec)](_0x5da34f(0x228),_0x232cef,_0x232cef['stack']),document[_0x5da34f(0x1ee)][_0x5da34f(0x251)]='<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20'+_0x232cef['message']+_0x5da34f(0x21d),mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window[_0x594ae1(0x1dd)](_0x594ae1(0x23d),initializeGame);