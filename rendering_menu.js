const _0x25254e=_0x459b;(function(_0x3f6186,_0x4012a2){const _0x207270=_0x459b,_0x33dc15=_0x3f6186();while(!![]){try{const _0x3e5c8f=-parseInt(_0x207270(0x1d1))/0x1*(parseInt(_0x207270(0x19b))/0x2)+-parseInt(_0x207270(0x1cc))/0x3+parseInt(_0x207270(0x1cd))/0x4+parseInt(_0x207270(0x1d9))/0x5*(-parseInt(_0x207270(0x202))/0x6)+parseInt(_0x207270(0x1a3))/0x7*(parseInt(_0x207270(0x21c))/0x8)+-parseInt(_0x207270(0x1f0))/0x9*(-parseInt(_0x207270(0x1af))/0xa)+-parseInt(_0x207270(0x1ac))/0xb;if(_0x3e5c8f===_0x4012a2)break;else _0x33dc15['push'](_0x33dc15['shift']());}catch(_0x4a7306){_0x33dc15['push'](_0x33dc15['shift']());}}}(_0x1867,0x63d06));const MENU_LOGO_APPROX_HEIGHT=0x55,MENU_SUBTITLE_TEXT=_0x25254e(0x1e3),MENU_SUBTITLE_FONT='18px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif',MENU_SUBTITLE_COLOR=_0x25254e(0x1c8),MENU_BUTTON_FONT=_0x25254e(0x201),MENU_BUTTON_COLOR='white',MENU_BUTTON_COLOR_HOVER=_0x25254e(0x257),MENU_BUTTON_WIDTH=0x12c,MENU_BUTTON_HEIGHT=0x37,MENU_LOGO_BOTTOM_TO_START_GAP=0x5,MENU_BUTTON_V_GAP=-0xf,MENU_BUTTON_SUBTITLE_V_GAP=-0x0,MENU_SCORE_FONT=_0x25254e(0x23a),MENU_SCORE_COLOR=_0x25254e(0x1fe),MENU_SCORE_LABEL_COLOR='red',GAME_OVER_FONT=_0x25254e(0x24a),GAME_OVER_COLOR=_0x25254e(0x257),GAME_OVER_SHADOW=!![],DEMO_TEXT_LINE1_FONT=_0x25254e(0x24a),DEMO_TEXT_COLOR=_0x25254e(0x257),DEMO_TEXT_BLINK_ON_MS=0x3e8,DEMO_TEXT_BLINK_OFF_MS=0x3e8,DEMO_TEXT_BLINK_CYCLE_MS=DEMO_TEXT_BLINK_ON_MS+DEMO_TEXT_BLINK_OFF_MS,LOGO_SCALE_FACTOR=0.45,MENU_LOGO_EXTRA_Y_OFFSET=0x0,MENU_GENERAL_Y_OFFSET=0x32,INTRO_TEXT_FONT='bold\x2018px\x20\x27Press\x20Start\x202P\x27',INTRO_TEXT_COLOR_NORMAL='rgba(0,\x20191,\x20255,\x200.9)',INTRO_TEXT_COLOR_DARK_YELLOW=_0x25254e(0x242),INTRO_TEXT_COLOR_CS_TEXT=INTRO_TEXT_COLOR_NORMAL,PERFECT_TEXT_COLOR='red',EXTRA_LIFE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,READY_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_BONUS_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_DARK_YELLOW,CS_CLEAR_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_HITS_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,CS_CLEAR_SCORE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_FONT=INTRO_TEXT_FONT,PAUSE_TEXT_COLOR=INTRO_TEXT_COLOR_NORMAL,PAUSE_TEXT_SHADOW=!![],RESULTS_SCREEN_DURATION=0x4e20,PLAYER_GAME_OVER_MESSAGE_DURATION=0x1388,SCORE_SCREEN_TEXT_FONT=INTRO_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP=INTRO_TEXT_COLOR_NORMAL,SCORE_SCREEN_TEXT_COLOR_BONUS=INTRO_TEXT_COLOR_DARK_YELLOW,SCORE_SCREEN_LINE_V_SPACING=0x28,SCORE_SCREEN_ICON_TEXT_H_SPACING=0xf,SCORE_SCREEN_VERTICAL_OFFSET=0x4b,RESULTS_HEADER_COLOR=_0x25254e(0x1c8),RESULTS_VALUE_COLOR_YELLOW=INTRO_TEXT_COLOR_DARK_YELLOW,RESULTS_LABEL_COLOR=_0x25254e(0x1fe),RESULTS_VALUE_COLOR_CYAN=INTRO_TEXT_COLOR_NORMAL,RESULTS_LINE_V_SPACING_SINGLE=0x23,RESULTS_LINE_V_SPACING_DOUBLE=0x5a,RESULTS_START_Y=0x9b,RESULTS_FOOTER_FONT=MENU_SUBTITLE_FONT,RESULTS_FOOTER_COLOR=RESULTS_HEADER_COLOR,CS_MESSAGE_VERTICAL_OFFSET=0x1e;function getSubtitleApproxHeight(_0x4ab076){const _0x25c4cb=_0x4ab076['match'](/(\d+)px/);return _0x25c4cb?.[0x1]?parseInt(_0x25c4cb[0x1],0xa):0x19;}function formatMillisecondsToMMSS(_0x92a275){const _0x2ffd1f=_0x25254e;if(_0x92a275<=0x0||typeof _0x92a275!==_0x2ffd1f(0x23d)||!isFinite(_0x92a275))return'00:00';const _0x25814d=Math[_0x2ffd1f(0x1ff)](_0x92a275/0x3e8),_0x24a6cd=Math[_0x2ffd1f(0x1ff)](_0x25814d/0x3c),_0x281301=_0x25814d%0x3c,_0x20068d=String(_0x24a6cd)[_0x2ffd1f(0x1b1)](0x2,'0'),_0x666570=String(_0x281301)[_0x2ffd1f(0x1b1)](0x2,'0');return _0x20068d+':'+_0x666570;}function getMenuButtonRect(_0x2cbb52){const _0x9a67c5=_0x25254e;if(!gameCtx||!gameCanvas||gameCanvas[_0x9a67c5(0x256)]===0x0||gameCanvas['height']===0x0)return null;const _0x2011f1=gameCanvas[_0x9a67c5(0x256)],_0x52f817=gameCanvas[_0x9a67c5(0x1f2)],_0x344c0c=_0x2011f1/0x2-MENU_BUTTON_WIDTH/0x2-0x1;let _0x314fd1=MENU_LOGO_APPROX_HEIGHT;typeof logoImage!=='undefined'&&logoImage['complete']&&logoImage[_0x9a67c5(0x243)]!==0x0&&(_0x314fd1=logoImage[_0x9a67c5(0x243)]*LOGO_SCALE_FACTOR);const _0x2ca36f=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x9c2cac=_0x314fd1+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0x2ca36f;let _0x131d3d=(_0x52f817-_0x9c2cac)/0x2-0x46;_0x131d3d+=MENU_GENERAL_Y_OFFSET;const _0x12ccf0=_0x131d3d+_0x314fd1+MENU_LOGO_BOTTOM_TO_START_GAP,_0x4f0af2=_0x12ccf0+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP;if(_0x2cbb52===0x0)return{'x':_0x344c0c,'y':Math[_0x9a67c5(0x246)](_0x12ccf0),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};else{if(_0x2cbb52===0x1)return{'x':_0x344c0c,'y':Math['round'](_0x4f0af2),'width':MENU_BUTTON_WIDTH,'height':MENU_BUTTON_HEIGHT};}return null;}function pollControllerForMenu(){const _0x4166ab=_0x25254e;try{if(connectedGamepadIndex===null&&connectedGamepadIndexP2===null){joystickMovedVerticallyLastFrame=![];if(previousButtonStates['length']>0x0)previousButtonStates=[];if(previousGameButtonStates[_0x4166ab(0x1a1)]>0x0)previousGameButtonStates=[];if(previousGameButtonStatesP2[_0x4166ab(0x1a1)]>0x0)previousGameButtonStatesP2=[];return;}let _0x20691f=connectedGamepadIndex!==null?connectedGamepadIndex:connectedGamepadIndexP2;if(_0x20691f===null)return;const _0x45be4e=navigator[_0x4166ab(0x217)]();if(!_0x45be4e?.[_0x20691f])return;const _0x46a22a=_0x45be4e[_0x20691f],_0x32f67f=_0x46a22a[_0x4166ab(0x1a0)][_0x4166ab(0x216)](_0xebf332=>_0xebf332[_0x4166ab(0x1fa)]),_0xeca08f=_0x32f67f,_0x14b021=_0x32f67f;let _0x437603=![];const _0x20ca01=Date['now']();let _0x511c04=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x511c04=!![]);if(_0x511c04){connectedGamepadIndex!==null&&(previousButtonStates=_0xeca08f['slice'](),previousGameButtonStates=_0x14b021[_0x4166ab(0x1b3)]());if(connectedGamepadIndexP2!==null){const _0x14dd2e=navigator[_0x4166ab(0x217)]();_0x14dd2e?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x14dd2e[connectedGamepadIndexP2][_0x4166ab(0x1a0)][_0x4166ab(0x216)](_0x590148=>_0x590148[_0x4166ab(0x1fa)]));}return;}if(isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x591e4f=_0x14b021[PS5_BUTTON_TRIANGLE],_0x490431=previousGameButtonStates[PS5_BUTTON_TRIANGLE]??![];_0x591e4f&&!_0x490431&&(stopGameAndShowMenu(),_0x437603=!![]);}if(!_0x437603&&isInGameState&&playerLives>0x0&&gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){const _0x3225d1=_0x14b021[PS5_BUTTON_R1],_0x4d5d60=previousGameButtonStates[PS5_BUTTON_R1]??![];if(_0x3225d1&&!_0x4d5d60){if(typeof togglePause===_0x4166ab(0x1bf))togglePause();_0x437603=!![];}}if(!_0x437603){const _0x18f143=isShowingScoreScreen;if(_0x18f143){let _0x56bc6c=![];for(let _0x22c27e=0x0;_0x22c27e<_0xeca08f[_0x4166ab(0x1a1)];_0x22c27e++){if(_0x22c27e===PS5_BUTTON_R1||_0x22c27e===PS5_BUTTON_TRIANGLE)continue;const _0x49f861=previousButtonStates[_0x22c27e]??![];if(_0xeca08f[_0x22c27e]&&!_0x49f861){_0x56bc6c=!![];break;}}if(_0x56bc6c){if(typeof showMenuState===_0x4166ab(0x1bf))showMenuState();_0x437603=!![];}}else{if(!isInGameState&&!_0x437603){const _0x4885bf=_0xeca08f[PS5_BUTTON_CROSS],_0x51d7e7=previousButtonStates[PS5_BUTTON_CROSS]??![],_0x5f2310=_0xeca08f[PS5_BUTTON_CIRCLE],_0xd82cb=previousButtonStates[PS5_BUTTON_CIRCLE]??![],_0x5b6ec5=_0x46a22a[_0x4166ab(0x22a)][PS5_LEFT_STICK_Y]??0x0,_0x5d012a=_0xeca08f[PS5_DPAD_UP],_0x37290f=_0xeca08f[PS5_DPAD_DOWN];let _0x313e43=0x0;if(_0x5b6ec5<-AXIS_DEAD_ZONE_MENU||_0x5d012a)_0x313e43=-0x1;else{if(_0x5b6ec5>AXIS_DEAD_ZONE_MENU||_0x37290f)_0x313e43=0x1;}let _0x2ad75e=_0x313e43!==0x0;if(_0x2ad75e&&!joystickMovedVerticallyLastFrame){let _0x529417=selectedButtonIndex;const _0x1d0e1c=0x2;_0x529417===-0x1?_0x529417=_0x313e43===0x1?0x0:_0x1d0e1c-0x1:_0x529417+=_0x313e43;if(_0x529417<0x0)_0x529417=_0x1d0e1c-0x1;if(_0x529417>=_0x1d0e1c)_0x529417=0x0;_0x529417!==selectedButtonIndex&&(selectedButtonIndex=_0x529417,startAutoDemoTimer());}joystickMovedVerticallyLastFrame=_0x2ad75e;if(_0x4885bf&&!_0x51d7e7){stopAutoDemoTimer();if(isFiringModeSelectMode)selectedButtonIndex===0x0?selectedFiringMode=_0x4166ab(0x19e):selectedFiringMode=_0x4166ab(0x204),baseStartGame(!![]),_0x437603=!![];else{if(isPlayerSelectMode)selectedButtonIndex===0x0?startGame1P():startGame2P(),_0x437603=!![];else{if(selectedButtonIndex===0x0)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x437603=!![];else selectedButtonIndex===0x1&&(exitGame(),_0x437603=!![]);}}}if(!_0x437603&&_0x5f2310&&!_0xd82cb){stopAutoDemoTimer();if(isFiringModeSelectMode)isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x437603=!![];else isPlayerSelectMode?(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer(),_0x437603=!![]):(triggerFullscreen(),playSound(menuMusicSound),_0x437603=!![]);}}}}connectedGamepadIndex!==null&&(previousButtonStates=_0xeca08f[_0x4166ab(0x1b3)](),previousGameButtonStates=_0x14b021['slice']());if(connectedGamepadIndexP2!==null){const _0x5aed3b=navigator[_0x4166ab(0x217)]();_0x5aed3b?.[connectedGamepadIndexP2]&&(previousGameButtonStatesP2=_0x5aed3b[connectedGamepadIndexP2][_0x4166ab(0x1a0)][_0x4166ab(0x216)](_0x35542e=>_0x35542e['pressed']));}}catch(_0x255b2b){console[_0x4166ab(0x1ce)]('Error\x20in\x20pollControllerForMenu:',_0x255b2b),previousButtonStates=[],previousGameButtonStates=[],previousGameButtonStatesP2=[],selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![];}}function startAutoDemoTimer(){const _0x5df92b=_0x25254e;try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0xfe545f){console[_0x5df92b(0x1ce)](_0x5df92b(0x1de),_0xfe545f);}}function stopAutoDemoTimer(){const _0x20c2f7=_0x25254e;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x26d9f4){console[_0x20c2f7(0x1ce)](_0x20c2f7(0x251),_0x26d9f4);}}function showScoreScreen(){const _0x5ae93e=_0x25254e;if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date[_0x5ae93e(0x1c6)](),selectedButtonIndex=-0x1;}function showMenuState(){const _0x6544b9=_0x25254e;try{wasLastGameAIDemo&&(highScore=0x4e20);wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],scoreScreenStartTime=0x0,isManualControl=![],isShowingDemoText=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode=_0x6544b9(0x19e),isTwoPlayerMode=![],currentPlayer=0x1,showCsHitsMessage=![],csHitsMessageStartTime=0x0,showPerfectMessage=![],perfectMessageStartTime=0x0,showCsBonusScoreMessage=![],csBonusScoreMessageStartTime=0x0,showCSClearMessage=![],csClearMessageStartTime=0x0,showCsHitsForClearMessage=![],showCsScoreForClearMessage=![],showExtraLifeMessage=![],extraLifeMessageStartTime=0x0,showReadyMessage=![],readyMessageStartTime=0x0,readyForNextWave=![],readyForNextWaveReset=![],isCsCompletionDelayActive=![],csCompletionDelayStartTime=0x0,csCompletionResultIsPerfect=![],csIntroSoundPlayed=![],isShowingPlayerGameOverMessage=![],playerGameOverMessageStartTime=0x0,playerWhoIsGameOver=0x0,nextActionAfterPlayerGameOver='',player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![];const _0x2a3d45=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound,resultsMusicSound,hiScoreSound];_0x2a3d45[_0x6544b9(0x252)](_0x22b2ec=>stopSound(_0x22b2ec)),isGridSoundPlaying=![],typeof enemies!==_0x6544b9(0x1b2)&&Array[_0x6544b9(0x249)](enemies)&&enemies[_0x6544b9(0x252)](_0xae2691=>{const _0x5113d9=_0x6544b9;if(_0xae2691?.[_0x5113d9(0x212)]===_0x5113d9(0x1a4)){if(_0xae2691['type']===ENEMY3_TYPE)stopSound(bossGalagaDiveSound);else stopSound(butterflyDiveSound);}}),playerLives=0x3,score=0x0,level=0x1,player1Lives=0x3,player2Lives=0x3,player1Score=0x0,player2Score=0x0,player1ShotsFired=0x0,player2ShotsFired=0x0,player1EnemiesHit=0x0,player2EnemiesHit=0x0,player1MaxLevelReached=0x1,player2MaxLevelReached=0x1,scoreEarnedThisCS=0x0,enemies=[],bullets=[],enemyBullets=[],explosions=[],isShowingIntro=![],introStep=0x0,isChallengingStage=![],challengingStageEnemiesHit=0x0,currentGridOffsetX=0x0,gridMoveDirection=0x1,currentWaveDefinition=null,isEntrancePhaseActive=![],totalEnemiesScheduledForWave=0x0,enemiesSpawnedThisWave=0x0,typeof enemySpawnTimeouts!==_0x6544b9(0x1b2)&&Array['isArray'](enemySpawnTimeouts)&&enemySpawnTimeouts[_0x6544b9(0x252)](clearTimeout),enemySpawnTimeouts=[],lastEnemyDetachTime=0x0,selectedButtonIndex=-0x1,joystickMovedVerticallyLastFrame=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],isShowingResultsScreen=![],gameOverSequenceStartTime=0x0,gameStartTime=0x0,forceCenterShipNextReset=![],player1CompletedLevel=-0x1,p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![],ship&&gameCanvas&&gameCanvas[_0x6544b9(0x256)]>0x0&&gameCanvas[_0x6544b9(0x1f2)]>0x0?(ship['x']=Math[_0x6544b9(0x246)](gameCanvas[_0x6544b9(0x256)]/0x2-SHIP_WIDTH/0x2),ship[_0x6544b9(0x1be)]=ship['x'],ship['y']=gameCanvas[_0x6544b9(0x1f2)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN):console[_0x6544b9(0x19a)](_0x6544b9(0x225)),clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0),playSound(menuMusicSound),startAutoDemoTimer();}catch(_0xe90b3f){console['error'](_0x6544b9(0x203),_0xe90b3f),wasLastGameAIDemo=![],isInGameState=![],isShowingScoreScreen=![],isPaused=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isTwoPlayerMode=![],currentPlayer=0x1,isShowingPlayerGameOverMessage=![],player1TriggeredHighScoreSound=![],player2TriggeredHighScoreSound=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,alert(_0x6544b9(0x23c)),document['body'][_0x6544b9(0x234)]=_0x6544b9(0x20a);}}function startAIDemo(){if(isInGameState)return;stopSound(menuMusicSound),isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedFiringMode='rapid',isTwoPlayerMode=![],isManualControl=![],isShowingDemoText=!![],wasLastGameAIDemo=!![],baseStartGame(![]),gameJustStarted=!![];}function startGame1P(){if(isInGameState)return;isTwoPlayerMode=![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function startGame2P(){if(isInGameState)return;isTwoPlayerMode=!![],isPlayerSelectMode=![],isFiringModeSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer();}function baseStartGame(_0x531d5a){const _0xbe7540=_0x25254e;try{if(!gameCanvas||!gameCtx){console[_0xbe7540(0x1ce)]('Cannot\x20start\x20game\x20-\x20canvas\x20not\x20ready.'),showMenuState();return;}stopSound(menuMusicSound),stopAutoDemoTimer(),isInGameState=!![],isShowingScoreScreen=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],isManualControl=_0x531d5a,isShowingDemoText=!_0x531d5a,isPaused=![],previousButtonStates=[],previousGameButtonStates=[],previousDemoButtonStates=[],previousGameButtonStatesP2=[],p1JustFiredSingle=![],p2JustFiredSingle=![],p1FireInputWasDown=![],p2FireInputWasDown=![];_0x531d5a&&(wasLastGameAIDemo=![]);clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(typeof resetGame===_0xbe7540(0x1bf))resetGame();else{console[_0xbe7540(0x1ce)](_0xbe7540(0x245)),alert(_0xbe7540(0x24b)),showMenuState();return;}_0x531d5a&&playSound(coinSound),gameStartTime=Date[_0xbe7540(0x1c6)](),leftPressed=![],rightPressed=![],shootPressed=![],p2LeftPressed=![],p2RightPressed=![],p2ShootPressed=![],keyboardP1LeftDown=![],keyboardP1RightDown=![],keyboardP1ShootDown=![],keyboardP2LeftDown=![],keyboardP2RightDown=![],keyboardP2ShootDown=![],selectedButtonIndex=-0x1,ship&&gameCanvas&&gameCanvas[_0xbe7540(0x256)]>0x0&&gameCanvas[_0xbe7540(0x1f2)]>0x0&&(ship['x']=Math[_0xbe7540(0x246)](gameCanvas[_0xbe7540(0x256)]/0x2-SHIP_WIDTH/0x2),ship[_0xbe7540(0x1be)]=ship['x'],ship['y']=gameCanvas[_0xbe7540(0x1f2)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN),mainLoopId===null&&startMainLoop();}catch(_0x166e5f){console['error'](_0xbe7540(0x1e7),_0x166e5f),wasLastGameAIDemo=![],clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null,alert(_0xbe7540(0x237)),showMenuState();}}function stopGameAndShowMenu(){isPaused=![];if(isManualControl)saveHighScore();showMenuState();}function exitGame(){const _0x5b2a19=_0x25254e;isPaused=![],stopAutoDemoTimer(),saveHighScore(),isInGameState=![],isPlayerSelectMode=![],isFiringModeSelectMode=![],showMenuState();try{window[_0x5b2a19(0x233)](),setTimeout(()=>{if(!isInGameState)showMenuState();},0xc8);}catch(_0x3a5f8b){console['error']('window.close()\x20failed:',_0x3a5f8b),showMenuState();}}function _0x1867(){const _0x5503fe=['message','capturedShipY','keyup','moveTo','Error\x20starting\x20auto\x20demo\x20timer:','globalAlpha','complete','LOGO','\x201ST\x20LIFE\x20BONUS\x20FOR\x2020000\x20PTS','Written\x20By\x20Platini2000(c)','font','lighter','\x20level\x201\x20icons\x20due\x20to\x203-type\x20limit.\x20Used\x20types:','Error\x20in\x20baseStartGame:','getBoundingClientRect','naturalWidth','beginPath','PLAYER\x20','textAlign','showing_capture_message','has','SHOTS\x20FIRED','3609aLXUMg','Platini2000(c)\x20LTD','height','clientX','hasCapturedShip','random','default','captureAnimationRotation','Could\x20not\x20add\x20','-\x20RESULTS\x20-','pressed','img','Error\x20drawing\x20enemy:','stack','white','floor','GAME\x20OVER','22px\x20\x27Arial\x20Black\x27,\x20Gadget,\x20sans-serif','4677006BCcMeD','Error\x20in\x20showMenuState:','single','PLAYER\x202','capturedShipX','defineNormalWaveEntrancePaths\x20not\x20found!','orange','source-over','<p\x20style=\x22color:white;\x22>Error\x20returning\x20to\x20menu.\x20Please\x20refresh.</p>','measureText','body','middle','fill','HIT-MISS-RATIO','purple','NUMBER\x20OF\x20HITS','state','FIGHTER\x20CAPTURED','PERFECT\x20!','GAME\x20EXIT','map','getGamepads','sin','Error\x20rendering\x20floating\x20scores:','top','1\x20PLAYER','32jkJmiY','clientY','PAUSED','resize','DOM\x20element\x20initialization\x20failed.','cyan','capturedShipDimensions','initializeDOMElements\x20function\x20not\x20found!','STAGE\x20CLEARED','Cannot\x20reset\x20ship\x20position\x20in\x20showMenuState\x20-\x20canvas/ship\x20not\x20ready.','<p\x20style=\x22color:white;\x22>CRITICAL\x20LOOP\x20ERROR.\x20Please\x20refresh.</p>','HIGH\x20SCORE','SCORE','max','axes','FATAL:\x20runSingleGameUpdate\x20is\x20not\x20defined!','READY?','PLAYER\x201','addEventListener','20px\x20sans-serif','EASY','alpha','shadowOffsetY','close','innerHTML','FATAL\x20INITIALIZATION\x20ERROR:','\x202ND\x20LIFE\x20BONUS\x20FOR\x20','Critical\x20error\x20starting\x20game!','none','grey','20px\x20\x27Press\x20Start\x202P\x27','tintProgress','Error\x20returning\x20to\x20menu.\x20Please\x20refresh\x20the\x20page.','number','right','STAGE','save','keydown','yellow','naturalHeight','!!!\x20CRITICAL\x20ERROR\x20IN\x20mainLoop:','FATAL:\x20resetGame\x20function\x20is\x20not\x20defined!\x20Cannot\x20start\x20game\x20properly.','round','center','val','isArray','bold\x2018px\x20\x27Press\x20Start\x202P\x27','Critical\x20error:\x20Game\x20logic\x20not\x20loaded\x20correctly!','\x20PTS','abs','velocityY','rotation','2\x20PLAYER','Error\x20stopping\x20auto\x20demo\x20timer:','forEach','clearRect','push','restore','width','rgba(0,\x20191,\x20255,\x200.9)','PUSH\x20START\x20BUTTON','velocityX','warn','474706JIZTub','Failed\x20to\x20return\x20to\x20menu\x20after\x20loop\x20error:','isDamaged','rapid','addColorStop','buttons','length','fillText','1248443JEPKdu','attacking','1UP','following_entrance_path','globalCompositeOperation','displayStartTime','2UP','rgba(0,\x200,\x200,\x200.8)','rgba(255,\x20200,\x2080,\x20','9216999AfmVDB','NORMAL','load','20370qIlGiZ','Main\x20loop\x20already\x20running.','padStart','undefined','slice','style','SPECIAL\x20BONUS\x2010000\x20PTS','source-atop','radius','size','translate','FATAL\x20RENDER\x20ERROR.','Cannot\x20add\x20canvas\x20listeners:\x20gameCanvas\x20not\x20found\x20during\x20init.','color','drawImage','targetX','function','cursor','resizeCanvases\x20not\x20found!','type','blue','particles','add','now','30px\x20Arial','red','DEMO','EXTRA\x20LIFE','textBaseline','182244NdniZE','3176464eezeNO','error','toString','rotate','1KpzcMF','following_bezier_path','atan2','left','shadowBlur','fillStyle','text','fillRect','5spDyUN'];_0x1867=function(){return _0x5503fe;};return _0x1867();}function triggerGameOver(){triggerFinalGameOverSequence();}function startAutoDemoTimer(){const _0x4767bd=_0x25254e;try{stopAutoDemoTimer(),autoStartTimerId=setTimeout(()=>{!isInGameState&&!isShowingScoreScreen?(isPlayerSelectMode=![],isFiringModeSelectMode=![],showScoreScreen()):autoStartTimerId=null;},MENU_INACTIVITY_TIMEOUT);}catch(_0x755279){console[_0x4767bd(0x1ce)]('Error\x20starting\x20auto\x20demo\x20timer:',_0x755279);}}function stopAutoDemoTimer(){const _0x5bbdfe=_0x25254e;try{autoStartTimerId&&(clearTimeout(autoStartTimerId),autoStartTimerId=null);}catch(_0x2d2509){console[_0x5bbdfe(0x1ce)](_0x5bbdfe(0x251),_0x2d2509);}}function showScoreScreen(){if(isInGameState||isShowingScoreScreen)return;stopAutoDemoTimer(),isShowingScoreScreen=!![],isPlayerSelectMode=![],isFiringModeSelectMode=![],scoreScreenStartTime=Date['now'](),selectedButtonIndex=-0x1,clearTimeout(mouseIdleTimerId),mouseIdleTimerId=setTimeout(hideCursor,0x7d0);}function handleCanvasClick(_0xac0a7a){const _0x1b23f3=_0x25254e;if(!gameCanvas)return;const _0x3291ef=gameCanvas[_0x1b23f3(0x1e8)](),_0x3e6096=gameCanvas[_0x1b23f3(0x256)]/_0x3291ef[_0x1b23f3(0x256)],_0x27cd14=gameCanvas[_0x1b23f3(0x1f2)]/_0x3291ef[_0x1b23f3(0x1f2)],_0x117ebd=(_0xac0a7a[_0x1b23f3(0x1f3)]-_0x3291ef['left'])*_0x3e6096,_0x4b01b9=(_0xac0a7a['clientY']-_0x3291ef['top'])*_0x27cd14,_0x5edd24=Date['now']();let _0x4ac27c=![];(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0)&&(_0x4ac27c=!![]);if(_0x4ac27c)return;if(isInGameState){if(isPaused){if(typeof togglePause===_0x1b23f3(0x1bf))togglePause();return;}if(!isManualControl){if(typeof stopGameAndShowMenu===_0x1b23f3(0x1bf))stopGameAndShowMenu();}}else{if(isShowingScoreScreen){if(typeof showMenuState==='function')showMenuState();}else{const _0x26fe96=getMenuButtonRect(0x0),_0x5d8b6f=getMenuButtonRect(0x1);let _0x55678b=_0x26fe96&&checkCollision({'x':_0x117ebd,'y':_0x4b01b9,'width':0x1,'height':0x1},_0x26fe96),_0x566324=_0x5d8b6f&&checkCollision({'x':_0x117ebd,'y':_0x4b01b9,'width':0x1,'height':0x1},_0x5d8b6f);if(isFiringModeSelectMode){if(_0x55678b)selectedFiringMode=_0x1b23f3(0x19e),baseStartGame(!![]),stopAutoDemoTimer();else _0x566324?(selectedFiringMode=_0x1b23f3(0x204),baseStartGame(!![]),stopAutoDemoTimer()):(isFiringModeSelectMode=![],isPlayerSelectMode=!![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(isPlayerSelectMode){if(_0x55678b)startGame1P(),stopAutoDemoTimer();else _0x566324?(startGame2P(),stopAutoDemoTimer()):(isPlayerSelectMode=![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer());}else{if(_0x55678b)isPlayerSelectMode=!![],isFiringModeSelectMode=![],selectedButtonIndex=0x0,startAutoDemoTimer();else{if(_0x566324){if(typeof exitGame===_0x1b23f3(0x1bf))exitGame();stopAutoDemoTimer();}else triggerFullscreen(),playSound(menuMusicSound),stopAutoDemoTimer();}}}}}}function createExplosion(_0x847a2f,_0x2279b1){const _0xd4315d=_0x25254e;try{playSound(explosionSound);let _0x4c5cc5=[];for(let _0x56fbab=0x0;_0x56fbab<EXPLOSION_PARTICLE_COUNT;_0x56fbab++){const _0x5141ac=Math[_0xd4315d(0x1f5)]()*Math['PI']*0x2,_0x495544=Math[_0xd4315d(0x1f5)]()*(EXPLOSION_MAX_SPEED-EXPLOSION_MIN_SPEED)+EXPLOSION_MIN_SPEED;_0x4c5cc5[_0xd4315d(0x254)]({'x':_0x847a2f,'y':_0x2279b1,'vx':Math['cos'](_0x5141ac)*_0x495544,'vy':Math[_0xd4315d(0x218)](_0x5141ac)*_0x495544,'radius':EXPLOSION_PARTICLE_RADIUS,'alpha':0x1});}explosions[_0xd4315d(0x254)]({'creationTime':Date['now'](),'duration':EXPLOSION_DURATION,'particles':_0x4c5cc5});}catch(_0x1b1fd6){console[_0xd4315d(0x1ce)]('Error\x20creating\x20explosion:',_0x1b1fd6);}}function renderExplosions(){const _0x546862=_0x25254e;try{if(!gameCtx)return;gameCtx['save'](),gameCtx[_0x546862(0x1a7)]=_0x546862(0x1e5),explosions['forEach'](_0x2cbb31=>{const _0xb8241e=_0x546862;_0x2cbb31[_0xb8241e(0x1c4)][_0xb8241e(0x252)](_0x3d36ea=>{const _0x3b392d=_0xb8241e,_0x223348=_0x3d36ea[_0x3b392d(0x231)]*EXPLOSION_MAX_OPACITY;_0x223348>0.01&&(gameCtx[_0x3b392d(0x1ea)](),gameCtx['arc'](Math['round'](_0x3d36ea['x']),Math['round'](_0x3d36ea['y']),_0x3d36ea[_0x3b392d(0x1b7)],0x0,Math['PI']*0x2),gameCtx[_0x3b392d(0x1d6)]=_0x3b392d(0x1ab)+_0x223348['toFixed'](0x3)+')',gameCtx['fill']());});}),gameCtx[_0x546862(0x255)]();}catch(_0x353cf6){console[_0x546862(0x1ce)]('Error\x20rendering\x20explosions:',_0x353cf6);}}function drawCanvasText(_0x35c91f,_0x3a61e0,_0x5a85fd,_0x51b8c1,_0x334e52,_0x398074='center',_0x46df22=_0x25254e(0x20d),_0x548d76=![]){const _0x4da16f=_0x25254e;if(!gameCtx)return;gameCtx[_0x4da16f(0x240)](),gameCtx[_0x4da16f(0x1e4)]=_0x51b8c1,gameCtx[_0x4da16f(0x1d6)]=_0x334e52,gameCtx[_0x4da16f(0x1ec)]=_0x398074,gameCtx[_0x4da16f(0x1cb)]=_0x46df22,_0x548d76&&(gameCtx['shadowColor']=_0x4da16f(0x1aa),gameCtx[_0x4da16f(0x1d5)]=0x8,gameCtx['shadowOffsetX']=0x3,gameCtx[_0x4da16f(0x232)]=0x3),gameCtx['fillText'](_0x35c91f,_0x3a61e0,_0x5a85fd),gameCtx['restore']();}function drawCanvasButton(_0x235115,_0x10a326,_0x2d93e8){const _0x8d0b6b=_0x25254e;if(!gameCtx)return;const _0x57f920=getMenuButtonRect(_0x10a326);if(!_0x57f920)return;gameCtx[_0x8d0b6b(0x240)](),drawCanvasText(_0x235115,_0x57f920['x']+_0x57f920[_0x8d0b6b(0x256)]/0x2,_0x57f920['y']+_0x57f920['height']/0x2,MENU_BUTTON_FONT,_0x2d93e8?MENU_BUTTON_COLOR_HOVER:MENU_BUTTON_COLOR,_0x8d0b6b(0x247),_0x8d0b6b(0x20d)),gameCtx[_0x8d0b6b(0x255)]();}function _0x459b(_0x53ea5d,_0x552c0f){const _0x1867f1=_0x1867();return _0x459b=function(_0x459bb8,_0x2e86b){_0x459bb8=_0x459bb8-0x199;let _0x29cb67=_0x1867f1[_0x459bb8];return _0x29cb67;},_0x459b(_0x53ea5d,_0x552c0f);}function renderFloatingScores(){const _0x21d386=_0x25254e;try{if(!gameCtx||!floatingScores||floatingScores[_0x21d386(0x1a1)]===0x0)return;const _0x4903be=Date['now']();gameCtx['save'](),gameCtx[_0x21d386(0x1df)]=FLOATING_SCORE_OPACITY,floatingScores['forEach'](_0x4191f5=>{const _0x44bd17=_0x21d386;_0x4903be>=_0x4191f5[_0x44bd17(0x1a8)]&&drawCanvasText(_0x4191f5[_0x44bd17(0x1d7)],_0x4191f5['x'],_0x4191f5['y'],FLOATING_SCORE_FONT,_0x4191f5['color'],_0x44bd17(0x247),_0x44bd17(0x20d),![]);}),gameCtx[_0x21d386(0x1df)]=0x1,gameCtx[_0x21d386(0x255)]();}catch(_0x136c0b){console[_0x21d386(0x1ce)](_0x21d386(0x219),_0x136c0b);}}function renderHitSparks(){const _0x1db8b8=_0x25254e;if(!gameCtx||!hitSparks||hitSparks['length']===0x0)return;gameCtx[_0x1db8b8(0x240)](),gameCtx[_0x1db8b8(0x1a7)]=_0x1db8b8(0x1e5),hitSparks[_0x1db8b8(0x252)](_0x23e292=>{const _0x41b5bd=_0x1db8b8;if(_0x23e292&&_0x23e292[_0x41b5bd(0x231)]>0.01){gameCtx[_0x41b5bd(0x1d6)]=_0x23e292[_0x41b5bd(0x1bc)],gameCtx[_0x41b5bd(0x1df)]=_0x23e292[_0x41b5bd(0x231)],gameCtx[_0x41b5bd(0x1ea)]();const _0x3c4212=_0x23e292[_0x41b5bd(0x1b8)]*Math['sqrt'](_0x23e292['alpha']);gameCtx['arc'](Math[_0x41b5bd(0x246)](_0x23e292['x']),Math[_0x41b5bd(0x246)](_0x23e292['y']),Math[_0x41b5bd(0x229)](0.5,_0x3c4212/0x2),0x0,Math['PI']*0x2),gameCtx[_0x41b5bd(0x20e)]();}}),gameCtx['globalAlpha']=0x1,gameCtx['restore']();}function renderGame(){const _0x1b1bed=_0x25254e;try{if(!gameCtx||!gameCanvas){if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;return;}gameCtx[_0x1b1bed(0x253)](0x0,0x0,gameCanvas[_0x1b1bed(0x256)],gameCanvas[_0x1b1bed(0x1f2)]);const _0xea5e55=Date[_0x1b1bed(0x1c6)]();gameCtx[_0x1b1bed(0x240)]();const _0x1dac74=_0x1b1bed(0x23a),_0x13bd56='red',_0x2e25b0='white';gameCtx[_0x1b1bed(0x1e4)]=_0x1dac74,gameCtx['textBaseline']=_0x1b1bed(0x21a);const _0x46fb96=(_0x13c4aa,_0x370ca7,_0x2a07b3,_0x56caaf,_0x3027a8=![])=>{const _0x43eedd=_0x1b1bed;let _0x3583a5=!![],_0x403d76=UI_1UP_BLINK_ON_MS*1.5,_0x5875ce=UI_1UP_BLINK_CYCLE_MS*1.5;if(_0x13c4aa===_0x43eedd(0x1c9))_0x403d76=DEMO_TEXT_BLINK_ON_MS*0.7,_0x5875ce=DEMO_TEXT_BLINK_CYCLE_MS;else{if(_0x13c4aa===_0x43eedd(0x227)){_0x403d76=UI_1UP_BLINK_ON_MS*1.5,_0x5875ce=UI_1UP_BLINK_CYCLE_MS*1.5;if(isInGameState&&!isManualControl)_0x403d76=DEMO_TEXT_BLINK_ON_MS*0.7,_0x5875ce=DEMO_TEXT_BLINK_CYCLE_MS;else isInGameState&&isTwoPlayerMode&&currentPlayer===0x2&&(_0x403d76=UI_1UP_BLINK_ON_MS*1.5,_0x5875ce=UI_1UP_BLINK_CYCLE_MS*1.5);}}_0x3027a8&&((isPaused||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage||!(_0xea5e55%_0x5875ce<_0x403d76))&&(_0x3583a5=![]));_0x3583a5&&(gameCtx[_0x43eedd(0x1d6)]=_0x13bd56,gameCtx[_0x43eedd(0x1ec)]=_0x2a07b3,gameCtx['fillText'](_0x13c4aa,_0x56caaf,MARGIN_TOP));const _0x38bd3c=gameCtx[_0x43eedd(0x20b)](_0x13c4aa)[_0x43eedd(0x256)];let _0x22cb1a;if(_0x2a07b3===_0x43eedd(0x1d4))_0x22cb1a=_0x56caaf+_0x38bd3c/0x2;else{if(_0x2a07b3===_0x43eedd(0x23e))_0x22cb1a=_0x56caaf-_0x38bd3c/0x2;else _0x22cb1a=_0x56caaf;}gameCtx['fillStyle']=_0x2e25b0,gameCtx[_0x43eedd(0x1ec)]='center';let _0x5c33e7=MARGIN_TOP+SCORE_OFFSET_Y+0x5;_0x13c4aa===_0x43eedd(0x227)&&(_0x22cb1a=_0x56caaf),gameCtx['fillText'](_0x370ca7['toString'](),_0x22cb1a,_0x5c33e7);};let _0x2b49e1,_0x87672,_0x352175,_0x44a95e,_0x18e0db=![],_0x449ef8=![],_0x16541a=![];if(isShowingResultsScreen)_0x2b49e1=player1Score||0x0,_0x87672=player2Score||0x0,_0x352175=highScore||0x4e20,_0x352175=Math[_0x1b1bed(0x229)](_0x352175,_0x2b49e1,_0x87672),_0x44a95e=wasLastGameAIDemo?_0x1b1bed(0x1c9):_0x1b1bed(0x1a5),_0x16541a=![],_0x18e0db=![],_0x449ef8=![];else{if(gameOverSequenceStartTime>0x0&&!isShowingPlayerGameOverMessage)_0x2b49e1=player1Score||0x0,_0x87672=player2Score||0x0,_0x352175=highScore||0x4e20,_0x352175=Math[_0x1b1bed(0x229)](_0x352175,_0x2b49e1,_0x87672),_0x44a95e=wasLastGameAIDemo?_0x1b1bed(0x1c9):_0x1b1bed(0x1a5),_0x16541a=![],_0x18e0db=![],_0x449ef8=![];else{if(isShowingPlayerGameOverMessage)_0x2b49e1=player1Score||0x0,_0x87672=player2Score||0x0,_0x352175=highScore||0x4e20,_0x352175=Math[_0x1b1bed(0x229)](_0x352175,_0x2b49e1,_0x87672),_0x44a95e='1UP',_0x16541a=![],_0x18e0db=![],_0x449ef8=![];else{if(!isInGameState)_0x2b49e1=player1Score||0x0,_0x87672=player2Score||0x0,_0x352175=highScore||0x4e20,_0x352175=Math['max'](_0x352175,_0x2b49e1,_0x87672),_0x44a95e=_0x1b1bed(0x1a5),_0x16541a=![],_0x18e0db=![],_0x449ef8=![];else{_0x352175=highScore||0x0;if(!isManualControl)_0x2b49e1=score,_0x87672=0x0,_0x352175=Math[_0x1b1bed(0x229)](_0x352175,score),_0x44a95e='DEMO',_0x18e0db=!isShowingIntro&&!isPaused&&!isShipCaptured,_0x16541a=!isPaused&&!isShowingIntro&&score>0x0&&_0x352175>0x0&&score>=_0x352175;else isTwoPlayerMode?(_0x2b49e1=currentPlayer===0x1?score:player1Score,_0x87672=currentPlayer===0x2?score:player2Score,_0x352175=Math[_0x1b1bed(0x229)](_0x352175,player1Score,player2Score,score),_0x44a95e='1UP',_0x18e0db=!isShowingIntro&&!isPaused&&currentPlayer===0x1&&playerLives>0x0&&!isShipCaptured,_0x449ef8=!isShowingIntro&&!isPaused&&currentPlayer===0x2&&playerLives>0x0&&!isShipCaptured,_0x16541a=!isPaused&&!isShowingIntro&&score>0x0&&_0x352175>0x0&&score>=_0x352175):(_0x2b49e1=score,_0x87672=player2Score||0x0,_0x352175=Math[_0x1b1bed(0x229)](_0x352175,score),_0x44a95e=_0x1b1bed(0x1a5),_0x18e0db=!isShowingIntro&&!isPaused&&playerLives>0x0&&!isShipCaptured,_0x16541a=!isPaused&&!isShowingIntro&&score>0x0&&_0x352175>0x0&&score>=_0x352175);}}}}let _0xc58680=![];if(_0x16541a){if(!isManualControl)_0xc58680=_0x18e0db;else isTwoPlayerMode?currentPlayer===0x1?_0xc58680=_0x18e0db:_0xc58680=_0x449ef8:_0xc58680=_0x18e0db;}typeof MARGIN_SIDE!==_0x1b1bed(0x1b2)&&typeof MARGIN_TOP!=='undefined'&&typeof SCORE_OFFSET_Y!==_0x1b1bed(0x1b2)&&(_0x46fb96(_0x44a95e,_0x2b49e1,_0x1b1bed(0x1d4),MARGIN_SIDE,_0x18e0db),_0x46fb96(_0x1b1bed(0x227),_0x352175,'center',gameCanvas[_0x1b1bed(0x256)]/0x2,_0xc58680),_0x46fb96(_0x1b1bed(0x1a9),_0x87672,_0x1b1bed(0x23e),gameCanvas[_0x1b1bed(0x256)]-MARGIN_SIDE,_0x449ef8));if(typeof shipImage!=='undefined'&&typeof LIFE_ICON_MARGIN_BOTTOM!==_0x1b1bed(0x1b2)&&typeof LIFE_ICON_SIZE!==_0x1b1bed(0x1b2)&&typeof LIFE_ICON_MARGIN_LEFT!=='undefined'&&typeof LIFE_ICON_SPACING!=='undefined'){if(shipImage['complete']&&shipImage[_0x1b1bed(0x243)]!==0x0){const _0x320eee=gameCanvas['height']-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE;let _0x1926d3=0x0;if(isShowingResultsScreen||gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x1926d3=0x2;else{if(!isInGameState||isShowingScoreScreen)_0x1926d3=0x2;else isInGameState&&playerLives>0x0?_0x1926d3=Math[_0x1b1bed(0x229)](0x0,playerLives-0x1):_0x1926d3=0x0;}const _0x1d33e8=0x5;for(let _0x4c5979=0x0;_0x4c5979<Math['min'](_0x1926d3,_0x1d33e8);_0x4c5979++){const _0x2800c2=LIFE_ICON_MARGIN_LEFT+_0x4c5979*(LIFE_ICON_SIZE+LIFE_ICON_SPACING);gameCtx[_0x1b1bed(0x1bd)](shipImage,Math[_0x1b1bed(0x246)](_0x2800c2),Math[_0x1b1bed(0x246)](_0x320eee),LIFE_ICON_SIZE,LIFE_ICON_SIZE);}}}let _0x3b0cce=0x1;if(gameOverSequenceStartTime>0x0||isShowingPlayerGameOverMessage)_0x3b0cce=Math[_0x1b1bed(0x229)](0x1,player1MaxLevelReached,player2MaxLevelReached);else{if(!isInGameState||isShowingScoreScreen)_0x3b0cce=0x1;else isInGameState&&(_0x3b0cce=level);}if(_0x3b0cce>0x0&&typeof LEVEL_ICON_MARGIN_BOTTOM!==_0x1b1bed(0x1b2)&&typeof LEVEL_ICON_SIZE!=='undefined'&&typeof LEVEL_ICON_MARGIN_RIGHT!==_0x1b1bed(0x1b2)&&typeof LEVEL_ICON_SPACING!==_0x1b1bed(0x1b2)){const _0x26186f=[{'val':0x32,'img':level50Image},{'val':0x1e,'img':level30Image},{'val':0x14,'img':level20Image},{'val':0xa,'img':level10Image},{'val':0x5,'img':level5Image},{'val':0x1,'img':level1Image}];let _0x285ef0=_0x3b0cce,_0x17c088=[],_0x31e12d=new Set();const _0x4ee5f5=(_0x3dbab0,_0x271265,_0x464bf5)=>{const _0x340a38=_0x1b1bed;let _0x3a40b8=_0x3dbab0,_0xe0a7ae=new Set(_0x464bf5);for(let _0x2cf1cf=_0x271265;_0x2cf1cf<_0x26186f[_0x340a38(0x1a1)];_0x2cf1cf++){const _0x46b90b=_0x26186f[_0x2cf1cf][_0x340a38(0x248)];if(_0x3a40b8>=_0x46b90b){const _0x30635b=_0xe0a7ae['size']<0x3||_0xe0a7ae[_0x340a38(0x1ee)](_0x46b90b);if(!_0x30635b)continue;const _0x2d4a88=Math[_0x340a38(0x1ff)](_0x3a40b8/_0x46b90b);_0x3a40b8-=_0x2d4a88*_0x46b90b,_0xe0a7ae[_0x340a38(0x1c5)](_0x46b90b);if(_0x3a40b8===0x0)return!![];}}return _0x3a40b8===0x0;};for(let _0x81c84d=0x0;_0x81c84d<_0x26186f[_0x1b1bed(0x1a1)]-0x1;_0x81c84d++){const _0x11f39f=_0x26186f[_0x81c84d],_0x92d541=_0x11f39f[_0x1b1bed(0x248)],_0x1cea95=_0x11f39f[_0x1b1bed(0x1fb)];if(_0x285ef0>=_0x92d541){const _0x37babe=Math[_0x1b1bed(0x1ff)](_0x285ef0/_0x92d541),_0x4c7b2c=_0x285ef0-_0x37babe*_0x92d541;let _0x486c5d=new Set(_0x31e12d);_0x486c5d['add'](_0x92d541);if(_0x4ee5f5(_0x4c7b2c,_0x81c84d+0x1,_0x486c5d)){for(let _0x552f80=0x0;_0x552f80<_0x37babe;_0x552f80++){_0x17c088[_0x1b1bed(0x254)](_0x1cea95);}_0x285ef0=_0x4c7b2c,_0x31e12d[_0x1b1bed(0x1c5)](_0x92d541);if(_0x285ef0===0x0)break;}}}if(_0x285ef0>0x0){const _0x369530=_0x31e12d['size']<0x3||_0x31e12d['has'](0x1);if(_0x369530){for(let _0x48eb35=0x0;_0x48eb35<_0x285ef0;_0x48eb35++){_0x17c088[_0x1b1bed(0x254)](level1Image);}_0x31e12d[_0x1b1bed(0x1c5)](0x1),_0x285ef0=0x0;}else console[_0x1b1bed(0x19a)](_0x1b1bed(0x1f8)+_0x285ef0+_0x1b1bed(0x1e6),_0x31e12d);}_0x17c088[_0x1b1bed(0x1a1)]===0x0&&_0x17c088[_0x1b1bed(0x254)](level1Image);const _0x455fc6=_0x17c088['length'],_0x30a0e3=_0x455fc6*LEVEL_ICON_SIZE+Math[_0x1b1bed(0x229)](0x0,_0x455fc6-0x1)*LEVEL_ICON_SPACING,_0x10beef=gameCanvas[_0x1b1bed(0x256)]-LEVEL_ICON_MARGIN_RIGHT,_0x387eb2=_0x10beef-_0x30a0e3,_0x1f8558=gameCanvas[_0x1b1bed(0x1f2)]-LEVEL_ICON_MARGIN_BOTTOM-LEVEL_ICON_SIZE;let _0x403546=_0x387eb2;for(const _0x4688d4 of _0x17c088){_0x4688d4&&_0x4688d4[_0x1b1bed(0x1e0)]&&_0x4688d4[_0x1b1bed(0x243)]!==0x0&&gameCtx[_0x1b1bed(0x1bd)](_0x4688d4,Math[_0x1b1bed(0x246)](_0x403546),Math[_0x1b1bed(0x246)](_0x1f8558),LEVEL_ICON_SIZE,LEVEL_ICON_SIZE),_0x403546+=LEVEL_ICON_SIZE+LEVEL_ICON_SPACING;}}gameCtx[_0x1b1bed(0x255)](),gameCtx['save']();if(ship&&!isShowingCaptureMessage){let _0x1d4f76=!![];if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isInvincible){const _0x558f20=INVINCIBILITY_BLINK_ON_MS+INVINCIBILITY_BLINK_OFF_MS,_0x432909=_0xea5e55%_0x558f20;_0x432909>=INVINCIBILITY_BLINK_ON_MS&&(_0x1d4f76=![]);}if(_0x1d4f76){let _0x3ffcf3=ship['x'],_0x3956b9=(isShowingPlayerGameOverMessage||gameOverSequenceStartTime>0x0||!isInGameState||isShowingScoreScreen||isInGameState&&isShowingIntro&&!isManualControl&&(introStep===0x1||introStep===0x2||introStep===0x3))&&!isDualShipActive;_0x3956b9&&(_0x3ffcf3=Math[_0x1b1bed(0x246)](gameCanvas[_0x1b1bed(0x256)]/0x2-ship[_0x1b1bed(0x256)]/0x2));const _0x3272e7=gameCanvas[_0x1b1bed(0x1f2)]-SHIP_HEIGHT-SHIP_BOTTOM_MARGIN;typeof shipImage!==_0x1b1bed(0x1b2)&&shipImage[_0x1b1bed(0x1e0)]&&shipImage[_0x1b1bed(0x243)]!==0x0?gameCtx[_0x1b1bed(0x1bd)](shipImage,Math[_0x1b1bed(0x246)](_0x3ffcf3),Math['round'](_0x3272e7),ship['width'],ship['height']):(gameCtx['fillStyle']=_0x1b1bed(0x1c3),gameCtx[_0x1b1bed(0x1d8)](Math[_0x1b1bed(0x246)](_0x3ffcf3),Math[_0x1b1bed(0x246)](_0x3272e7),ship['width'],ship[_0x1b1bed(0x1f2)]));if(isInGameState&&!gameOverSequenceStartTime&&!isShowingPlayerGameOverMessage&&isDualShipActive&&!isShipCaptured&&typeof shipImage!==_0x1b1bed(0x1b2)&&shipImage[_0x1b1bed(0x1e0)]&&shipImage[_0x1b1bed(0x243)]!==0x0){const _0x5ab01a=_0x3ffcf3+DUAL_SHIP_OFFSET_X;gameCtx[_0x1b1bed(0x1bd)](shipImage,Math[_0x1b1bed(0x246)](_0x5ab01a),Math[_0x1b1bed(0x246)](_0x3272e7),ship[_0x1b1bed(0x256)],ship[_0x1b1bed(0x1f2)]);}}}fallingShips['length']>0x0&&typeof shipImage!==_0x1b1bed(0x1b2)&&shipImage[_0x1b1bed(0x1e0)]&&fallingShips[_0x1b1bed(0x252)](_0x303a3b=>{const _0x5c7c77=_0x1b1bed;if(_0x303a3b){gameCtx[_0x5c7c77(0x240)]();const _0x4aed6f=_0x303a3b['x']+_0x303a3b[_0x5c7c77(0x256)]/0x2,_0x5a8670=_0x303a3b['y']+_0x303a3b[_0x5c7c77(0x1f2)]/0x2;gameCtx[_0x5c7c77(0x1b9)](_0x4aed6f,_0x5a8670),gameCtx[_0x5c7c77(0x1d0)](_0x303a3b[_0x5c7c77(0x24f)]||0x0);const _0x16433a=-_0x303a3b[_0x5c7c77(0x256)]/0x2,_0x294705=-_0x303a3b[_0x5c7c77(0x1f2)]/0x2,_0x2a01f1=_0x303a3b[_0x5c7c77(0x256)],_0x16f34c=_0x303a3b[_0x5c7c77(0x1f2)];gameCtx['drawImage'](shipImage,_0x16433a,_0x294705,_0x2a01f1,_0x16f34c),typeof _0x303a3b[_0x5c7c77(0x23b)]===_0x5c7c77(0x23d)&&_0x303a3b[_0x5c7c77(0x23b)]>0.01&&(gameCtx[_0x5c7c77(0x240)](),gameCtx['globalAlpha']=_0x303a3b['tintProgress'],gameCtx['fillStyle']=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x5c7c77(0x1a7)]=_0x5c7c77(0x1b6),gameCtx[_0x5c7c77(0x1d8)](_0x16433a,_0x294705,_0x2a01f1,_0x16f34c),gameCtx['restore']()),gameCtx[_0x5c7c77(0x255)]();}});gameCtx['restore']();if(!isInGameState){if(isShowingScoreScreen){if(typeof LIFE_ICON_SIZE!==_0x1b1bed(0x1b2)){gameCtx[_0x1b1bed(0x240)]();const _0x329693=gameCanvas[_0x1b1bed(0x256)]/0x2;let _0x3bf11f=gameCanvas[_0x1b1bed(0x1f2)]*0.25+SCORE_SCREEN_VERTICAL_OFFSET,_0x4c33e2=0x0,_0x52b8a2=_0x3bf11f+0x0;drawCanvasText(_0x1b1bed(0x258),_0x329693,_0x52b8a2-0x1e,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_TOP,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]);let _0x2349bd=_0x52b8a2+SCORE_SCREEN_LINE_V_SPACING*1.8;const _0x30db29=_0x1b1bed(0x1e2);gameCtx['font']=SCORE_SCREEN_TEXT_FONT;const _0x4647dc=gameCtx[_0x1b1bed(0x20b)](_0x30db29)[_0x1b1bed(0x256)],_0x20bf4f=LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING+_0x4647dc;_0x4c33e2=_0x329693-_0x20bf4f/0x2-0x1e;typeof shipImage!==_0x1b1bed(0x1b2)&&shipImage[_0x1b1bed(0x1e0)]&&shipImage['naturalHeight']!==0x0&&gameCtx[_0x1b1bed(0x1bd)](shipImage,Math['round'](_0x4c33e2),Math[_0x1b1bed(0x246)](_0x2349bd-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x30db29,_0x4c33e2+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x2349bd,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,_0x1b1bed(0x1d4),_0x1b1bed(0x20d),![]);let _0x156aa5=_0x2349bd+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x25da40=_0x1b1bed(0x236)+RECURRING_EXTRA_LIFE_INTERVAL+_0x1b1bed(0x24c);typeof shipImage!=='undefined'&&shipImage[_0x1b1bed(0x1e0)]&&shipImage[_0x1b1bed(0x243)]!==0x0&&gameCtx[_0x1b1bed(0x1bd)](shipImage,Math[_0x1b1bed(0x246)](_0x4c33e2),Math[_0x1b1bed(0x246)](_0x156aa5-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x25da40,_0x4c33e2+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x156aa5,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1b1bed(0x20d),![]);let _0x51c7ab=_0x156aa5+SCORE_SCREEN_LINE_V_SPACING*0x1;const _0x3f5e40='\x20EXT\x20LIFE\x20FOR\x20EVERY\x20'+RECURRING_EXTRA_LIFE_INTERVAL+_0x1b1bed(0x24c);typeof shipImage!=='undefined'&&shipImage[_0x1b1bed(0x1e0)]&&shipImage[_0x1b1bed(0x243)]!==0x0&&gameCtx[_0x1b1bed(0x1bd)](shipImage,Math[_0x1b1bed(0x246)](_0x4c33e2),Math[_0x1b1bed(0x246)](_0x51c7ab-LIFE_ICON_SIZE/0x2-0x5),LIFE_ICON_SIZE,LIFE_ICON_SIZE);drawCanvasText(_0x3f5e40,_0x4c33e2+LIFE_ICON_SIZE+SCORE_SCREEN_ICON_TEXT_H_SPACING,_0x51c7ab,SCORE_SCREEN_TEXT_FONT,SCORE_SCREEN_TEXT_COLOR_BONUS,'left',_0x1b1bed(0x20d),![]);let _0x1fea43=_0x51c7ab+SCORE_SCREEN_LINE_V_SPACING*1.8;drawCanvasText('2025\x20\x20\x20PLATINI2000(c)\x20\x20\x20LTD',_0x329693-0xa,_0x1fea43+0x1e,MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,'center',_0x1b1bed(0x20d),![]),gameCtx['restore']();}}else{gameCtx[_0x1b1bed(0x240)]();const _0x2f7b73=gameCanvas['width'],_0x5ea9c0=gameCanvas['height'],_0x25a078=_0x2f7b73/0x2;selectedButtonIndex===-0x1&&(selectedButtonIndex=0x0);let _0x539065=MENU_LOGO_APPROX_HEIGHT,_0x41d71a=_0x539065*(logoImage[_0x1b1bed(0x1e9)]/logoImage[_0x1b1bed(0x243)]||0x1);typeof logoImage!=='undefined'&&logoImage[_0x1b1bed(0x1e0)]&&logoImage[_0x1b1bed(0x243)]!==0x0&&(_0x539065=logoImage[_0x1b1bed(0x243)]*LOGO_SCALE_FACTOR,_0x41d71a=logoImage[_0x1b1bed(0x1e9)]*LOGO_SCALE_FACTOR);const _0xbcd789=getSubtitleApproxHeight(MENU_SUBTITLE_FONT),_0x17c674=_0x539065+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0xbcd789;let _0x3b9518=(_0x5ea9c0-_0x17c674)/0x2-0x46;_0x3b9518+=MENU_GENERAL_Y_OFFSET;const _0x22c37f=_0x25a078-_0x41d71a/0x2,_0xffd083=_0x3b9518+MENU_LOGO_EXTRA_Y_OFFSET;typeof logoImage!==_0x1b1bed(0x1b2)&&logoImage[_0x1b1bed(0x1e0)]&&logoImage[_0x1b1bed(0x243)]!==0x0?gameCtx[_0x1b1bed(0x1bd)](logoImage,Math[_0x1b1bed(0x246)](_0x22c37f),Math[_0x1b1bed(0x246)](_0xffd083),_0x41d71a,_0x539065):drawCanvasText(_0x1b1bed(0x1e1),_0x25a078,_0xffd083+_0x539065/0x2,_0x1b1bed(0x1c7),_0x1b1bed(0x239));if(isFiringModeSelectMode)drawCanvasButton(_0x1b1bed(0x230),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x1b1bed(0x1ad),0x1,selectedButtonIndex===0x1);else isPlayerSelectMode?(drawCanvasButton(_0x1b1bed(0x21b),0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x1b1bed(0x250),0x1,selectedButtonIndex===0x1)):(drawCanvasButton('START\x20GAME',0x0,selectedButtonIndex===0x0),drawCanvasButton(_0x1b1bed(0x215),0x1,selectedButtonIndex===0x1));const _0x9812ef=getMenuButtonRect(0x1);let _0x33bd40;_0x9812ef?_0x33bd40=_0x9812ef['y']+_0x9812ef[_0x1b1bed(0x1f2)]+MENU_BUTTON_SUBTITLE_V_GAP+_0xbcd789/0x2:_0x33bd40=_0x3b9518+_0x539065+MENU_LOGO_BOTTOM_TO_START_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_V_GAP+MENU_BUTTON_HEIGHT+MENU_BUTTON_SUBTITLE_V_GAP+_0xbcd789/0x2,drawCanvasText(MENU_SUBTITLE_TEXT,_0x25a078-0x1,Math[_0x1b1bed(0x246)](_0x33bd40),MENU_SUBTITLE_FONT,MENU_SUBTITLE_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]),gameCtx[_0x1b1bed(0x255)]();}}else{if(gameOverSequenceStartTime===0x0&&!isShowingPlayerGameOverMessage){gameCtx['save']();let _0x3c1558=!showReadyMessage&&!showCsHitsMessage&&!showPerfectMessage&&!showCsBonusScoreMessage&&!showCSClearMessage&&!isCsCompletionDelayActive&&!isShowingIntro&&!isShowingCaptureMessage;_0x3c1558&&(bullets[_0x1b1bed(0x252)](_0x157aae=>{const _0x1f7c47=_0x1b1bed;_0x157aae&&(typeof bulletImage!==_0x1f7c47(0x1b2)&&bulletImage[_0x1f7c47(0x1e0)]?gameCtx[_0x1f7c47(0x1bd)](bulletImage,Math[_0x1f7c47(0x246)](_0x157aae['x']),Math[_0x1f7c47(0x246)](_0x157aae['y']),_0x157aae[_0x1f7c47(0x256)],_0x157aae['height']):(gameCtx['fillStyle']=_0x1f7c47(0x242),gameCtx[_0x1f7c47(0x1d8)](Math['round'](_0x157aae['x']),Math['round'](_0x157aae['y']),_0x157aae[_0x1f7c47(0x256)],_0x157aae['height'])));}),enemyBullets[_0x1b1bed(0x252)](_0x38ca5e=>{const _0x1d0fb9=_0x1b1bed;_0x38ca5e&&(typeof enemyBulletImage!==_0x1d0fb9(0x1b2)&&enemyBulletImage[_0x1d0fb9(0x1e0)]&&enemyBulletImage[_0x1d0fb9(0x1e9)]>0x0?gameCtx[_0x1d0fb9(0x1bd)](enemyBulletImage,Math[_0x1d0fb9(0x246)](_0x38ca5e['x']),Math['round'](_0x38ca5e['y']),_0x38ca5e['width'],_0x38ca5e[_0x1d0fb9(0x1f2)]):(gameCtx[_0x1d0fb9(0x1d6)]=_0x1d0fb9(0x1fe),gameCtx[_0x1d0fb9(0x1d8)](Math[_0x1d0fb9(0x246)](_0x38ca5e['x']),Math['round'](_0x38ca5e['y']),_0x38ca5e[_0x1d0fb9(0x256)],_0x38ca5e[_0x1d0fb9(0x1f2)])));}));enemies[_0x1b1bed(0x252)](_0x7f39c6=>{const _0x8f1cfc=_0x1b1bed;if(_0x7f39c6&&_0x7f39c6['y']<gameCanvas['height']+_0x7f39c6[_0x8f1cfc(0x1f2)]*0x2&&_0x7f39c6['y']>-_0x7f39c6[_0x8f1cfc(0x1f2)]*0x2){gameCtx[_0x8f1cfc(0x240)]();try{let _0x55ac56=null,_0x2ea305=_0x8f1cfc(0x239);const _0x375db5=!isPaused&&_0xea5e55%(ENEMY_ANIMATION_INTERVAL_MS*0x2)>=ENEMY_ANIMATION_INTERVAL_MS;if(_0x7f39c6['type']===ENEMY3_TYPE)_0x55ac56=_0x375db5?bossGalagaImage2:bossGalagaImage,_0x2ea305=_0x8f1cfc(0x210);else _0x7f39c6['type']===ENEMY2_TYPE?(_0x55ac56=_0x375db5?butterflyImage2:butterflyImage,_0x2ea305=_0x8f1cfc(0x221)):(_0x55ac56=_0x375db5?beeImage2:beeImage,_0x2ea305='red');const _0x5afc36=Math[_0x8f1cfc(0x246)](_0x7f39c6['x']),_0x34f235=Math[_0x8f1cfc(0x246)](_0x7f39c6['y']),_0x59d1b2=_0x7f39c6[_0x8f1cfc(0x256)],_0x31993b=_0x7f39c6[_0x8f1cfc(0x1f2)],_0x541c07=_0x7f39c6['type']===ENEMY3_TYPE&&_0x7f39c6[_0x8f1cfc(0x19d)],_0x36854e=!isPaused&&(_0x7f39c6[_0x8f1cfc(0x212)]===_0x8f1cfc(0x1a4)||_0x7f39c6[_0x8f1cfc(0x212)]===_0x8f1cfc(0x1d2)||_0x7f39c6[_0x8f1cfc(0x212)]===_0x8f1cfc(0x1a6))&&_0x7f39c6['y']>-_0x7f39c6[_0x8f1cfc(0x1f2)]*0.5&&(Math[_0x8f1cfc(0x24d)](_0x7f39c6[_0x8f1cfc(0x199)])>0.1||Math[_0x8f1cfc(0x24d)](_0x7f39c6[_0x8f1cfc(0x24e)])>0.1),_0xe400f4=_0x7f39c6[_0x8f1cfc(0x212)]===_0x8f1cfc(0x1ed)&&_0x7f39c6[_0x8f1cfc(0x1c2)]===ENEMY3_TYPE&&_0x7f39c6[_0x8f1cfc(0x1f4)]&&_0x7f39c6['capturedShipDimensions']&&typeof _0x7f39c6[_0x8f1cfc(0x206)]==='number'&&typeof _0x7f39c6[_0x8f1cfc(0x1db)]==='number'&&typeof _0x7f39c6[_0x8f1cfc(0x1f7)]===_0x8f1cfc(0x23d),_0x3f75c3=_0x7f39c6[_0x8f1cfc(0x212)]!==_0x8f1cfc(0x1ed)&&_0x7f39c6['type']===ENEMY3_TYPE&&_0x7f39c6[_0x8f1cfc(0x1f4)]&&_0x7f39c6[_0x8f1cfc(0x222)],_0x3a04ef=_0xe400f4||_0x3f75c3?_0x7f39c6['capturedShipDimensions']['width']:0x0,_0x424d96=_0xe400f4||_0x3f75c3?_0x7f39c6['capturedShipDimensions'][_0x8f1cfc(0x1f2)]:0x0;let _0x221453=0x0,_0x163869=0x0;if(_0xe400f4)_0x221453=Math[_0x8f1cfc(0x246)](_0x7f39c6['capturedShipX']),_0x163869=Math[_0x8f1cfc(0x246)](_0x7f39c6[_0x8f1cfc(0x1db)]);else _0x3f75c3&&(_0x221453=Math['round'](_0x7f39c6['x']+CAPTURED_SHIP_OFFSET_X),_0x163869=Math['round'](_0x7f39c6['y']+CAPTURED_SHIP_OFFSET_Y));const _0xcf91d0=(_0x1b2472,_0x7435d,_0x123a48,_0x16e21b)=>{const _0x36a57b=_0x8f1cfc;typeof _0x55ac56!==_0x36a57b(0x1b2)&&_0x55ac56['complete']&&_0x55ac56['naturalHeight']!==0x0?gameCtx['drawImage'](_0x55ac56,_0x1b2472,_0x7435d,_0x123a48,_0x16e21b):(gameCtx['fillStyle']=_0x2ea305,gameCtx[_0x36a57b(0x1d8)](_0x1b2472,_0x7435d,_0x123a48,_0x16e21b)),_0x541c07&&(gameCtx[_0x36a57b(0x1a7)]=_0x36a57b(0x1b6),gameCtx[_0x36a57b(0x1d6)]='rgba(0,\x200,\x20139,\x200.5)',gameCtx[_0x36a57b(0x1d8)](_0x1b2472,_0x7435d,_0x123a48,_0x16e21b),gameCtx[_0x36a57b(0x1a7)]=_0x36a57b(0x209));};if(_0x36854e){const _0x42f8bb=_0x5afc36+_0x59d1b2/0x2,_0x13c087=_0x34f235+_0x31993b/0x2;gameCtx[_0x8f1cfc(0x1b9)](_0x42f8bb,_0x13c087);let _0x12f22f=Math[_0x8f1cfc(0x1d3)](_0x7f39c6[_0x8f1cfc(0x24e)],_0x7f39c6[_0x8f1cfc(0x199)])+Math['PI']/0x2;if(_0x7f39c6[_0x8f1cfc(0x1c2)]===ENEMY3_TYPE&&_0x7f39c6[_0x8f1cfc(0x212)]===_0x8f1cfc(0x1a4))_0x12f22f+=Math['PI'];gameCtx['rotate'](_0x12f22f),_0xcf91d0(-_0x59d1b2/0x2,-_0x31993b/0x2,_0x59d1b2,_0x31993b);if(_0x3f75c3&&typeof shipImage!==_0x8f1cfc(0x1b2)&&shipImage[_0x8f1cfc(0x1e0)]){gameCtx['globalAlpha']=0.8;const _0x367fed=CAPTURED_SHIP_OFFSET_X,_0x19338b=CAPTURED_SHIP_OFFSET_Y;gameCtx[_0x8f1cfc(0x1bd)](shipImage,_0x367fed-_0x3a04ef/0x2,_0x19338b-_0x424d96/0x2,_0x3a04ef,_0x424d96),gameCtx[_0x8f1cfc(0x1df)]=0x1,gameCtx[_0x8f1cfc(0x240)](),gameCtx[_0x8f1cfc(0x1d6)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x8f1cfc(0x1a7)]=_0x8f1cfc(0x1b6),gameCtx['fillRect'](_0x367fed-_0x3a04ef/0x2,_0x19338b-_0x424d96/0x2,_0x3a04ef,_0x424d96),gameCtx['restore']();}gameCtx[_0x8f1cfc(0x1d0)](-_0x12f22f),gameCtx[_0x8f1cfc(0x1b9)](-_0x42f8bb,-_0x13c087);}else _0xcf91d0(_0x5afc36,_0x34f235,_0x59d1b2,_0x31993b),_0x3f75c3&&typeof shipImage!==_0x8f1cfc(0x1b2)&&shipImage['complete']&&(gameCtx[_0x8f1cfc(0x1df)]=0.8,gameCtx[_0x8f1cfc(0x1bd)](shipImage,_0x221453,_0x163869,_0x3a04ef,_0x424d96),gameCtx['globalAlpha']=0x1,gameCtx[_0x8f1cfc(0x240)](),gameCtx[_0x8f1cfc(0x1d6)]=CAPTURED_SHIP_TINT_COLOR,gameCtx['globalCompositeOperation']='source-atop',gameCtx[_0x8f1cfc(0x1d8)](_0x221453,_0x163869,_0x3a04ef,_0x424d96),gameCtx[_0x8f1cfc(0x255)]());if(_0xe400f4&&typeof shipImage!==_0x8f1cfc(0x1b2)&&shipImage['complete']){gameCtx['save']();const _0x2a586f=_0x221453+_0x3a04ef/0x2,_0x1b17f4=_0x163869+_0x424d96/0x2;gameCtx[_0x8f1cfc(0x1b9)](_0x2a586f,_0x1b17f4),gameCtx[_0x8f1cfc(0x1d0)](_0x7f39c6[_0x8f1cfc(0x1f7)]),gameCtx['globalAlpha']=0.8,gameCtx[_0x8f1cfc(0x1bd)](shipImage,-_0x3a04ef/0x2,-_0x424d96/0x2,_0x3a04ef,_0x424d96),gameCtx[_0x8f1cfc(0x1df)]=0x1,gameCtx[_0x8f1cfc(0x240)](),gameCtx[_0x8f1cfc(0x1d6)]=CAPTURED_SHIP_TINT_COLOR,gameCtx[_0x8f1cfc(0x1a7)]='source-atop',gameCtx['fillRect'](-_0x3a04ef/0x2,-_0x424d96/0x2,_0x3a04ef,_0x424d96),gameCtx[_0x8f1cfc(0x255)](),gameCtx[_0x8f1cfc(0x255)]();}}catch(_0x195fcd){console[_0x8f1cfc(0x1ce)](_0x8f1cfc(0x1fc),_0x195fcd),gameCtx[_0x8f1cfc(0x1d6)]=_0x8f1cfc(0x208),gameCtx[_0x8f1cfc(0x1d8)](Math[_0x8f1cfc(0x246)](_0x7f39c6['x']),Math[_0x8f1cfc(0x246)](_0x7f39c6['y']),_0x7f39c6[_0x8f1cfc(0x256)],_0x7f39c6[_0x8f1cfc(0x1f2)]);}finally{gameCtx['restore']();}}});if(captureBeamActive&&capturingBossId&&captureBeamProgress>0x0){gameCtx[_0x1b1bed(0x240)]();const _0x2cb0c1=0.4+(Math[_0x1b1bed(0x218)](_0xea5e55*CAPTURE_BEAM_PULSE_SPEED)+0x1)/0x2*0.6,_0xdd21b2=captureBeamProgress;gameCtx['globalAlpha']=_0xdd21b2*_0x2cb0c1;const _0x39ab2c=enemies['find'](_0x4bdcac=>_0x4bdcac['id']===capturingBossId);if(_0x39ab2c){const _0xbff499=_0x39ab2c['x']+BOSS_WIDTH/0x2,_0x38dd1a=_0x39ab2c['y']+BOSS_HEIGHT,_0xe89200=gameCanvas[_0x1b1bed(0x1f2)]-LIFE_ICON_MARGIN_BOTTOM-LIFE_ICON_SIZE-0xa,_0x4e3328=BOSS_WIDTH*CAPTURE_BEAM_WIDTH_TOP_FACTOR,_0x1f094e=SHIP_WIDTH*CAPTURE_BEAM_WIDTH_BOTTOM_FACTOR;if(_0x38dd1a<_0xe89200){const _0x4e843a=gameCtx['createLinearGradient'](_0xbff499,_0x38dd1a,_0xbff499,_0xe89200);_0x4e843a[_0x1b1bed(0x19f)](0x0,CAPTURE_BEAM_COLOR_START),_0x4e843a['addColorStop'](0x1,CAPTURE_BEAM_COLOR_END),gameCtx[_0x1b1bed(0x1d6)]=_0x4e843a,gameCtx[_0x1b1bed(0x1ea)](),gameCtx[_0x1b1bed(0x1dd)](_0xbff499-_0x4e3328/0x2,_0x38dd1a),gameCtx['lineTo'](_0xbff499+_0x4e3328/0x2,_0x38dd1a),gameCtx['lineTo'](_0xbff499+_0x1f094e/0x2,_0xe89200),gameCtx['lineTo'](_0xbff499-_0x1f094e/0x2,_0xe89200),gameCtx['closePath'](),gameCtx[_0x1b1bed(0x20e)]();}}gameCtx['restore']();}renderExplosions(),renderFloatingScores(),renderHitSparks();let _0xbfe7ff=![];const _0x5b3f43=gameCanvas['height']/0x2,_0x50de99=gameCanvas['width']/0x2,_0x3c82c3='NUMBER\x20OF\x20HITS\x20'+challengingStageEnemiesHit,_0x5296ea='BONUS\x20'+scoreEarnedThisCS;if(isPaused)drawCanvasText(_0x1b1bed(0x21e),_0x50de99,_0x5b3f43,PAUSE_TEXT_FONT,PAUSE_TEXT_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),PAUSE_TEXT_SHADOW),_0xbfe7ff=!![];else{if(isShowingCaptureMessage)drawCanvasText(_0x1b1bed(0x213),_0x50de99,_0x5b3f43-0x28,INTRO_TEXT_FONT,_0x1b1bed(0x1c8),_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]),_0xbfe7ff=!![];else{if(showCsBonusScoreMessage||showPerfectMessage||showCsHitsMessage)drawCanvasText(_0x3c82c3,_0x50de99,_0x5b3f43,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,'center',_0x1b1bed(0x20d),!![]),_0xbfe7ff=!![],(showCsBonusScoreMessage||showPerfectMessage)&&drawCanvasText(_0x1b1bed(0x214),_0x50de99,_0x5b3f43-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,PERFECT_TEXT_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]),showCsBonusScoreMessage&&drawCanvasText(_0x1b1bed(0x1b5),_0x50de99,_0x5b3f43+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_BONUS_SCORE_TEXT_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]);else{if(showCSClearMessage)drawCanvasText(_0x1b1bed(0x224),_0x50de99,_0x5b3f43-CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_TEXT_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]),_0xbfe7ff=!![],showCsHitsForClearMessage&&drawCanvasText(_0x3c82c3,_0x50de99,_0x5b3f43,INTRO_TEXT_FONT,CS_HITS_TEXT_COLOR,_0x1b1bed(0x247),'middle',!![]),showCsScoreForClearMessage&&drawCanvasText(_0x5296ea,_0x50de99,_0x5b3f43+CS_MESSAGE_VERTICAL_OFFSET,INTRO_TEXT_FONT,CS_CLEAR_SCORE_TEXT_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]);else{if(showExtraLifeMessage)drawCanvasText(_0x1b1bed(0x1ca),_0x50de99,_0x5b3f43,INTRO_TEXT_FONT,EXTRA_LIFE_TEXT_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]),_0xbfe7ff=!![];else{if(isShowingIntro){let _0x1d34d8='',_0x2dcb99=INTRO_TEXT_COLOR_NORMAL;if(introStep===0x1)_0x1d34d8=!isManualControl?_0x1b1bed(0x1c9):'PLAYER\x20'+(isTwoPlayerMode?currentPlayer:0x1);else{if(introStep===0x2)_0x1d34d8='STAGE\x20'+level;else introStep===0x3&&(_0x1d34d8='CHALLENGING\x20STAGE',_0x2dcb99=INTRO_TEXT_COLOR_CS_TEXT,!csIntroSoundPlayed&&(playSound(entranceSound),csIntroSoundPlayed=!![]));}_0x1d34d8&&(drawCanvasText(_0x1d34d8,_0x50de99,_0x5b3f43,INTRO_TEXT_FONT,_0x2dcb99,'center',_0x1b1bed(0x20d),!![]),_0xbfe7ff=!![]);}else{if(showReadyMessage)drawCanvasText(_0x1b1bed(0x22c),_0x50de99,_0x5b3f43,INTRO_TEXT_FONT,READY_TEXT_COLOR,'center',_0x1b1bed(0x20d),!![]),_0xbfe7ff=!![];else{if(!isManualControl&&isShowingDemoText&&!_0xbfe7ff&&!isEntrancePhaseActive&&!isCsCompletionDelayActive){const _0x57abd6=DEMO_TEXT_BLINK_CYCLE_MS*1.5,_0x55f4cd=DEMO_TEXT_BLINK_ON_MS*1.5;_0xea5e55%_0x57abd6<_0x55f4cd&&drawCanvasText(_0x1b1bed(0x258),_0x50de99,_0x5b3f43,DEMO_TEXT_LINE1_FONT,DEMO_TEXT_COLOR,'center',_0x1b1bed(0x20d),!![]);}}}}}}}}gameCtx[_0x1b1bed(0x255)]();}else{if(isShowingPlayerGameOverMessage){const _0x112c9b=_0x1b1bed(0x1eb)+playerWhoIsGameOver,_0x3b9398=RESULTS_LINE_V_SPACING_SINGLE,_0x57fca7=gameCanvas['height']*0.45;drawCanvasText(_0x112c9b,gameCanvas[_0x1b1bed(0x256)]/0x2,_0x57fca7-_0x3b9398/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]),drawCanvasText(_0x1b1bed(0x200),gameCanvas['width']/0x2,_0x57fca7+_0x3b9398/0x2,INTRO_TEXT_FONT,INTRO_TEXT_COLOR_NORMAL,'center','middle',!![]);}else{if(gameOverSequenceStartTime>0x0){const _0x32f1d2=_0xea5e55-gameOverSequenceStartTime,_0x166b3e=_0x32f1d2<GAME_OVER_DURATION,_0x18c1dc=_0x32f1d2>=GAME_OVER_DURATION;if(_0x166b3e)drawCanvasText('GAME\x20OVER',gameCanvas[_0x1b1bed(0x256)]/0x2,gameCanvas[_0x1b1bed(0x1f2)]/0x2,GAME_OVER_FONT,GAME_OVER_COLOR,_0x1b1bed(0x247),_0x1b1bed(0x20d),GAME_OVER_SHADOW);else{if(_0x18c1dc){gameCtx[_0x1b1bed(0x240)]();const _0x194fa4=gameCanvas[_0x1b1bed(0x256)]/0x2,_0x32acf5=gameCanvas[_0x1b1bed(0x256)];let _0x42e075=RESULTS_START_Y+RESULTS_LINE_V_SPACING_SINGLE;const _0x582df9=(_0x169ba6,_0xc8be73,_0x132661,_0x45d139,_0x470ec3,_0x325bac,_0x5d68c2,_0x1ef018)=>{const _0x198781=_0x1b1bed;let _0x1a96e1=_0x1ef018;const _0x3043ba=RESULTS_VALUE_COLOR_YELLOW,_0x681647=RESULTS_VALUE_COLOR_CYAN;drawCanvasText(_0x198781(0x1f9),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_HEADER_COLOR,_0x198781(0x247),_0x198781(0x21a),!![]),_0x1a96e1+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x169ba6,_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,_0x198781(0x1fe),_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x198781(0x23f),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,_0x3043ba,'center',_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x325bac[_0x198781(0x1cf)](),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,_0x681647,'center',_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x198781(0x228),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0xc8be73[_0x198781(0x1cf)](),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x198781(0x1ef),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x132661['toString'](),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,'center','middle',![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x198781(0x211),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x45d139[_0x198781(0x1cf)](),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE,drawCanvasText(_0x198781(0x20f),_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_YELLOW,_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE*0.8,drawCanvasText(_0x470ec3,_0x5d68c2,_0x1a96e1,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x198781(0x247),_0x198781(0x20d),![]),_0x1a96e1+=RESULTS_LINE_V_SPACING_SINGLE*1.5-0xa,drawCanvasText(_0x198781(0x1f1),_0x5d68c2,_0x1a96e1,RESULTS_FOOTER_FONT,RESULTS_FOOTER_COLOR,'center','middle',![]);};if(isTwoPlayerMode){const _0x103100=player1ShotsFired||0x0,_0x176c5f=player1EnemiesHit||0x0,_0x2c77ab=_0x103100>0x0?Math[_0x1b1bed(0x246)](_0x176c5f/_0x103100*0x64)+'%':'0%',_0x1dbd6d=player2ShotsFired||0x0,_0x2f23f5=player2EnemiesHit||0x0,_0x136681=_0x1dbd6d>0x0?Math[_0x1b1bed(0x246)](_0x2f23f5/_0x1dbd6d*0x64)+'%':'0%',_0x54fa78=_0x32acf5*0.4,_0x199bda=_0x32acf5*0.1,_0x13edd2=_0x194fa4-_0x199bda/0x2-_0x54fa78/0x2+_0x54fa78*0.1,_0x28b5b5=_0x194fa4+_0x199bda/0x2+_0x54fa78/0x2-_0x54fa78*0.1,_0x525b9c=_0x1b1bed(0x22d);_0x582df9(_0x525b9c,player1Score,_0x103100,_0x176c5f,_0x2c77ab,player1MaxLevelReached,_0x13edd2,_0x42e075),_0x582df9(_0x1b1bed(0x205),player2Score,_0x1dbd6d,_0x2f23f5,_0x136681,player2MaxLevelReached,_0x28b5b5,_0x42e075);let _0x3e4826=0x0;if(player1Score>player2Score)_0x3e4826=0x1;else{if(player2Score>player1Score)_0x3e4826=0x2;}if(_0x3e4826>0x0){let _0x1b3431=_0x42e075;_0x1b3431+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x1b3431+=RESULTS_LINE_V_SPACING_SINGLE;let _0x50114e=_0x42e075;_0x50114e+=getSubtitleApproxHeight(INTRO_TEXT_FONT)+RESULTS_LINE_V_SPACING_SINGLE,_0x50114e+=RESULTS_LINE_V_SPACING_SINGLE;const _0x554622='PLAYER\x20'+_0x3e4826,_0x11aff9='WINS';drawCanvasText(_0x554622,_0x194fa4,_0x50114e,INTRO_TEXT_FONT,_0x1b1bed(0x1fe),_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]),drawCanvasText(_0x11aff9,_0x194fa4,_0x50114e+RESULTS_LINE_V_SPACING_SINGLE,INTRO_TEXT_FONT,RESULTS_VALUE_COLOR_CYAN,_0x1b1bed(0x247),_0x1b1bed(0x20d),!![]);}}else{const _0x5c8448=player1ShotsFired||0x0,_0x5b9c37=player1EnemiesHit||0x0,_0x3c6cce=wasLastGameAIDemo?score:player1Score,_0x514ef9=wasLastGameAIDemo?level:player1MaxLevelReached,_0x39b622=_0x5c8448>0x0?Math['round'](_0x5b9c37/_0x5c8448*0x64)+'%':'0%',_0x39a645=wasLastGameAIDemo?_0x1b1bed(0x1c9):_0x1b1bed(0x22d);_0x582df9(_0x39a645,_0x3c6cce,_0x5c8448,_0x5b9c37,_0x39b622,_0x514ef9,_0x194fa4,_0x42e075);}gameCtx[_0x1b1bed(0x255)]();}}}}}}}catch(_0x3ab9b5){console['error']('Error\x20in\x20renderGame:',_0x3ab9b5,_0x3ab9b5[_0x1b1bed(0x1fd)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null;try{gameCtx&&gameCanvas&&(gameCtx['fillStyle']='red',gameCtx[_0x1b1bed(0x1e4)]=_0x1b1bed(0x22f),gameCtx['textAlign']=_0x1b1bed(0x247),gameCtx[_0x1b1bed(0x1a2)](_0x1b1bed(0x1ba),gameCanvas[_0x1b1bed(0x256)]/0x2,gameCanvas[_0x1b1bed(0x1f2)]/0x2));}catch(_0x3e92e6){}try{showMenuState();}catch(_0x2b9174){}}}function hideCursor(){const _0x122a68=_0x25254e;gameCanvas&&(gameCanvas['style'][_0x122a68(0x1c0)]=_0x122a68(0x238)),mouseIdleTimerId=null;}function handleCanvasMouseMove(_0x44be77){const _0x3e13c1=_0x25254e;if(!gameCanvas)return;clearTimeout(mouseIdleTimerId),mouseIdleTimerId=null;let _0x48311b=_0x3e13c1(0x1f6);const _0x37688d=!isInGameState||isShowingScoreScreen||gameOverSequenceStartTime>0x0&&Date[_0x3e13c1(0x1c6)]()-gameOverSequenceStartTime>=GAME_OVER_DURATION;let _0x2d9834=![],_0x486d50=selectedButtonIndex;if(_0x37688d){const _0x45a10d=gameCanvas[_0x3e13c1(0x1e8)](),_0x4bda32=gameCanvas['width']/_0x45a10d[_0x3e13c1(0x256)],_0x28416e=gameCanvas['height']/_0x45a10d[_0x3e13c1(0x1f2)],_0x22faad=(_0x44be77[_0x3e13c1(0x1f3)]-_0x45a10d[_0x3e13c1(0x1d4)])*_0x4bda32,_0x36fa57=(_0x44be77[_0x3e13c1(0x21d)]-_0x45a10d[_0x3e13c1(0x21a)])*_0x28416e,_0x4bfb93=getMenuButtonRect(0x0),_0x555e6b=getMenuButtonRect(0x1);if(_0x4bfb93&&checkCollision({'x':_0x22faad,'y':_0x36fa57,'width':0x1,'height':0x1},_0x4bfb93))_0x486d50=0x0,_0x2d9834=!![];else _0x555e6b&&checkCollision({'x':_0x22faad,'y':_0x36fa57,'width':0x1,'height':0x1},_0x555e6b)?(_0x486d50=0x1,_0x2d9834=!![]):(_0x486d50=-0x1,_0x2d9834=![]);_0x486d50!==selectedButtonIndex&&(selectedButtonIndex=_0x486d50,_0x2d9834&&stopAutoDemoTimer()),_0x48311b=_0x2d9834?'pointer':_0x3e13c1(0x1f6);}else _0x48311b='default',selectedButtonIndex=-0x1;gameCanvas[_0x3e13c1(0x1b4)][_0x3e13c1(0x1c0)]=_0x48311b,mouseIdleTimerId=setTimeout(hideCursor,0x7d0);if(!isInGameState){const _0x411d53=Date[_0x3e13c1(0x1c6)]();if(_0x411d53-lastMouseMoveResetTime>0x1f4){if(typeof startAutoDemoTimer===_0x3e13c1(0x1bf))startAutoDemoTimer();lastMouseMoveResetTime=_0x411d53;}}}function mainLoop(_0x33a701){const _0xb2d83d=_0x25254e;try{drawStars();retroGridCtx&&retroGridCanvas&&drawRetroGrid();pollControllerForMenu();if(isInGameState&&!isPaused){if(!isManualControl&&connectedGamepadIndex!==null){const _0xf0f6bf=navigator[_0xb2d83d(0x217)]();if(_0xf0f6bf?.[connectedGamepadIndex]){const _0x306d18=_0xf0f6bf[connectedGamepadIndex],_0x528503=_0x306d18[_0xb2d83d(0x1a0)][_0xb2d83d(0x216)](_0x254889=>_0x254889['pressed']);let _0x54ce6b=![];for(let _0x4e29df=0x0;_0x4e29df<_0x528503['length'];_0x4e29df++){if(_0x4e29df===PS5_BUTTON_R1||_0x4e29df===PS5_BUTTON_TRIANGLE)continue;if(_0x528503[_0x4e29df]&&!(previousDemoButtonStates[_0x4e29df]??![])){_0x54ce6b=!![];break;}}if(_0x54ce6b){const _0x5469aa=_0x528503[_0xb2d83d(0x1b3)]();showMenuState(),requestAnimationFrame(mainLoop);return;}previousDemoButtonStates=_0x528503[_0xb2d83d(0x1b3)]();}else{if(previousDemoButtonStates[_0xb2d83d(0x1a1)]>0x0)previousDemoButtonStates=[];}}else{if(previousDemoButtonStates['length']>0x0)previousDemoButtonStates=[];}if(typeof runSingleGameUpdate===_0xb2d83d(0x1bf))runSingleGameUpdate(_0x33a701);else{console[_0xb2d83d(0x1ce)](_0xb2d83d(0x22b));if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,showMenuState(),requestAnimationFrame(mainLoop);return;}if(gameOverSequenceStartTime>0x0){const _0x1210b1=Date['now'](),_0x29f79c=_0x1210b1-gameOverSequenceStartTime,_0x49946a=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x29f79c>=_0x49946a){showMenuState(),requestAnimationFrame(mainLoop);return;}}}else{if(isShowingScoreScreen){const _0x109ec4=Date[_0xb2d83d(0x1c6)]()-scoreScreenStartTime;if(_0x109ec4>=SCORE_SCREEN_DURATION){startAIDemo(),requestAnimationFrame(mainLoop);return;}if(typeof renderGame==='function')renderGame();}else{if(isInGameState&&gameOverSequenceStartTime>0x0){if(typeof renderGame===_0xb2d83d(0x1bf))renderGame();const _0x496ea7=Date['now'](),_0x5b51c5=_0x496ea7-gameOverSequenceStartTime,_0x38eaea=GAME_OVER_DURATION+RESULTS_SCREEN_DURATION;if(_0x5b51c5>=_0x38eaea){showMenuState(),requestAnimationFrame(mainLoop);return;}}else{if(isInGameState&&isPaused){if(typeof renderGame===_0xb2d83d(0x1bf))renderGame();}else{if(isInGameState&&isCsCompletionDelayActive){if(typeof runSingleGameUpdate==='function')runSingleGameUpdate(_0x33a701);else{if(typeof renderGame==='function')renderGame();}}else{if(isInGameState&&isShowingPlayerGameOverMessage){if(typeof runSingleGameUpdate===_0xb2d83d(0x1bf))runSingleGameUpdate(_0x33a701);else{if(typeof renderGame===_0xb2d83d(0x1bf))renderGame();}}else{if(typeof renderGame==='function')renderGame();}}}}}}mainLoopId=requestAnimationFrame(mainLoop);}catch(_0x4a88a2){console['error'](_0xb2d83d(0x244),_0x4a88a2,_0x4a88a2[_0xb2d83d(0x1fd)]);if(mainLoopId)cancelAnimationFrame(mainLoopId);mainLoopId=null,isPaused=![];const _0x19b070=[gridBackgroundSound,entranceSound,butterflyDiveSound,startSound,coinSound,bossGalagaDiveSound,enemyShootSound,levelUpSound,gameOverSound,playerShootSound,extraLifeSound,csPerfectSound,csClearSound,explosionSound,waveUpSound,menuMusicSound,readySound,tripleAttackSound,captureSound,shipCapturedSound,dualShipSound];_0x19b070[_0xb2d83d(0x252)](_0xa7d510=>stopSound(_0xa7d510)),isGridSoundPlaying=![];try{showMenuState();}catch(_0x472399){console['error'](_0xb2d83d(0x19c),_0x472399),document[_0xb2d83d(0x20c)][_0xb2d83d(0x234)]=_0xb2d83d(0x226);}}}function startMainLoop(){const _0x460a34=_0x25254e;mainLoopId===null?(gridOffsetY=0x0,mainLoop()):console['warn'](_0x460a34(0x1b0));}function initializeGame(){const _0x543a9b=_0x25254e;try{if(typeof initializeDOMElements===_0x543a9b(0x1bf)){if(!initializeDOMElements()){console[_0x543a9b(0x1ce)](_0x543a9b(0x220));return;}}else{console[_0x543a9b(0x1ce)](_0x543a9b(0x223));return;}if(typeof loadHighScore===_0x543a9b(0x1bf))loadHighScore();else console[_0x543a9b(0x19a)]('loadHighScore\x20function\x20not\x20found.');if(typeof defineNormalWaveEntrancePaths===_0x543a9b(0x1bf))defineNormalWaveEntrancePaths();else console['error'](_0x543a9b(0x207));if(typeof defineChallengingStagePaths===_0x543a9b(0x1bf))defineChallengingStagePaths();else console[_0x543a9b(0x1ce)]('defineChallengingStagePaths\x20not\x20found!');window[_0x543a9b(0x22e)](_0x543a9b(0x241),handleKeyDown),window['addEventListener'](_0x543a9b(0x1dc),handleKeyUp);gameCanvas?(gameCanvas[_0x543a9b(0x22e)]('click',handleCanvasClick),gameCanvas[_0x543a9b(0x22e)]('mousemove',handleCanvasMouseMove)):console[_0x543a9b(0x1ce)](_0x543a9b(0x1bb));window[_0x543a9b(0x22e)]('gamepadconnected',handleGamepadConnected),window[_0x543a9b(0x22e)]('gamepaddisconnected',handleGamepadDisconnected),window[_0x543a9b(0x22e)](_0x543a9b(0x21f),resizeCanvases),showMenuState();if(typeof resizeCanvases==='function')resizeCanvases();else console['error'](_0x543a9b(0x1c1));startMainLoop();}catch(_0x2ad463){console[_0x543a9b(0x1ce)](_0x543a9b(0x235),_0x2ad463,_0x2ad463[_0x543a9b(0x1fd)]),document[_0x543a9b(0x20c)][_0x543a9b(0x234)]='<div\x20style=\x22color:white;\x20padding:\x2020px;\x20font-family:\x20sans-serif;\x22><h1>Fatal\x20Initialization\x20Error</h1><p>The\x20game\x20could\x20not\x20be\x20started.\x20Please\x20check\x20the\x20browser\x20console\x20(F12)\x20for\x20details.</p><p>Error:\x20'+_0x2ad463[_0x543a9b(0x1da)]+'</p></div>',mainLoopId&&(cancelAnimationFrame(mainLoopId),mainLoopId=null);}}window[_0x25254e(0x22e)](_0x25254e(0x1ae),initializeGame);